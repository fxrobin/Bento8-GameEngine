                      (nullBootT2Loader.):00001         ********************************************************************************
                      (nullBootT2Loader.):00002         * Boot loader T2Loader - Benoit Rousseau 29/04/2021
                      (nullBootT2Loader.):00003         * ------------------------------------------------------------------------------
                      (nullBootT2Loader.):00004         * 
                      (nullBootT2Loader.):00005         * Description
                      (nullBootT2Loader.):00006         * -----------
                      (nullBootT2Loader.):00007         * Permet de programmer une MEGAROM T.2 depuis SDDRIVE avec un seul fichier SD
                      (nullBootT2Loader.):00008         *
                      (nullBootT2Loader.):00009         ********************************************************************************
                      (nullBootT2Loader.):00010                 INCLUDE "./Engine/Macros.asm"          
0000                  (./Engine/Macros.a):00001         _ldd MACRO
                      (./Engine/Macros.a):00002                 ldd   #(\1*256)+\2
                      (./Engine/Macros.a):00003          ENDM
                      (./Engine/Macros.a):00004          
0000                  (./Engine/Macros.a):00005         _ldx MACRO
                      (./Engine/Macros.a):00006                 ldx   #(\1*256)+\2
                      (./Engine/Macros.a):00007          ENDM
                      (./Engine/Macros.a):00008          
0000                  (./Engine/Macros.a):00009         _ldy MACRO
                      (./Engine/Macros.a):00010                 ldy   #(\1*256)+\2
                      (./Engine/Macros.a):00011          ENDM
                      (./Engine/Macros.a):00012          
0000                  (./Engine/Macros.a):00013         _ldu MACRO
                      (./Engine/Macros.a):00014                 ldu   #(\1*256)+\2
                      (./Engine/Macros.a):00015          ENDM  
                      (./Engine/Macros.a):00016          
0000                  (./Engine/Macros.a):00017         _lds MACRO
                      (./Engine/Macros.a):00018                 lds   #(\1*256)+\2
                      (./Engine/Macros.a):00019          ENDM   
                      (./Engine/Macros.a):00020          
0000                  (./Engine/Macros.a):00021         _SetCartPageA MACRO
                      (./Engine/Macros.a):00022          IFDEF T2
                      (./Engine/Macros.a):00023                 bpl   RAMPg@
                      (./Engine/Macros.a):00024                 sta   Glb_Page
                      (./Engine/Macros.a):00025                 
                      (./Engine/Macros.a):00026                 lda   $E7E6
                      (./Engine/Macros.a):00027                 anda  #$DF                     ; passe le bit5 a 0 pour cartouche au lieu de 1 pour RAM
                      (./Engine/Macros.a):00028                 sta   $E7E6                    ; TODO eventuellement a remplacer par un clr au lieu des trois instr.
                      (./Engine/Macros.a):00029                 
                      (./Engine/Macros.a):00030                 lda   #$F0                     ; sortie du mode commande T.2
                      (./Engine/Macros.a):00031                 sta   $0555                    ; dans le cas ou l'irq intervient en cours de changement de page        
                      (./Engine/Macros.a):00032                 lda   #$AA                     ; sequence pour commutation de page T.2
                      (./Engine/Macros.a):00033                 sta   $0555
                      (./Engine/Macros.a):00034                 lda   #$55
                      (./Engine/Macros.a):00035                 sta   $02AA
                      (./Engine/Macros.a):00036                 lda   #$C0
                      (./Engine/Macros.a):00037                 sta   $0555
                      (./Engine/Macros.a):00038                 lda   Glb_Page
                      (./Engine/Macros.a):00039                 suba  #$80        
                      (./Engine/Macros.a):00040                 sta   $0555                    ; selection de la page T.2 en zone cartouche
                      (./Engine/Macros.a):00041                 bra   End@
0000                  (./Engine/Macros.a):00042         RAMPg@  sta   Glb_Page                 ; selection de la page RAM en zone cartouche (bit 5 integre au numero de page)
                      (./Engine/Macros.a):00043                 sta   $E7E6 
0000                  (./Engine/Macros.a):00044         End@    equ   *
                      (./Engine/Macros.a):00045          ELSE
                      (./Engine/Macros.a):00046                 sta   $E7E6                    ; selection de la page RAM en zone cartouche
                      (./Engine/Macros.a):00047          ENDC
                      (./Engine/Macros.a):00048          ENDM      
                      (./Engine/Macros.a):00049          
0000                  (./Engine/Macros.a):00050         _GetCartPageA MACRO
                      (./Engine/Macros.a):00051          IFDEF T2
                      (./Engine/Macros.a):00052                 lda   Glb_Page
                      (./Engine/Macros.a):00053          ELSE
                      (./Engine/Macros.a):00054                 lda   $E7E6
                      (./Engine/Macros.a):00055          ENDC
                      (./Engine/Macros.a):00056          ENDM
                      (./Engine/Macros.a):00057         
0000                  (./Engine/Macros.a):00058         _SetCartPageB MACRO
                      (./Engine/Macros.a):00059          IFDEF T2
                      (./Engine/Macros.a):00060                 bpl   RAMPg@
                      (./Engine/Macros.a):00061                 stb   Glb_Page
                      (./Engine/Macros.a):00062                 
                      (./Engine/Macros.a):00063                 ldb   $E7E6
                      (./Engine/Macros.a):00064                 andb  #$DF                     ; passe le bit5 a 0 pour cartouche au lieu de 1 pour RAM
                      (./Engine/Macros.a):00065                 stb   $E7E6                    ; TODO eventuellement a remplacer par un clr au lieu des trois instr.
                      (./Engine/Macros.a):00066                 
                      (./Engine/Macros.a):00067                 ldb   #$F0                     ; sortie du mode commande T.2
                      (./Engine/Macros.a):00068                 stb   $0555                    ; dans le cas ou l'irq intervient en cours de changement de page        
                      (./Engine/Macros.a):00069                 ldb   #$AA                     ; sequence pour commutation de page T.2
                      (./Engine/Macros.a):00070                 stb   $0555
                      (./Engine/Macros.a):00071                 ldb   #$55
                      (./Engine/Macros.a):00072                 stb   $02AA
                      (./Engine/Macros.a):00073                 ldb   #$C0
                      (./Engine/Macros.a):00074                 stb   $0555
                      (./Engine/Macros.a):00075                 ldb   Glb_Page
                      (./Engine/Macros.a):00076                 subb  #$80
                      (./Engine/Macros.a):00077                 stb   $0555                    ; selection de la page T.2 en zone cartouche
                      (./Engine/Macros.a):00078                 bra   End@
0000                  (./Engine/Macros.a):00079         RAMPg@  stb   Glb_Page                 ; selection de la page RAM en zone cartouche (bit 5 integre au numero de page)
                      (./Engine/Macros.a):00080                 stb   $E7E6 
0000                  (./Engine/Macros.a):00081         End@    equ   *
                      (./Engine/Macros.a):00082          ELSE
                      (./Engine/Macros.a):00083                 stb   $E7E6                    ; selection de la page RAM en zone cartouche
                      (./Engine/Macros.a):00084          ENDC
                      (./Engine/Macros.a):00085          ENDM      
                      (./Engine/Macros.a):00086          
0000                  (./Engine/Macros.a):00087         _GetCartPageB MACRO
                      (./Engine/Macros.a):00088          IFDEF T2
                      (./Engine/Macros.a):00089                 ldb   Glb_Page
                      (./Engine/Macros.a):00090          ELSE
                      (./Engine/Macros.a):00091                 ldb   $E7E6
                      (./Engine/Macros.a):00092          ENDC
                      (./Engine/Macros.a):00093          ENDM     
                      (./Engine/Macros.a):00094         
0000                  (./Engine/Macros.a):00095         _RunPgSubRoutine MACRO
                      (./Engine/Macros.a):00096                 ; param 1 : ObjID_
                      (./Engine/Macros.a):00097                 ; param 2 : Object data RAM address
                      (./Engine/Macros.a):00098                 ; manual launch of an object from a different dynamic memory page and not from the resident page 1
                      (./Engine/Macros.a):00099                 
                      (./Engine/Macros.a):00100                 ldx   #Obj_Index_Page
                      (./Engine/Macros.a):00101                 ldb   #\1   
                      (./Engine/Macros.a):00102                 abx
                      (./Engine/Macros.a):00103                 lda   ,x                       ; page memoire routine
                      (./Engine/Macros.a):00104                 
                      (./Engine/Macros.a):00105                 ldx   #Obj_Index_Address
                      (./Engine/Macros.a):00106                 aslb
                      (./Engine/Macros.a):00107                 abx        
                      (./Engine/Macros.a):00108                 ldu   ,x                       ; adresse routine
                      (./Engine/Macros.a):00109                 stu   Glb_Address        
                      (./Engine/Macros.a):00110                 
                      (./Engine/Macros.a):00111                 ldu   #\2              
                      (./Engine/Macros.a):00112                 jsr   RunPgSubRoutine
                      (./Engine/Macros.a):00113          ENDM           
                      (./Engine/Macros.a):00114          
0000                  (./Engine/Macros.a):00115         _RunObject MACRO 
                      (./Engine/Macros.a):00116                 ldx   #Obj_Index_Page
                      (./Engine/Macros.a):00117                 ldb   #\1   
                      (./Engine/Macros.a):00118                 abx
                      (./Engine/Macros.a):00119                 lda   ,x                       ; page memoire routine
                      (./Engine/Macros.a):00120                 _SetCartPageA                  ; set data page for sub routine to call
                      (./Engine/Macros.a):00121                         
                      (./Engine/Macros.a):00122                 ldx   #Obj_Index_Address
                      (./Engine/Macros.a):00123                 aslb
                      (./Engine/Macros.a):00124                 abx
                      (./Engine/Macros.a):00125                 ldu   #\2        
                      (./Engine/Macros.a):00126                 jsr   [,x]
                      (./Engine/Macros.a):00127          ENDM                   
                      (nullBootT2Loader.):00011                 
                      (nullBootT2Loader.):00012                 org   $6200
                      (nullBootT2Loader.):00013         
6200                  (nullBootT2Loader.):00014         PalInit
     62               (nullBootT2Loader.):00015                 setdp $62
6200 8662             (nullBootT2Loader.):00016                 lda   #$62
6202 1F8B             (nullBootT2Loader.):00017                 tfr   a,dp                     * positionne la direct page a 62
                      (nullBootT2Loader.):00018                 
6204                  (nullBootT2Loader.):00019         PalFade        
6204 0F7E             (nullBootT2Loader.):00020                 clr   <pal_idx
6206 8E62EA           (nullBootT2Loader.):00021                 ldx   #pal_len                 * index limite de chargement pour couleur courante 
6209 CE62DE           (nullBootT2Loader.):00022                 ldu   #pal_from                * chargement pointeur valeur des couleurs actuelles
                      (nullBootT2Loader.):00023                 
620C                  (nullBootT2Loader.):00024         Vsync_1                                
620C 7DE7E7           (nullBootT2Loader.):00025                 tst   $E7E7                    * le faisceau n'est pas dans l'ecran utile
620F 2AFB             (nullBootT2Loader.):00026                 bpl   Vsync_1                  * tant que le bit est a 0 on boucle
6211                  (nullBootT2Loader.):00027         Vsync_2                                 
6211 7DE7E7           (nullBootT2Loader.):00028                 tst   $E7E7                    * le faisceau est dans l'ecran utile
6214 2BFB             (nullBootT2Loader.):00029                 bmi   Vsync_2                  * tant que le bit est a 1 on boucle
                      (nullBootT2Loader.):00030                 
6216 108E0140         (nullBootT2Loader.):00031                 ldy   #0320                    * 40 lignes * 8 cycles
621A                  (nullBootT2Loader.):00032         Tempo        
621A 313F             (nullBootT2Loader.):00033                 leay  -1,y
621C 26FC             (nullBootT2Loader.):00034                 bne   Tempo                    * tempo pour etre dans la bordure invisible   
                      (nullBootT2Loader.):00035                                                                                 
621E 0AF0             (nullBootT2Loader.):00036                 dec   <pal_cycles              * decremente le compteur du nombre de frame
6220 275E             (nullBootT2Loader.):00037                 beq   InitVideo                * si termine
                      (nullBootT2Loader.):00038                 
6222                  (nullBootT2Loader.):00039         PalRun
6222 A6C4             (nullBootT2Loader.):00040                 lda   ,u                                   * chargement de la composante verte et rouge
6224 94F1             (nullBootT2Loader.):00041                 anda  <pal_mask                * on efface la valeur vert ou rouge par masque
6226 C6FF             (nullBootT2Loader.):00042                 ldb   #$FF                     * composante verte et rouge couleur cible
6228 D4F1             (nullBootT2Loader.):00043                 andb  <pal_mask                * on efface la valeur vert ou rouge par masque
622A D778             (nullBootT2Loader.):00044                 stb   <pal_buffer              * on stocke la valeur cible pour comparaison
622C C611             (nullBootT2Loader.):00045                 ldb   #$11                     * preparation de la valeur d'increment de couleur
622E D4F1             (nullBootT2Loader.):00046                 andb  <pal_mask                * on efface la valeur non utile par masque
6230 D779             (nullBootT2Loader.):00047                 stb   <pal_buffer+1            * on stocke la valeur pour ADD ou SUB ulterieur
6232 9178             (nullBootT2Loader.):00048                 cmpa  <pal_buffer              * comparaison de la composante courante et cible
6234 270E             (nullBootT2Loader.):00049                 beq   PalVRSuivante            * si composante est egale a la cible on passe
6236 2206             (nullBootT2Loader.):00050                 bhi   PalVRDec                 * si la composante est superieure on branche
6238 A6C4             (nullBootT2Loader.):00051                 lda   ,u                       * on recharge la valeur avec vert et rouge
623A 9B79             (nullBootT2Loader.):00052                 adda  <pal_buffer+1            * on incremente la composante verte ou rouge
623C 2004             (nullBootT2Loader.):00053                 bra   PalVRSave                * on branche pour sauvegarder
623E                  (nullBootT2Loader.):00054         PalVRDec
623E A6C4             (nullBootT2Loader.):00055                 lda   ,u                       * on recharge la valeur avec vert et rouge
6240 9079             (nullBootT2Loader.):00056                 suba  <pal_buffer+1            * on decremente la composante verte ou rouge
6242                  (nullBootT2Loader.):00057         PalVRSave                             
6242 A7C4             (nullBootT2Loader.):00058                 sta   ,u                       * sauvegarde de la nouvelle valeur vert ou rouge
6244                  (nullBootT2Loader.):00059         PalVRSuivante                         
6244 03F1             (nullBootT2Loader.):00060                 com   <pal_mask                * inversion du masque pour traiter l'autre semioctet
6246 2BDA             (nullBootT2Loader.):00061                 bmi   PalRun                   * si on traite $F0 on branche sinon on continue
                      (nullBootT2Loader.):00062                     
6248                  (nullBootT2Loader.):00063         SetPalBleu
6248 E641             (nullBootT2Loader.):00064                 ldb   1,u                                  * chargement composante bleue courante
624A C10F             (nullBootT2Loader.):00065                 cmpb  #$0F                     * comparaison composante courante et cible
624C 2708             (nullBootT2Loader.):00066                 beq   SetPalNext               * si composante est egale a la cible on passe
624E 2203             (nullBootT2Loader.):00067                 bhi   SetPalBleudec            * si la composante est superieure on branche
6250 5C               (nullBootT2Loader.):00068                 incb                           * on incremente la composante bleue
6251 2001             (nullBootT2Loader.):00069                 bra   SetPalSaveBleu           * on branche pour sauvegarder
6253                  (nullBootT2Loader.):00070         SetPalBleudec                       
6253 5A               (nullBootT2Loader.):00071                 decb                           * on decremente la composante bleue
6254                  (nullBootT2Loader.):00072         SetPalSaveBleu                         
6254 E741             (nullBootT2Loader.):00073                 stb   1,u                      * sauvegarde de la nouvelle valeur bleue
                      (nullBootT2Loader.):00074                                                                                
6256                  (nullBootT2Loader.):00075         SetPalNext                             
6256 967E             (nullBootT2Loader.):00076                 lda   <pal_idx                 * Lecture index couleur
6258 B7E7DB           (nullBootT2Loader.):00077                 sta   $E7DB                    * selectionne l'indice de couleur a ecrire
625B 8B02             (nullBootT2Loader.):00078                 adda  #$02                     * increment de l'indice de couleur (x2)
625D 977E             (nullBootT2Loader.):00079                 sta   <pal_idx                 * stockage du nouvel index
625F A6C4             (nullBootT2Loader.):00080                 lda   ,u                       * chargement de la nouvelle couleur courante
6261 B7E7DA           (nullBootT2Loader.):00081                 sta   $E7DA                    * positionne la nouvelle couleur (Vert et Rouge)
6264 F7E7DA           (nullBootT2Loader.):00082                 stb   $E7DA                    * positionne la nouvelle couleur (Bleu)
6267 967E             (nullBootT2Loader.):00083                 lda   <pal_idx                 * rechargement de l'index couleur
6269 A184             (nullBootT2Loader.):00084                 cmpa  ,x                       * comparaison avec l'index limite pour cette couleur
626B 26E9             (nullBootT2Loader.):00085                 bne   SetPalNext               * si inferieur on continue avec la meme couleur
626D 3342             (nullBootT2Loader.):00086                 leau  2,u                      * on avance le pointeur vers la nouvelle couleur
626F 3001             (nullBootT2Loader.):00087                 leax  1,x                      * on avance le pointeur vers la nouvelle limite
6271 8C62F0           (nullBootT2Loader.):00088                 cmpx  #end_pal_len             * test de fin de liste
6274 26AC             (nullBootT2Loader.):00089                 bne   PalRun                   * on reboucle si fin de liste pas atteinte
6276 208C             (nullBootT2Loader.):00090                 bra   PalFade
                      (nullBootT2Loader.):00091                 
6278                  (nullBootT2Loader.):00092         pal_buffer                             
6278 42               (nullBootT2Loader.):00093                 fcb   $42                      * B et buffer de comparaison
6279 41               (nullBootT2Loader.):00094                 fcb   $41                      * A et buffer de comparaison
627A 53               (nullBootT2Loader.):00095                 fcb   $53                      * S
627B 49               (nullBootT2Loader.):00096                 fcb   $49                      * I
627C 43               (nullBootT2Loader.):00097                 fcb   $43                      * C
627D 32               (nullBootT2Loader.):00098                 fcb   $32                      * 2
                      (nullBootT2Loader.):00099                                                                                
627E                  (nullBootT2Loader.):00100         pal_idx                                
627E 00               (nullBootT2Loader.):00101                 fcb   $00                      * index de la couleur courante dans le traitement
627F 00               (nullBootT2Loader.):00102                 fcb   $00                      * espace reserve pour somme de controle
                      (nullBootT2Loader.):00103            
                      (nullBootT2Loader.):00104         *-------------------------------------------------------------------------------
                      (nullBootT2Loader.):00105         * A partir de ce point le code doit commencer a l'adresse $6280
                      (nullBootT2Loader.):00106         *-------------------------------------------------------------------------------
                      (nullBootT2Loader.):00107         
                      (nullBootT2Loader.):00108         ********************************************************************************  
                      (nullBootT2Loader.):00109         * Initialisation du mode video
                      (nullBootT2Loader.):00110         ********************************************************************************
6280                  (nullBootT2Loader.):00111         InitVideo
6280 1A50             (nullBootT2Loader.):00112                 orcc  #$50                     * desactive les interruptions
6282 867B             (nullBootT2Loader.):00113                 lda   #$7B                     * passage en mode 160x200x16c
6284 B7E7DC           (nullBootT2Loader.):00114                 sta   $E7DC
                      (nullBootT2Loader.):00115           
                      (nullBootT2Loader.):00116         ********************************************************************************
                      (nullBootT2Loader.):00117         * Initialisation de la commutation de page pour l espace Donnees (Mode registre)
                      (nullBootT2Loader.):00118         ********************************************************************************
6287 F66081           (nullBootT2Loader.):00119                 ldb   $6081                    * $6081 est l'image "lisible" de $E7E7
628A CA10             (nullBootT2Loader.):00120                 orb   #$10                     * positionne le bit d4 a 1
628C F76081           (nullBootT2Loader.):00121                 stb   $6081                    * maintient une image coherente de $E7E7
628F F7E7E7           (nullBootT2Loader.):00122                 stb   $E7E7                    * bit d4 a 1 pour pages donnees en mode registre
                      (nullBootT2Loader.):00123          
                      (nullBootT2Loader.):00124         ********************************************************************************
                      (nullBootT2Loader.):00125         * Lecture des donnees depuis la disquette et decompression par exomizer
                      (nullBootT2Loader.):00126         ********************************************************************************
6292                  (nullBootT2Loader.):00127         DKLecture
     60               (nullBootT2Loader.):00128                 setdp $60
6292 8660             (nullBootT2Loader.):00129                 lda   #$60
6294 1F8B             (nullBootT2Loader.):00130                 tfr   a,dp                     * positionne la direct page a 60
                      (nullBootT2Loader.):00131                 
6296 CC6300           (nullBootT2Loader.):00132                 ldd   #$6300
6299 DD4F             (nullBootT2Loader.):00133                 std   <$604F                   * DK.BUF Destination des donnees lues
629B 8600             (nullBootT2Loader.):00134                 lda   #$00
629D 9749             (nullBootT2Loader.):00135                 sta   <$6049                   * DK.DRV Lecteur        
629F DD4A             (nullBootT2Loader.):00136                 std   <$604A                   * DK.TRK Piste
62A1 8602             (nullBootT2Loader.):00137                 lda   #$02
62A3 974C             (nullBootT2Loader.):00138                 sta   <$604C                   * DK.SEC $02 Secteur
62A5 9748             (nullBootT2Loader.):00139                 sta   <$6048                   * DK.OPC $02 Operation - lecture d'un secteur
62A7                  (nullBootT2Loader.):00140         DKCO
62A7 BDE82A           (nullBootT2Loader.):00141                 jsr   $E82A                    * DKCO Appel Moniteur - lecture d'un secteur
62AA 0C4C             (nullBootT2Loader.):00142                 inc   <$604C                   * increment du registre Moniteur DK.SEC
62AC 964C             (nullBootT2Loader.):00143                 lda   <$604C                   * chargement de DK.SEC
62AE 8110             (nullBootT2Loader.):00144                 cmpa  #$10                     * si DK.SEC est inferieur ou egal a 16
62B0 2310             (nullBootT2Loader.):00145                 bls   DKContinue               * on continue le traitement
62B2 8601             (nullBootT2Loader.):00146                 lda   #$01                     * sinon on a depasse le secteur 16
62B4 974C             (nullBootT2Loader.):00147                 sta   <$604C                   * positionnement du secteur a 1
62B6 0C4B             (nullBootT2Loader.):00148                 inc   <$604B                   * increment du registre Moniteur DK.TRK
62B8 964B             (nullBootT2Loader.):00149                 lda   <$604B
62BA 814F             (nullBootT2Loader.):00150                 cmpa  #$4F                     * si DK.SEC est inferieur ou egal a 79
62BC 2304             (nullBootT2Loader.):00151                 bls   DKContinue               * on continue le traitement
62BE 0F4B             (nullBootT2Loader.):00152                 clr   <$604B                   * positionnement de la piste a 0
62C0 0C49             (nullBootT2Loader.):00153                 inc   <$6049                   * increment du registre Moniteur DK.DRV
62C2                  (nullBootT2Loader.):00154         DKContinue                            
62C2 0C4F             (nullBootT2Loader.):00155                 inc   <$604F                   * increment de 256 octets de la zone a ecrire DK.BUF
62C4 DC4F             (nullBootT2Loader.):00156                 ldd   <$604F                   * chargement de la zone a ecrire DK.BUF
62C6                  (nullBootT2Loader.):00157         dk_dernier_bloc                        
62C6 10839E00         (nullBootT2Loader.):00158                 cmpd  #$9E00                   * test debut du dernier bloc de 256 octets a ecrire
62CA 23DB             (nullBootT2Loader.):00159                 bls   DKCO                     * si DK.BUF inferieur ou egal a la limite alors DKCO
                      (nullBootT2Loader.):00160         
62CC                  (nullBootT2Loader.):00161         BOO_WaitVBL
62CC 7DE7E7           (nullBootT2Loader.):00162                 tst   $E7E7                    ; le faisceau n'est pas dans l'ecran
62CF 2AFB             (nullBootT2Loader.):00163                 bpl   BOO_WaitVBL              ; tant que le bit est a 0 on boucle
62D1                  (nullBootT2Loader.):00164         BOO_WaitVBL1
62D1 7DE7E7           (nullBootT2Loader.):00165                 tst   $E7E7                    ; le faisceau est dans l'ecran
62D4 2BFB             (nullBootT2Loader.):00166                 bmi   BOO_WaitVBL1             ; tant que le bit est a 1 on boucle
                      (nullBootT2Loader.):00167         
                      (nullBootT2Loader.):00168         * Positionnement de la page 3 a l'ecran
                      (nullBootT2Loader.):00169         ***************************************
62D6 86C0             (nullBootT2Loader.):00170                 lda   #$C0
62D8 B7E7DD           (nullBootT2Loader.):00171                 sta   $E7DD                    ; affiche la page a l'ecran
                      (nullBootT2Loader.):00172                 
62DB 7E6300           (nullBootT2Loader.):00173                 jmp   $6300
                      (nullBootT2Loader.):00174         
                      (nullBootT2Loader.):00175         * donnees pour le fondu de palette
                      (nullBootT2Loader.):00176         ********************************************************************************
                      (nullBootT2Loader.):00177         
62DE                  (nullBootT2Loader.):00178         pal_from
62DE 0000             (nullBootT2Loader.):00179                 fdb   $0000                    * couleur $00 Noir (Thomson) => 06 change bordure
62E0 F00F             (nullBootT2Loader.):00180                 fdb   $F00F                    * couleur $0C Turquoise (Bordure ecran)
62E2 FF0F             (nullBootT2Loader.):00181                 fdb   $FF0F                    * couleur $0E Blanc (TO8)
62E4 7707             (nullBootT2Loader.):00182                 fdb   $7707                    * couleur $10 Gris (Fond Bas)
62E6 AA03             (nullBootT2Loader.):00183                 fdb   $AA03                    * couleur $16 Jaune (Interieur case)
62E8 330A             (nullBootT2Loader.):00184                 fdb   $330A                    * couleur $18 Mauve (Fond TO8)
                      (nullBootT2Loader.):00185                                                                                
62EA                  (nullBootT2Loader.):00186         pal_len                                
62EA 0C               (nullBootT2Loader.):00187                 fcb   $0C                      * pour chaque couleur on defini un index limite
62EB 0E               (nullBootT2Loader.):00188                 fcb   $0E                      * (exclu) de chargement. ex: 0C, 0E, ... 
62EC 10               (nullBootT2Loader.):00189                 fcb   $10                      * la premiere couleur de PAL_FROM est chargee
62ED 16               (nullBootT2Loader.):00190                 fcb   $16                      * pour les couleurs 0(00) a 5(0A)
62EE 18               (nullBootT2Loader.):00191                 fcb   $18                      * la seconde couleur de PAL_FORM  est chargee
62EF 20               (nullBootT2Loader.):00192                 fcb   $20                      * pour la couleur 6(0C)
62F0                  (nullBootT2Loader.):00193         end_pal_len
                      (nullBootT2Loader.):00194            
62F0                  (nullBootT2Loader.):00195         pal_cycles
62F0 10               (nullBootT2Loader.):00196                 fcb   $10                      * nombre de frames de la transition (VSYNC)
                      (nullBootT2Loader.):00197                                                                                
62F1                  (nullBootT2Loader.):00198         pal_mask                               
62F1 0F               (nullBootT2Loader.):00199                 fcb   $0F                      * masque pour l'aternance du traitemet vert/rouge
