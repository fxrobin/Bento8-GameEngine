/*--------------------------------------------------------------*
 * Compilé avec C6809 v0.83                                     *
 *--------------------------------------------------------------*
 * Fichier source      : .\Sonic2\GeneratedCode\GameModeManager.asm
 * Fichier destination : .\Sonic2\GeneratedCode\TMP.BIN
 * Contenu :
 *     Main     0:GAMEMODE.ASM 1579
 *     Include  0:CONSTANT.ASM 5768
 *     Include  0:GLOBALS.ASM  7162
 *     Include  0:GMLOADER.ASM 2210
 *     Include  0:GMDATA.ASM   4360
 *--------------------------------------------------------------*/

Macro Pass
Pass1
Pass2
    105                                   INCLUD CONSTANT
    106                           * --------------------------------------->>
    107                           * Constants
    108                           *
    109                           * Naming convention
    110                           * -----------------
    111                           * - lower case
    112                           * - underscore-separated names
    113                           *
    114                           * --------------------------------------->>
    115
    116                           * =======================================>>
    117                           * TO8 Registers
    118                           * =======================================>>
    119
    120                  6049     dk_lecteur                    equ $6049
    121                  604A     dk_piste                      equ $604A
    122                  604B     dk_pisteL                     equ $604B
    123                  604C     dk_secteur                    equ $604C
    124                  604F     dk_destination                equ $604F
    125
    126                           * =======================================>>
    127                           * Display Constants
    128                           * =======================================>>
    129
    130                  00A0     screen_width                  equ 160 ; s>>
    131                  001C     screen_top                    equ 28 ; in>>
    132                  00E3     screen_bottom                 equ 28+199 >>
    133                  0030     screen_left                   equ 48 ; in>>
    134                  00CF     screen_right                  equ 48+159 >>
    135                  0008     nb_priority_levels            equ 8   ; n>>
    136
    137                           * =======================================>>
    138                           * Physics Constants
    139                           * =======================================>>
    140
    141                  0038     gravity                       equ $38 ; G>>
    142
    143                           * =======================================>>
    144                           * Animation Constants
    145                           * =======================================>>
    146
    147                  00FF     _resetAnim                    equ $FF
    148                  00FE     _goBackNFrames                equ $FE
    149                  00FD     _goToAnimation                equ $FD
    150                  00FC     _nextRoutine                  equ $FC
    151                  00FB     _resetAnimAndSubRoutine       equ $FB
    152                  00FA     _nextSubRoutine               equ $FA
    153
    154                           * =======================================>>
    155                           * Images Constants
    156                           * =======================================>>
    157
    158                  0004     image_x_size                  equ 4
    159                  0005     image_y_size                  equ 5
    160                  0006     image_center_offset           equ 6
    161
    162                  0004     image_subset_x1_offset        equ 4
    163                  0005     image_subset_y1_offset        equ 5
    164
    165                  0000     page_draw_routine             equ 0
    166                  0001     draw_routine                  equ 1
    167                  0003     page_erase_routine            equ 3
    168                  0004     erase_routine                 equ 4
    169                  0006     erase_nb_cell                 equ 6
    170
    171                           * =======================================>>
    172                           * Sound Constants
    173                           * =======================================>>
    174
    175                  0000     pcm_page        equ 0
    176                  0001     pcm_start_addr  equ 1
    177                  0003     pcm_end_addr    equ 3
    178                  0005     pcm_meta_size   equ 5
    179
    180                           * =======================================>>
    181                           * Object Constants
    182                           * =======================================>>
    183
    184                  0002     nb_reserved_objects           equ 2
    185                  001B     nb_dynamic_objects            equ 27
    186                  0003     nb_level_objects              equ 3
    187                  0020     nb_objects                    equ 32 * ma>>
    188
    189                           * --------------------------------------->>
    190                           * Object Status Table offsets
    191                           * --------------------------------------->>
    192
    193                  005A     object_size                   equ 90 ; th>>
    194                  005A     next_object                   equ object_>>
    195
    196                  0000     id                            equ 0      >>
    197                  0001     subtype                       equ 1      >>
    198                  0002     render_flags                  equ 2
    199
    200                           * --- render_flags bitfield variables --->>
    201                  0001     render_xmirror_mask           equ $01 ; (>>
    202                  0002     render_ymirror_mask           equ $02 ; (>>
    203                  0004     render_overlay_mask           equ $04 ; (>>
    204                  0008     render_motionless_mask        equ $08 ; (>>
    205                  0010     render_playfieldcoord_mask    equ $10 ; (>>
    206                  0020     render_hide_mask              equ $20 ; (>>
    207                  0040     render_todelete_mask          equ $40 ; (>>
    208                  0080     render_xloop_mask             equ $80 ; (>>
    209                            
    210                  0003     priority                      equ 3      >>
    211                  0004     anim                          equ 4  ; an>>
    212                  0006     prev_anim                     equ 6  ; an>>
    213                  0008     anim_frame                    equ 8      >>
    214                  0009     anim_frame_duration           equ 9      >>
    215                  000A     image_set                     equ 10 ; an>>
    216                  000C     x_pos                         equ 12 ; an>>
    217                  000E     x_sub                         equ 14     >>
    218                  000F     y_pos                         equ 15 ; an>>
    219                  0011     y_sub                         equ 17     >>
    220                  0012     xy_pixel                      equ 18     >>
    221                  0012     x_pixel                       equ 18     >>
    222                  0013     y_pixel                       equ 19     >>
    223                  0014     x_vel                         equ 20 ; an>>
    224                  0016     y_vel                         equ 22 ; an>>
    225                  0018     routine                       equ 24     >>
    226                  0019     routine_secondary             equ 25     >>
    227                  001A     status                        equ 26
    228
    229                           * --- status bitfield variables for objec>>
    230                  0001     status_x_orientation          equ   $01 ;>>
    231                  0002     status_y_orientation          equ   $02 ;>>
    232                  0004     status_bit2                   equ   $04 ;>>
    233                  0008     status_mainchar_standing      equ   $08 ;>>
    234                  0010     status_sidekick_standing      equ   $10 ;>>
    235                  0020     status_mainchar_pushing       equ   $20 ;>>
    236                  0040     status_sidekick_pushing       equ   $40 ;>>
    237                  0080     status_bit7                   equ   $80 ;>>
    238
    239                           * --- status bitfield variables for Main >>
    240                  0002     status_inair                  equ   $02 ;>>
    241                  0004     status_jumporroll             equ   $04 ;>>
    242                  0008     status_norgroundnorfall       equ   $08 ;>>
    243                  0010     status_jumpingafterrolling    equ   $10 ;>>
    244                  0020     status_pushing                equ   $20 ;>>
    245                  0040     status_underwater             equ   $40 ;>>
    246
    247                  001B     ext_variables                 equ 27 ; to>>
    248
    249                           * --------------------------------------->>
    250                           * reserved variables (engine)
    251
    252                  0029     rsv_render_flags              equ 41
    253
    254                           * --- rsv_render_flags bitfield variables>>
    255                  0001     rsv_render_checkrefresh_mask  equ $01 ; (>>
    256                  0002     rsv_render_erasesprite_mask   equ $02 ; (>>
    257                  0004     rsv_render_displaysprite_mask equ $04 ; (>>
    258                  0008     rsv_render_outofrange_mask    equ $08 ; (>>
    259
    260                  002A     rsv_prev_anim                 equ 42 ; an>>
    261                  002C     rsv_image_center_offset       equ 44 ; 0 >>
    262                           * ne sert plus                       ; an>>
    263                  002E     rsv_image_subset              equ 46 ; an>>
    264                  0030     rsv_mapping_frame             equ 48 ; an>>
    265                  0032     rsv_xy1_pixel                 equ 50     >>
    266                  0032     rsv_x1_pixel                  equ 50     >>
    267                  0033     rsv_y1_pixel                  equ 51     >>
    268                  0034     rsv_xy2_pixel                 equ 52     >>
    269                  0034     rsv_x2_pixel                  equ 52     >>
    270                  0035     rsv_y2_pixel                  equ 53     >>
    271
    272                           * --------------------------------------->>
    273                           * reserved variables (engine) - buffer sp>>
    274
    275                  0036     rsv_buffer_0                  equ 54 ; St>>
    276                  0036     rsv_priority_0                equ 54 ; in>>
    277                  0037     rsv_priority_prev_obj_0       equ 55 ; an>>
    278                  0039     rsv_priority_next_obj_0       equ 57 ; an>>
    279                           *rsv_prev_image_subset_0       equ 59 ; a>>
    280                  003D     rsv_prev_mapping_frame_0      equ 61 ; an>>
    281                  003F     rsv_bgdata_0                  equ 63 ; an>>
    282                  0041     rsv_prev_xy_pixel_0           equ 65 ;
    283                  0041     rsv_prev_x_pixel_0            equ 65 ; pr>>
    284                  0042     rsv_prev_y_pixel_0            equ 66 ; pr>>
    285                  0043     rsv_prev_xy1_pixel_0          equ 67 ;
    286                  0043     rsv_prev_x1_pixel_0           equ 67 ; pr>>
    287                  0044     rsv_prev_y1_pixel_0           equ 68 ; pr>>
    288                  0045     rsv_prev_xy2_pixel_0          equ 69 ;
    289                  0045     rsv_prev_x2_pixel_0           equ 69 ; pr>>
    290                  0046     rsv_prev_y2_pixel_0           equ 70 ; pr>>
    291                  0047     rsv_prev_render_flags_0       equ 71 ;
    292                           * --- rsv_prev_render_flags_0 bitfield va>>
    293                  0001     rsv_prev_render_overlay_mask  equ $01 ; (>>
    294                  0080     rsv_prev_render_onscreen_mask equ $80 ; (>>
    295
    296                  0048     rsv_buffer_1                  equ 72 ; St>>
    297                  0048     rsv_priority_1                equ 72 ; in>>
    298                  0049     rsv_priority_prev_obj_1       equ 73 ; an>>
    299                  004B     rsv_priority_next_obj_1       equ 75 ; an>>
    300                           *rsv_prev_image_subset_1       equ 77 ; a>>
    301                  004F     rsv_prev_mapping_frame_1      equ 79 ; an>>
    302                  0051     rsv_bgdata_1                  equ 81 ; an>>
    303                  0053     rsv_prev_xy_pixel_1           equ 83 ;
    304                  0053     rsv_prev_x_pixel_1            equ 83 ; pr>>
    305                  0054     rsv_prev_y_pixel_1            equ 84 ; pr>>
    306                  0055     rsv_prev_xy1_pixel_1          equ 85 ;
    307                  0055     rsv_prev_x1_pixel_1           equ 85 ; pr>>
    308                  0056     rsv_prev_y1_pixel_1           equ 86 ; pr>>
    309                  0057     rsv_prev_xy2_pixel_1          equ 87 ;
    310                  0057     rsv_prev_x2_pixel_1           equ 87 ; pr>>
    311                  0058     rsv_prev_y2_pixel_1           equ 88 ; pr>>
    312                  0059     rsv_prev_render_flags_1       equ 89 ;
    313
    314                  0000     buf_priority                  equ 0  ; of>>
    315                  0001     buf_priority_prev_obj         equ 1  ;
    316                  0003     buf_priority_next_obj         equ 3  ;
    317                           *buf_prev_image_subset         equ 5  ;
    318                  0007     buf_prev_mapping_frame        equ 7  ;
    319                  0009     buf_bgdata                    equ 9  ;
    320                  000B     buf_prev_xy_pixel             equ 11 ;
    321                  000B     buf_prev_x_pixel              equ 11 ;
    322                  000C     buf_prev_y_pixel              equ 12 ;
    323                  000D     buf_prev_xy1_pixel            equ 13 ;
    324                  000D     buf_prev_x1_pixel             equ 13 ;
    325                  000E     buf_prev_y1_pixel             equ 14 ;
    326                  000F     buf_prev_xy2_pixel            equ 15 ;
    327                  000F     buf_prev_x2_pixel             equ 15 ;
    328                  0010     buf_prev_y2_pixel             equ 16 ;
    329                  0011     buf_prev_render_flags         equ 17 ;
    330
    331                                   INCLUD GLOBALS
    332                           * Generated Code
    333
    334                  414F     GameModeLoader equ $414F
    335                  41C7     current_game_mode_data equ $41C7
    336                  0001     ObjID_SonicAndTailsIn equ 1
    337                  0002     ObjID_SEGA equ 2
    338                  0003     ObjID_PaletteHandler equ 3
    339                  0004     ObjID_TitleScreen equ 4
    340                  6122     Glb_Sprite_Screen_Pos_Part1 equ $6122
    341                  6124     Glb_Sprite_Screen_Pos_Part2 equ $6124
    342                  6610     Object_RAM equ $6610
    343                  7162     screen_border_color equ $7162
    344                  7188     Vint_runcount equ $7188
    345                  0001     c1_button_up_mask equ $0001
    346                  0002     c1_button_down_mask equ $0002
    347                  0004     c1_button_left_mask equ $0004
    348                  0008     c1_button_right_mask equ $0008
    349                  0010     c2_button_up_mask equ $0010
    350                  0020     c2_button_down_mask equ $0020
    351                  0040     c2_button_left_mask equ $0040
    352                  0080     c2_button_right_mask equ $0080
    353                  0040     c1_button_A_mask equ $0040
    354                  0080     c2_button_A_mask equ $0080
    355                  718C     Joypads_Held equ $718C
    356                  718C     Dpad_Held equ $718C
    357                  718D     Fire_Held equ $718D
    358                  718E     Joypads_Press equ $718E
    359                  718E     Dpad_Press equ $718E
    360                  718F     Fire_Press equ $718F
    361                  71F9     MarkObjGone equ $71F9
    362                  71FB     DisplaySprite_x equ $71FB
    363                  7201     DisplaySprite equ $7201
    364                  727A     AnimateSprite equ $727A
    365                  733F     DeleteObject_x equ $733F
    366                  7345     DeleteObject equ $7345
    367                  7407     ClearObj equ $7407
    368                  7CB7     ClearCartMem equ $7CB7
    369                  7CF1     Refresh_palette equ $7CF1
    370                  7CF2     Cur_palette equ $7CF2
    371                  7CF4     Dyn_palette equ $7CF4
    372                  7D14     Black_palette equ $7D14
    373                  7D34     White_palette equ $7D34
    374                  7D54     UpdatePalette equ $7D54
    375                  7D7C     PlayPCM equ $7D7C
    376                  7DD3     PSGInit equ $7DD3
    377                  7DE5     PSGPlayNoRepeat equ $7DE5
    378                  7E13     PSGStop equ $7E13
    379                  7E3C     PSGResume equ $7E3C
    380                  7E87     PSGCancelLoop equ $7E87
    381                  7E8B     PSGGetStatus equ $7E8B
    382                  7E8F     PSGSetMusicVolumeAttenuation equ $7E8F
    383                  7EEE     PSGSilenceChannels equ $7EEE
    384                  7F03     PSGRestoreVolumes equ $7F03
    385                  7F77     PSGSFXPlayLoop equ $7F77
    386                  7FC3     PSGSFXStop equ $7FC3
    387                  8039     PSGSFXCancelLoop equ $8039
    388                  803D     PSGSFXGetStatus equ $803D
    389                  8041     PSGFrame equ $8041
    390                  80FB     _sendVolume2PSG equ $80FB
    391                  814E     PSGSFXFrame equ $814E
    392                  81AB     _SFXsetLoopPoint equ $81AB
    393                  6027     irq_routine equ $6027
    394                  E7C5     irq_timer_ctrl equ $E7C5
    395                  E7C6     irq_timer equ $E7C6
    396                  4DFF     irq_one_frame equ $4DFF
    397                  81F7     Irq_Raster_Page equ $81F7
    398                  81F9     Irq_Raster_Start equ $81F9
    399                  81FB     Irq_Raster_End equ $81FB
    400                  81FD     IrqOn equ $81FD
    401                  8208     IrqOff equ $8208
    402                  8213     IrqSync equ $8213
    403                  8232     IrqPsg equ $8232
    404                  8241     IrqPsgRaster equ $8241
    405                  8278     Img_SonicAndTailsIn equ $8278
    406                  8288     Img_SegaLogo_2 equ $8288
    407                  8298     Img_SegaLogo_1 equ $8298
    408                  82A8     Img_SegaTrails_1 equ $82A8
    409                  82C1     Img_SegaSonic_12 equ $82C1
    410                  82E2     Img_SegaSonic_23 equ $82E2
    411                  8303     Img_SegaSonic_13 equ $8303
    412                  8324     Img_SegaSonic_32 equ $8324
    413                  8345     Img_SegaSonic_21 equ $8345
    414                  8366     Img_SegaSonic_43 equ $8366
    415                  8387     Img_SegaSonic_11 equ $8387
    416                  83A8     Img_SegaSonic_33 equ $83A8
    417                  83C9     Img_SegaSonic_22 equ $83C9
    418                  83EA     Img_SegaSonic_41 equ $83EA
    419                  840B     Img_SegaSonic_31 equ $840B
    420                  842C     Img_SegaSonic_42 equ $842C
    421                  844D     Img_SegaTrails_6 equ $844D
    422                  845D     Img_SegaTrails_5 equ $845D
    423                  846D     Img_SegaTrails_4 equ $846D
    424                  847D     Img_SegaTrails_3 equ $847D
    425                  848D     Img_SegaTrails_2 equ $848D
    426                  84A6     Img_star_4 equ $84A6
    427                  84BA     Img_star_3 equ $84BA
    428                  84CE     Img_sonicHand equ $84CE
    429                  84E5     Img_star_2 equ $84E5
    430                  8500     Img_star_1 equ $8500
    431                  851B     Img_emblemBack08 equ $851B
    432                  852B     Img_emblemBack07 equ $852B
    433                  853B     Img_emblemBack09 equ $853B
    434                  854B     Img_emblemBack04 equ $854B
    435                  855B     Img_emblemBack03 equ $855B
    436                  856B     Img_emblemBack06 equ $856B
    437                  857B     Img_emblemBack05 equ $857B
    438                  858B     Img_tails_5 equ $858B
    439                  85A2     Img_tails_4 equ $85A2
    440                  85B6     Img_tails_3 equ $85B6
    441                  85CA     Img_tails_2 equ $85CA
    442                  85DE     Img_tails_1 equ $85DE
    443                  85F2     Img_tailsHand equ $85F2
    444                  8609     Img_island equ $8609
    445                  861D     Img_sonic_1 equ $861D
    446                  8631     Img_sonic_2 equ $8631
    447                  8645     Img_emblemBack02 equ $8645
    448                  8655     Img_emblemBack01 equ $8655
    449                  8665     Img_sonic_3 equ $8665
    450                  8679     Img_sonic_4 equ $8679
    451                  8690     Img_emblemFront07 equ $8690
    452                  86A0     Img_emblemFront08 equ $86A0
    453                  86B0     Img_emblemFront05 equ $86B0
    454                  86C0     Img_emblemFront06 equ $86C0
    455                  86D0     Img_emblemFront03 equ $86D0
    456                  86E0     Img_emblemFront04 equ $86E0
    457                  86F0     Img_emblemFront01 equ $86F0
    458                  8700     Img_emblemFront02 equ $8700
    459                  8711     Ani_SegaSonic_3 equ $8711
    460                  871B     Ani_SegaSonic_2 equ $871B
    461                  8725     Ani_SegaSonic_1 equ $8725
    462                  872F     Ani_smallStar equ $872F
    463                  8735     Ani_largeStar equ $8735
    464                  8741     Ani_tails equ $8741
    465                  874D     Ani_sonic equ $874D
    466                  6122     Glb_Sprite_Screen_Pos_Part1 equ $6122
    467                  6124     Glb_Sprite_Screen_Pos_Part2 equ $6124
    468                  6610     Object_RAM equ $6610
    469                  7162     screen_border_color equ $7162
    470                  7188     Vint_runcount equ $7188
    471                  0001     c1_button_up_mask equ $0001
    472                  0002     c1_button_down_mask equ $0002
    473                  0004     c1_button_left_mask equ $0004
    474                  0008     c1_button_right_mask equ $0008
    475                  0010     c2_button_up_mask equ $0010
    476                  0020     c2_button_down_mask equ $0020
    477                  0040     c2_button_left_mask equ $0040
    478                  0080     c2_button_right_mask equ $0080
    479                  0040     c1_button_A_mask equ $0040
    480                  0080     c2_button_A_mask equ $0080
    481                  718C     Joypads_Held equ $718C
    482                  718C     Dpad_Held equ $718C
    483                  718D     Fire_Held equ $718D
    484                  718E     Joypads_Press equ $718E
    485                  718E     Dpad_Press equ $718E
    486                  718F     Fire_Press equ $718F
    487                  71F9     MarkObjGone equ $71F9
    488                  71FB     DisplaySprite_x equ $71FB
    489                  7201     DisplaySprite equ $7201
    490                  727A     AnimateSprite equ $727A
    491                  733F     DeleteObject_x equ $733F
    492                  7345     DeleteObject equ $7345
    493                  7407     ClearObj equ $7407
    494                  7CB7     ClearCartMem equ $7CB7
    495                  7CF1     Refresh_palette equ $7CF1
    496                  7CF2     Cur_palette equ $7CF2
    497                  7CF4     Dyn_palette equ $7CF4
    498                  7D14     Black_palette equ $7D14
    499                  7D34     White_palette equ $7D34
    500                  7D54     UpdatePalette equ $7D54
    501                  7D7C     PlayPCM equ $7D7C
    502                  7DD3     PSGInit equ $7DD3
    503                  7DE5     PSGPlayNoRepeat equ $7DE5
    504                  7E13     PSGStop equ $7E13
    505                  7E3C     PSGResume equ $7E3C
    506                  7E87     PSGCancelLoop equ $7E87
    507                  7E8B     PSGGetStatus equ $7E8B
    508                  7E8F     PSGSetMusicVolumeAttenuation equ $7E8F
    509                  7EEE     PSGSilenceChannels equ $7EEE
    510                  7F03     PSGRestoreVolumes equ $7F03
    511                  7F77     PSGSFXPlayLoop equ $7F77
    512                  7FC3     PSGSFXStop equ $7FC3
    513                  8039     PSGSFXCancelLoop equ $8039
    514                  803D     PSGSFXGetStatus equ $803D
    515                  8041     PSGFrame equ $8041
    516                  80FB     _sendVolume2PSG equ $80FB
    517                  814E     PSGSFXFrame equ $814E
    518                  81AB     _SFXsetLoopPoint equ $81AB
    519                  6027     irq_routine equ $6027
    520                  E7C5     irq_timer_ctrl equ $E7C5
    521                  E7C6     irq_timer equ $E7C6
    522                  4DFF     irq_one_frame equ $4DFF
    523                  81F7     Irq_Raster_Page equ $81F7
    524                  81F9     Irq_Raster_Start equ $81F9
    525                  81FB     Irq_Raster_End equ $81FB
    526                  81FD     IrqOn equ $81FD
    527                  8208     IrqOff equ $8208
    528                  8213     IrqSync equ $8213
    529                  8232     IrqPsg equ $8232
    530                  8241     IrqPsgRaster equ $8241
    531                  8278     Img_SonicAndTailsIn equ $8278
    532                  8288     Img_SegaLogo_2 equ $8288
    533                  8298     Img_SegaLogo_1 equ $8298
    534                  82A8     Img_SegaTrails_1 equ $82A8
    535                  82C1     Img_SegaSonic_12 equ $82C1
    536                  82E2     Img_SegaSonic_23 equ $82E2
    537                  8303     Img_SegaSonic_13 equ $8303
    538                  8324     Img_SegaSonic_32 equ $8324
    539                  8345     Img_SegaSonic_21 equ $8345
    540                  8366     Img_SegaSonic_43 equ $8366
    541                  8387     Img_SegaSonic_11 equ $8387
    542                  83A8     Img_SegaSonic_33 equ $83A8
    543                  83C9     Img_SegaSonic_22 equ $83C9
    544                  83EA     Img_SegaSonic_41 equ $83EA
    545                  840B     Img_SegaSonic_31 equ $840B
    546                  842C     Img_SegaSonic_42 equ $842C
    547                  844D     Img_SegaTrails_6 equ $844D
    548                  845D     Img_SegaTrails_5 equ $845D
    549                  846D     Img_SegaTrails_4 equ $846D
    550                  847D     Img_SegaTrails_3 equ $847D
    551                  848D     Img_SegaTrails_2 equ $848D
    552                  84A6     Img_star_4 equ $84A6
    553                  84BA     Img_star_3 equ $84BA
    554                  84CE     Img_sonicHand equ $84CE
    555                  84E5     Img_star_2 equ $84E5
    556                  8500     Img_star_1 equ $8500
    557                  851B     Img_emblemBack08 equ $851B
    558                  852B     Img_emblemBack07 equ $852B
    559                  853B     Img_emblemBack09 equ $853B
    560                  854B     Img_emblemBack04 equ $854B
    561                  855B     Img_emblemBack03 equ $855B
    562                  856B     Img_emblemBack06 equ $856B
    563                  857B     Img_emblemBack05 equ $857B
    564                  858B     Img_tails_5 equ $858B
    565                  85A2     Img_tails_4 equ $85A2
    566                  85B6     Img_tails_3 equ $85B6
    567                  85CA     Img_tails_2 equ $85CA
    568                  85DE     Img_tails_1 equ $85DE
    569                  85F2     Img_tailsHand equ $85F2
    570                  8609     Img_island equ $8609
    571                  861D     Img_sonic_1 equ $861D
    572                  8631     Img_sonic_2 equ $8631
    573                  8645     Img_emblemBack02 equ $8645
    574                  8655     Img_emblemBack01 equ $8655
    575                  8665     Img_sonic_3 equ $8665
    576                  8679     Img_sonic_4 equ $8679
    577                  8690     Img_emblemFront07 equ $8690
    578                  86A0     Img_emblemFront08 equ $86A0
    579                  86B0     Img_emblemFront05 equ $86B0
    580                  86C0     Img_emblemFront06 equ $86C0
    581                  86D0     Img_emblemFront03 equ $86D0
    582                  86E0     Img_emblemFront04 equ $86E0
    583                  86F0     Img_emblemFront01 equ $86F0
    584                  8700     Img_emblemFront02 equ $8700
    585                  8711     Ani_SegaSonic_3 equ $8711
    586                  871B     Ani_SegaSonic_2 equ $871B
    587                  8725     Ani_SegaSonic_1 equ $8725
    588                  872F     Ani_smallStar equ $872F
    589                  8735     Ani_largeStar equ $8735
    590                  8741     Ani_tails equ $8741
    591                  874D     Ani_sonic equ $874D
    592                  8A56     Pcm_SEGA equ $8A56
    593                  8A61     Psg_TitleScreen equ $8A61
    594                  8A9B     Pal_SEGA equ $8A9B
    595                  8ABB     Pal_TitleScreen equ $8ABB
    596                  8ADB     Pal_SEGAMid equ $8ADB
    597                  8AFB     Pal_SonicAndTailsIn equ $8AFB
    598                  8B1B     Pal_SEGAEnd equ $8B1B
    599
     35        A000                       org $A000
     36
     37        A000               GameModeManager
     38
     39                           * Positionnement de la page 3 a l'ecran
     40                           *****************************************>>
     41        A000               WaitVBL
     42  7     A000 7D   E7E7             tst   $E7E7                    * >>
     43  3     A003 2A   FB               bpl   WaitVBL                  * >>
     44        A005               WaitVBL_01
     45  7     A005 7D   E7E7             tst   $E7E7                    * >>
     46  3     A008 2B   FB               bmi   WaitVBL_01               * >>
     47        A00A               SwapVideoPage
     48  2     A00A C6   C0               ldb   #$C0                     * >>
     49  5     A00C F7   E7DD             stb   $E7DD                    * >>
     50                            
     51                           * Positionnement de la page 2 en zone 000>>
     52                           *****************************************>>
     53  2     A00F C6   62               ldb   #$62                     * >>
     54  5     A011 F7   E7E6             stb   $E7E6                    * >>
     55                            
     56                           * Positionnement de la page 0a en zone 40>>
     57                           *****************************************>>
     58  5     A014 F6   E7C3             ldb   $E7C3                    * >>
     59  2     A017 C4   FE               andb  #$FE                     * >>
     60  5     A019 F7   E7C3             stb   $E7C3                    * >>
     61
     62                           * Copie en page 0a des donnees du mode a >>
     63                           * les groupes de 7 octets sont recopiees >>
     64                           * si on souhaite implanter le debut du mo>>
     65                           * il faut le charger en dernier (car ecra>>
     66                           * la fin des donnees est marquee par un o>>
     67                           *****************************************>>
     68  7     A01C 10FF A03D             sts   CopyCode3+2              ; >>
     69  6+1   A020 10EE 5E               lds   -2,u                     ; >>
     70  2     A023 86   FF               lda   #$FF                     ; >>
     71  5+1   A025 34   02               pshs  a                        ; >>
     72        A027               CopyData1
     73  5+7   A027 37   3E               pulu  d,x,y,dp                 ; >>
     74  5+7   A029 34   3E               pshs  d,x,y,dp                 ; >>
     75        A02B               CopyData2
     76  2     A02B 4D                    tsta                           ; >>
     77  3     A02C 2A   F9               bpl   CopyData1                ; >>
     78
     79                           * Copie en page 0a du code Game Mode Engi>>
     80                           * les groupes de 7 octets sont recopiees >>
     81                           * les donnees a l'avance on gagne un leas>>
     82                           *****************************************>>
     83  3     A02E CE   A042             ldu   #GameModeLoaderBin       * >>
     84        A031               CopyCode1
     85  5+7   A031 37   3E               pulu  d,x,y,dp                 ; >>
     86  5+7   A033 34   3E               pshs  d,x,y,dp                 ; >>
     87        A035               CopyCode2
     88  5     A035 118C 4000             cmps  #$4000                   ; >>
     89  3     A039 26   F6               bne   CopyCode1                ; >>
     90        A03B               CopyCode3
     91  4     A03B 10CE 0000             lds   #0                       ; >>
     92                            
     93                           * Execution du Game Mode Engine en page 0>>
     94                           *****************************************>>
     95  4     A03F 7E   414F             jmp   GameModeLoader
     96
     97                           * =======================================>>
     98                           * GameModeEngine
     99                           * =======================================>>
    100        A042               GameModeLoaderBin
    600                                   INCLUD GMLOADER
    601
    602        A042 00 35 40 20           fcb   $00,$35,$40,$20,$8F,$00,$00>>
               A046 8F 00 00
    603        A049 86 00 B7 E7           fcb   $86,$00,$B7,$E7,$E5,$BD,$40>>
               A04D E5 BD 40
    604        A050 C9 01 00 33           fcb   $C9,$01,$00,$33,$C9,$FE,$00>>
               A054 C9 FE 00
    605        A057 DB B6 41 B8           fcb   $DB,$B6,$41,$B8,$27,$08,$33>>
               A05B 27 08 33
    606        A05E DE 4F 11 83           fcb   $DE,$4F,$11,$83,$00,$00,$23>>
               A062 00 00 23
    607        A065 04 0F 4B 0C           fcb   $04,$0F,$4B,$0C,$49,$0C,$4F>>
               A069 49 0C 4F
    608        A06C 0C 4B 96 4B           fcb   $0C,$4B,$96,$4B,$81,$4F,$23>>
               A070 81 4F 23
    609        A073 10 23 10 86           fcb   $10,$23,$10,$86,$01,$97,$4C>>
               A077 01 97 4C
    610        A07A E8 2A 0C 4C           fcb   $E8,$2A,$0C,$4C,$96,$4C,$81>>
               A07E 96 4C 81
    611        A081 34 40 86 02           fcb   $34,$40,$86,$02,$97,$48,$BD>>
               A085 97 48 BD
    612        A088 26 B7 41 B8           fcb   $26,$B7,$41,$B8,$F7,$41,$BA>>
               A08C F7 41 BA
    613        A08F DD 4A C6 00           fcb   $DD,$4A,$C6,$00,$DD,$4F,$37>>
               A093 DD 4F 37
    614        A096 01 C4 7F 97           fcb   $01,$C4,$7F,$97,$49,$86,$00>>
               A09A 49 86 00
    615        A09D F7 41 A8 E6           fcb   $F7,$41,$A8,$E6,$C0,$1D,$84>>
               A0A1 C0 1D 84
    616        A0A4 9F FF 7E 61           fcb   $9F,$FF,$7E,$61,$00,$97,$4C>>
               A0A8 00 97 4C
    617        A0AB 8B EC C1 2A           fcb   $8B,$EC,$C1,$2A,$07,$10,$CE>>
               A0AF 07 10 CE
    618        A0B2 41 CE 34 40           fcb   $41,$CE,$34,$40,$86,$60,$1F>>
               A0B6 86 60 1F
    619        A0B9 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$CE>>
               A0BD 00 00 CE
    620        A0C0 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0C4 00 00 00
    621        A0C7 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0CB 00 00 00
    622        A0CE 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0D2 00 00 00
    623        A0D5 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0D9 00 00 00
    624        A0DC 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0E0 00 00 00
    625        A0E3 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0E7 00 00 00
    626        A0EA 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0EE 00 00 00
    627        A0F1 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0F5 00 00 00
    628        A0F8 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0FC 00 00 00
    629        A0FF 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A103 00 00 00
    630        A106 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A10A 00 00 00
    631        A10D 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A111 00 00 00
    632        A114 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A118 00 00 00
    633        A11B 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A11F 00 00 00
    634        A122 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A126 00 00 00
    635        A129 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A12D 00 00 00
    636        A130 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A134 00 00 00
    637        A137 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A13B 00 00 00
    638        A13E 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A142 00 00 00
    639        A145 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A149 00 00 00
    640        A14C 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A150 00 00 00
    641        A153 04 10 30 20           fcb   $04,$10,$30,$20,$00,$00,$00>>
               A157 00 00 00
    642        A15A 8D DC E3 01           fcb   $8D,$DC,$E3,$01,$39,$04,$02>>
               A15E 39 04 02
    643        A161 30 8D 00 0E           fcb   $30,$8D,$00,$0E,$3A,$58,$3A>>
               A165 3A 58 3A
    644        A168 2A F6 97 8D           fcb   $2A,$F6,$97,$8D,$EC,$E1,$39>>
               A16C EC E1 39
    645        A16F 27 FB 69 61           fcb   $27,$FB,$69,$61,$69,$E4,$5A>>
               A173 69 E4 5A
    646        A176 86 12 20 09           fcb   $86,$12,$20,$09,$A6,$C2,$46>>
               A17A A6 C2 46
    647        A17D FF E6 84 6F           fcb   $FF,$E6,$84,$6F,$E2,$6F,$E2>>
               A181 E2 6F E2
    648        A184 F4 20 B3 10           fcb   $F4,$20,$B3,$10,$AF,$66,$35>>
               A188 AF 66 35
    649        A18B 12 34 A7 A4           fcb   $12,$34,$A7,$A4,$30,$1F,$26>>
               A18F 30 1F 26
    650        A192 77 35 10 31           fcb   $77,$35,$10,$31,$3F,$A6,$A9>>
               A196 3F A6 A9
    651        A199 8D 1B EB 03           fcb   $8D,$1B,$EB,$03,$8D,$32,$DD>>
               A19D 8D 32 DD
    652        A1A0 10 83 00 03           fcb   $10,$83,$00,$03,$24,$01,$3A>>
               A1A4 24 01 3A
    653        A1A7 8D 44 34 06           fcb   $8D,$44,$34,$06,$30,$8C,$4B>>
               A1AB 30 8C 4B
    654        A1AE A2 30 1F 26           fcb   $A2,$30,$1F,$26,$F8,$20,$D9>>
               A1B2 F8 20 D9
    655        A1B5 8D 39 1F 01           fcb   $8D,$39,$1F,$01,$A6,$C2,$A7>>
               A1B9 A6 C2 A7
    656        A1BC C1 10 27 37           fcb   $C1,$10,$27,$37,$25,$0F,$5A>>
               A1C0 25 0F 5A
    657        A1C3 5C 8D 46 27           fcb   $5C,$8D,$46,$27,$F9,$C6,$00>>
               A1C7 F9 C6 00
    658        A1CA 26 15 D7 45           fcb   $26,$15,$D7,$45,$8C,$0C,$45>>
               A1CE 8C 0C 45
    659        A1D1 10 AE 66 C6           fcb   $10,$AE,$66,$C6,$01,$8D,$50>>
               A1D5 01 8D 50
    660        A1D8 35 06 5C C1           fcb   $35,$06,$5C,$C1,$34,$26,$DC>>
               A1DC 34 26 DC
    661        A1DF FA E6 E4 AF           fcb   $FA,$E6,$E4,$AF,$A1,$30,$8B>>
               A1E3 A1 30 8B
    662        A1E6 A0 53 69 E4           fcb   $A0,$53,$69,$E4,$49,$5C,$2B>>
               A1EA 49 5C 2B
    663        A1ED 00 01 C6 04           fcb   $00,$01,$C6,$04,$8D,$6D,$E7>>
               A1F1 8D 6D E7
    664        A1F4 34 06 C5 0F           fcb   $34,$06,$C5,$0F,$26,$03,$8E>>
               A1F8 26 03 8E
    665        A1FB 8D 00 A9 5F           fcb   $8D,$00,$A9,$5F,$D7,$8D,$4F>>
               A1FF D7 8D 4F
    666        A202 34 7F 1F 50           fcb   $34,$7F,$1F,$50,$1F,$8B,$31>>
               A206 1F 8B 31
    667
    668                                   INCLUD GMDATA
    669                           * Generated Code
    670
    671                           * structure: sector, nb sector, drive (bi>>
    672        A209               gm_TITLESCR
    673        A209 4533                  fdb   current_game_mode_data+876
    674        A20B               gmboot * @globals
    675        A20B 07 06 00 2C           fcb   $07,$06,$00,$2C,$0A,$DF,$DE>>
               A20F 0A DF DE
    676        A212 0D 00 00 D2           fcb   $0D,$00,$00,$D2,$05,$DF,$FB>>
               A216 05 DF FB
    677        A219 0C 08 01 04           fcb   $0C,$08,$01,$04,$0C,$DD,$55>>
               A21D 0C DD 55
    678        A220 04 04 02 B0           fcb   $04,$04,$02,$B0,$0A,$D1,$01>>
               A224 0A D1 01
    679        A227 08 01 02 35           fcb   $08,$01,$02,$35,$05,$DD,$BA>>
               A22B 05 DD BA
    680        A22E 09 00 02 CE           fcb   $09,$00,$02,$CE,$05,$DF,$31>>
               A232 05 DF 31
    681        A235 09 04 02 2D           fcb   $09,$04,$02,$2D,$08,$D8,$0A>>
               A239 08 D8 0A
    682        A23C 0D 01 02 3D           fcb   $0D,$01,$02,$3D,$06,$DF,$F7>>
               A240 06 DF F7
    683        A243 0E 03 02 B7           fcb   $0E,$03,$02,$B7,$08,$DF,$D9>>
               A247 08 DF D9
    684        A24A 01 01 03 E2           fcb   $01,$01,$03,$E2,$05,$DC,$43>>
               A24E 05 DC 43
    685        A251 02 02 03 08           fcb   $02,$02,$03,$08,$05,$D6,$60>>
               A255 05 D6 60
    686        A258 04 00 03 92           fcb   $04,$00,$03,$92,$05,$D4,$11>>
               A25C 05 D4 11
    687        A25F 04 01 03 C8           fcb   $04,$01,$03,$C8,$05,$D9,$93>>
               A263 05 D9 93
    688        A266 05 01 03 58           fcb   $05,$01,$03,$58,$05,$D7,$46>>
               A26A 05 D7 46
    689        A26D 06 01 03 D8           fcb   $06,$01,$03,$D8,$06,$DA,$85>>
               A271 06 DA 85
    690        A274 07 01 03 81           fcb   $07,$01,$03,$81,$05,$D2,$1B>>
               A278 05 D2 1B
    691        A27B 08 02 03 22           fcb   $08,$02,$03,$22,$06,$DD,$4F>>
               A27F 06 DD 4F
    692        A282 0A 00 03 DA           fcb   $0A,$00,$03,$DA,$05,$D3,$2B>>
               A286 05 D3 2B
    693        A289 0A 04 03 95           fcb   $0A,$04,$03,$95,$09,$D6,$DB>>
               A28D 09 D6 DB
    694        A290 0E 01 03 D9           fcb   $0E,$01,$03,$D9,$06,$D4,$CD>>
               A294 06 D4 CD
    695        A297 0F 04 03 D3           fcb   $0F,$04,$03,$D3,$09,$DF,$37>>
               A29B 09 DF 37
    696        A29E 03 02 04 30           fcb   $03,$02,$04,$30,$06,$D7,$B9>>
               A2A2 06 D7 B9
    697        A2A5 05 02 04 8B           fcb   $05,$02,$04,$8B,$07,$DF,$FF>>
               A2A9 07 DF FF
    698        A2AC 07 01 04 6B           fcb   $07,$01,$04,$6B,$05,$CF,$3E>>
               A2B0 05 CF 3E
    699        A2B3 08 02 04 8E           fcb   $08,$02,$04,$8E,$06,$D1,$DA>>
               A2B7 06 D1 DA
    700        A2BA 0A 01 04 64           fcb   $0A,$01,$04,$64,$05,$D1,$0C>>
               A2BE 05 D1 0C
    701        A2C1 0B 01 04 80           fcb   $0B,$01,$04,$80,$06,$CD,$39>>
               A2C5 06 CD 39
    702        A2C8 0C 01 04 08           fcb   $0C,$01,$04,$08,$05,$CA,$3A>>
               A2CC 05 CA 3A
    703        A2CF 0D 01 04 2E           fcb   $0D,$01,$04,$2E,$05,$CD,$6F>>
               A2D3 05 CD 6F
    704        A2D6 0E 00 04 BC           fcb   $0E,$00,$04,$BC,$05,$CB,$22>>
               A2DA 05 CB 22
    705        A2DD 0E 03 04 0A           fcb   $0E,$03,$04,$0A,$08,$CB,$71>>
               A2E1 08 CB 71
    706        A2E4 01 01 05 09           fcb   $01,$01,$05,$09,$05,$C7,$58>>
               A2E8 05 C7 58
    707        A2EB 02 02 05 4C           fcb   $02,$02,$05,$4C,$08,$D0,$45>>
               A2EF 08 D0 45
    708        A2F2 04 01 05 46           fcb   $04,$01,$05,$46,$05,$C9,$52>>
               A2F6 05 C9 52
    709        A2F9 05 01 05 81           fcb   $05,$01,$05,$81,$05,$C2,$38>>
               A2FD 05 C2 38
    710        A300 06 01 05 11           fcb   $06,$01,$05,$11,$05,$C0,$02>>
               A304 05 C0 02
    711        A307 07 01 05 61           fcb   $07,$01,$05,$61,$05,$C5,$5D>>
               A30B 05 C5 5D
    712        A30E 08 00 05 F5           fcb   $08,$00,$05,$F5,$05,$C3,$27>>
               A312 05 C3 27
    713        A315 08 04 05 48           fcb   $08,$04,$05,$48,$09,$CE,$7B>>
               A319 09 CE 7B
    714        A31C 0C 01 05 55           fcb   $0C,$01,$05,$55,$06,$C8,$2D>>
               A320 06 C8 2D
    715        A323 0D 03 05 E5           fcb   $0D,$03,$05,$E5,$08,$C6,$9D>>
               A327 08 C6 9D
    716        A32A 10 02 05 0C           fcb   $10,$02,$05,$0C,$06,$CA,$EC>>
               A32E 06 CA EC
    717        A331 02 02 06 5E           fcb   $02,$02,$06,$5E,$07,$D6,$E1>>
               A335 07 D6 E1
    718        A338 04 01 06 37           fcb   $04,$01,$06,$37,$05,$BD,$54>>
               A33C 05 BD 54
    719        A33F 05 02 06 66           fcb   $05,$02,$06,$66,$07,$DB,$5E>>
               A343 07 DB 5E
    720        A346 07 01 06 45           fcb   $07,$01,$06,$45,$05,$BF,$13>>
               A34A 05 BF 13
    721        A34D 08 02 06 79           fcb   $08,$02,$06,$79,$08,$B9,$A1>>
               A351 08 B9 A1
    722        A354 0A 01 06 5B           fcb   $0A,$01,$06,$5B,$05,$B9,$A8>>
               A358 05 B9 A8
    723        A35B 0B 02 06 69           fcb   $0B,$02,$06,$69,$08,$BE,$76>>
               A35F 08 BE 76
    724        A362 0D 01 06 3C           fcb   $0D,$01,$06,$3C,$05,$BB,$95>>
               A366 05 BB 95
    725        A369 0E 03 06 D0           fcb   $0E,$03,$06,$D0,$09,$BD,$E6>>
               A36D 09 BD E6
    726        A370 01 01 07 F3           fcb   $01,$01,$07,$F3,$06,$C2,$A5>>
               A374 06 C2 A5
    727        A377 02 04 07 AB           fcb   $02,$04,$07,$AB,$09,$C6,$3C>>
               A37B 09 C6 3C
    728        A37E 06 01 07 E0           fcb   $06,$01,$07,$E0,$06,$C5,$71>>
               A382 06 C5 71
    729        A385 07 01 07 19           fcb   $07,$01,$07,$19,$05,$B7,$BB>>
               A389 05 B7 BB
    730        A38C 08 00 07 52           fcb   $08,$00,$07,$52,$05,$B6,$45>>
               A390 05 B6 45
    731        A393 08 00 07 8B           fcb   $08,$00,$07,$8B,$05,$B4,$CF>>
               A397 05 B4 CF
    732        A39A 08 00 07 C4           fcb   $08,$00,$07,$C4,$05,$B3,$59>>
               A39E 05 B3 59
    733        A3A1 08 01 07 41           fcb   $08,$01,$07,$41,$05,$B0,$11>>
               A3A5 05 B0 11
    734        A3A8 09 00 07 D0           fcb   $09,$00,$07,$D0,$05,$B1,$E3>>
               A3AC 05 B1 E3
    735        A3AF 09 33 07 45           fcb   $09,$33,$07,$45,$0E,$DF,$F6>>
               A3B3 0E DF F6
    736        A3B6 0C 1B 0A EA           fcb   $0C,$1B,$0A,$EA,$0D,$DF,$ED>>
               A3BA 0D DF ED
    737        A3BD 07 02 0C 8C           fcb   $07,$02,$0C,$8C,$06,$BF,$DA>>
               A3C1 06 BF DA
    738        A3C4 07 01 0D C1           fcb   $07,$01,$0D,$C1,$05,$AE,$37>>
               A3C8 05 AE 37
    739        A3CB 07 01 0E 1D           fcb   $07,$01,$0E,$1D,$05,$AD,$49>>
               A3CF 05 AD 49
    740        A3D2 08 00 0E 93           fcb   $08,$00,$0E,$93,$05,$AB,$96>>
               A3D6 05 AB 96
    741        A3D9 08 01 0E 43           fcb   $08,$01,$0E,$43,$05,$AB,$01>>
               A3DD 05 AB 01
    742        A3E0 09 00 0E 98           fcb   $09,$00,$0E,$98,$05,$A9,$FF>>
               A3E4 05 A9 FF
    743        A3E7 09 02 0E AD           fcb   $09,$02,$0E,$AD,$06,$BC,$F6>>
               A3EB 06 BC F6
    744        A3EE 0B 03 0E 5E           fcb   $0B,$03,$0E,$5E,$08,$B4,$CE>>
               A3F2 08 B4 CE
    745        A3F5 0E 01 0E 71           fcb   $0E,$01,$0E,$71,$05,$A9,$A1>>
               A3F9 05 A9 A1
    746        A3FC 0F 00 0E D7           fcb   $0F,$00,$0E,$D7,$05,$A7,$32>>
               A400 05 A7 32
    747        A403 0F 01 0E 19           fcb   $0F,$01,$0E,$19,$05,$A6,$C3>>
               A407 05 A6 C3
    748        A40A 10 00 0E 80           fcb   $10,$00,$0E,$80,$05,$A7,$D1>>
               A40E 05 A7 D1
    749        A411 10 00 0E C2           fcb   $10,$00,$0E,$C2,$05,$A7,$60>>
               A415 05 A7 60
    750        A418 10 01 0E 0F           fcb   $10,$01,$0E,$0F,$05,$A6,$1E>>
               A41C 05 A6 1E
    751        A41F 01 00 0F 4B           fcb   $01,$00,$0F,$4B,$05,$A5,$CD>>
               A423 05 A5 CD
    752        A426 01 00 0F 9A           fcb   $01,$00,$0F,$9A,$05,$A6,$95>>
               A42A 05 A6 95
    753        A42D 01 00 0F D6           fcb   $01,$00,$0F,$D6,$05,$A6,$42>>
               A431 05 A6 42
    754        A434 01 02 0F B7           fcb   $01,$02,$0F,$B7,$07,$D2,$64>>
               A438 07 D2 64
    755        A43B 03 02 0F 65           fcb   $03,$02,$0F,$65,$06,$B9,$4F>>
               A43F 06 B9 4F
    756        A442 05 02 0F 23           fcb   $05,$02,$0F,$23,$06,$B5,$B7>>
               A446 06 B5 B7
    757        A449 07 01 0F 42           fcb   $07,$01,$0F,$42,$05,$A5,$A9>>
               A44D 05 A5 A9
    758        A450 08 02 0F 0E           fcb   $08,$02,$0F,$0E,$06,$B2,$4A>>
               A454 06 B2 4A
    759        A457 0A 00 0F 5B           fcb   $0A,$00,$0F,$5B,$05,$A4,$0E>>
               A45B 05 A4 0E
    760        A45E 0A 01 0F E4           fcb   $0A,$01,$0F,$E4,$06,$AE,$6C>>
               A462 06 AE 6C
    761        A465 0B 06 0F 99           fcb   $0B,$06,$0F,$99,$09,$B5,$82>>
               A469 09 B5 82
    762        A46C 01 07 10 94           fcb   $01,$07,$10,$94,$0A,$C4,$74>>
               A470 0A C4 74
    763        A473 08 02 10 53           fcb   $08,$02,$10,$53,$07,$CD,$D8>>
               A477 07 CD D8
    764        A47A 0A 06 10 CD           fcb   $0A,$06,$10,$CD,$0B,$DC,$C7>>
               A47E 0B DC C7
    765        A481 10 02 10 80           fcb   $10,$02,$10,$80,$07,$C9,$60>>
               A485 07 C9 60
    766        A488 02 06 11 D8           fcb   $02,$06,$11,$D8,$0B,$CE,$89>>
               A48C 0B CE 89
    767        A48F 08 02 11 8D           fcb   $08,$02,$11,$8D,$07,$C5,$1F>>
               A493 07 C5 1F
    768        A496 0A 06 11 58           fcb   $0A,$06,$11,$58,$0A,$B5,$8E>>
               A49A 0A B5 8E
    769        A49D 10 01 11 B2           fcb   $10,$01,$11,$B2,$06,$AA,$B6>>
               A4A1 06 AA B6
    770        A4A4 01 05 12 72           fcb   $01,$05,$12,$72,$0B,$C0,$33>>
               A4A8 0B C0 33
    771        A4AB 06 01 12 85           fcb   $06,$01,$12,$85,$06,$A7,$05>>
               A4AF 06 A7 05
    772        A4B2 07 01 12 50           fcb   $07,$01,$12,$50,$05,$A1,$B1>>
               A4B6 05 A1 B1
    773        A4B9 08 01 12 7E           fcb   $08,$01,$12,$7E,$06,$A3,$99>>
               A4BD 06 A3 99
    774        A4C0 09 00 12 00           fcb   $09,$00,$12,$00,$05,$A2,$53>>
               A4C4 05 A2 53
    775        A4C7 0A 09 12 E0           fcb   $0A,$09,$12,$E0,$0C,$C3,$98>>
               A4CB 0C C3 98
    776        A4CE 03 02 13 FB           fcb   $03,$02,$13,$FB,$09,$AB,$27>>
               A4D2 09 AB 27
    777        A4D5 05 04 13 A1           fcb   $05,$04,$13,$A1,$0B,$B4,$C9>>
               A4D9 0B B4 C9
    778        A4DC 09 01 13 9A           fcb   $09,$01,$13,$9A,$07,$C0,$B4>>
               A4E0 07 C0 B4
    779        A4E3 0A 05 13 E2           fcb   $0A,$05,$13,$E2,$0C,$B0,$8A>>
               A4E7 0C B0 8A
    780        A4EA 0F 02 13 14           fcb   $0F,$02,$13,$14,$07,$BC,$85>>
               A4EE 07 BC 85
    781        A4F1 01 01 14 EF           fcb   $01,$01,$14,$EF,$07,$B7,$D8>>
               A4F5 07 B7 D8
    782        A4F8 02 02 14 B5           fcb   $02,$02,$14,$B5,$07,$B4,$3A>>
               A4FC 07 B4 3A
    783        A4FF 04 05 14 51           fcb   $04,$05,$14,$51,$0D,$BE,$6F>>
               A503 0D BE 6F
    784        A506 09 01 14 4B           fcb   $09,$01,$14,$4B,$07,$B0,$D6>>
               A50A 07 B0 D6
    785        A50D 0A 04 14 3C           fcb   $0A,$04,$14,$3C,$0A,$A9,$2B>>
               A511 0A A9 2B
    786        A514 0E 04 14 A1           fcb   $0E,$04,$14,$A1,$0D,$AE,$DF>>
               A518 0D AE DF
    787        A51B 02 01 15 A0           fcb   $02,$01,$15,$A0,$07,$AC,$72>>
               A51F 07 AC 72
    788        A522 03 01 15 58           fcb   $03,$01,$15,$58,$06,$A2,$05>>
               A526 06 A2 05
    789        A529 04 02 15 97           fcb   $04,$02,$15,$97,$08,$AF,$79>>
               A52D 08 AF 79
    790        A530 06 02 15 C8           fcb   $06,$02,$15,$C8,$08,$AA,$D0>>
               A534 08 AA D0
    791        A537 08 02 15 F0           fcb   $08,$02,$15,$F0,$07,$A8,$3D>>
               A53B 07 A8 3D
    792        A53E 0A 02 15 AE           fcb   $0A,$02,$15,$AE,$07,$A4,$06>>
               A542 07 A4 06
    793        A545 0C 02 15 3C           fcb   $0C,$02,$15,$3C,$08,$A6,$0B>>
               A549 08 A6 0B
    794        A54C 0E 00 15 BF           fcb   $0E,$00,$15,$BF,$05,$A0,$AE>>
               A550 05 A0 AE
    795        A553 0E 02 15 3C           fcb   $0E,$02,$15,$3C,$08,$A2,$F6>>
               A557 08 A2 F6
    796        A55A 10 03 15 43           fcb   $10,$03,$15,$43,$09,$A6,$08>>
               A55E 09 A6 08
    797        A561 03 03 16 DC           fcb   $03,$03,$16,$DC,$0B,$A6,$2E>>
               A565 0B A6 2E
    798        A568 06 0F 16 35           fcb   $06,$0F,$16,$35,$01,$8B,$3B>>
               A56C 01 8B 3B
    799        A56F FF                    fcb   $FF
    103
    104

000000 Total Errors

000297 Total Symbols
     0x          Equ   0004 anim
     0x          Equ   727A AnimateSprite
     0x          Equ   0008 anim_frame
     0x          Equ   0009 anim_frame_duration
     0x          Equ   8735 Ani_largeStar
     0x          Equ   8725 Ani_SegaSonic_1
     0x          Equ   871B Ani_SegaSonic_2
     0x          Equ   8711 Ani_SegaSonic_3
     0x          Equ   872F Ani_smallStar
     0x          Equ   874D Ani_sonic
     0x          Equ   8741 Ani_tails
     0x          Equ   7D14 Black_palette
     0x          Equ   0009 buf_bgdata
     0x          Equ   0007 buf_prev_mapping_frame
     0x          Equ   0011 buf_prev_render_flags
     0x          Equ   000D buf_prev_x1_pixel
     0x          Equ   000F buf_prev_x2_pixel
     0x          Equ   000D buf_prev_xy1_pixel
     0x          Equ   000F buf_prev_xy2_pixel
     0x          Equ   000B buf_prev_xy_pixel
     0x          Equ   000B buf_prev_x_pixel
     0x          Equ   000E buf_prev_y1_pixel
     0x          Equ   0010 buf_prev_y2_pixel
     0x          Equ   000C buf_prev_y_pixel
     0x          Equ   0000 buf_priority
     0x          Equ   0003 buf_priority_next_obj
     0x          Equ   0001 buf_priority_prev_obj
     0x          Equ   0040 c1_button_A_mask
     0x          Equ   0002 c1_button_down_mask
     0x          Equ   0004 c1_button_left_mask
     0x          Equ   0008 c1_button_right_mask
     0x          Equ   0001 c1_button_up_mask
     0x          Equ   0080 c2_button_A_mask
     0x          Equ   0020 c2_button_down_mask
     0x          Equ   0040 c2_button_left_mask
     0x          Equ   0080 c2_button_right_mask
     0x          Equ   0010 c2_button_up_mask
     0x          Equ   7CB7 ClearCartMem
     0x          Equ   7407 ClearObj
     1x          Label A031 CopyCode1
     0x          Label A035 CopyCode2
     1x          Label A03B CopyCode3
     1x          Label A027 CopyData1
     0x          Label A02B CopyData2
     1x          Equ   41C7 current_game_mode_data
     0x          Equ   7CF2 Cur_palette
     0x          Equ   7345 DeleteObject
     0x          Equ   733F DeleteObject_x
     0x          Equ   7201 DisplaySprite
     0x          Equ   71FB DisplaySprite_x
     0x          Equ   604F dk_destination
     0x          Equ   6049 dk_lecteur
     0x          Equ   604A dk_piste
     0x          Equ   604B dk_pisteL
     0x          Equ   604C dk_secteur
     0x          Equ   718C Dpad_Held
     0x          Equ   718E Dpad_Press
     0x          Equ   0001 draw_routine
     0x          Equ   7CF4 Dyn_palette
     0x          Equ   0006 erase_nb_cell
     0x          Equ   0004 erase_routine
     0x          Equ   001B ext_variables
     0x          Equ   718D Fire_Held
     0x          Equ   718F Fire_Press
     1x          Equ   414F GameModeLoader
     1x          Label A042 GameModeLoaderBin
     0x          Label A000 GameModeManager
     0x          Equ   6122 Glb_Sprite_Screen_Pos_Part1
     0x          Equ   6124 Glb_Sprite_Screen_Pos_Part2
     0x          Label A20B gmboot
     0x          Label A209 gm_TITLESCR
     0x          Equ   0038 gravity
     0x          Equ   0000 id
     0x          Equ   0006 image_center_offset
     0x          Equ   000A image_set
     0x          Equ   0004 image_subset_x1_offset
     0x          Equ   0005 image_subset_y1_offset
     0x          Equ   0004 image_x_size
     0x          Equ   0005 image_y_size
     0x          Equ   8655 Img_emblemBack01
     0x          Equ   8645 Img_emblemBack02
     0x          Equ   855B Img_emblemBack03
     0x          Equ   854B Img_emblemBack04
     0x          Equ   857B Img_emblemBack05
     0x          Equ   856B Img_emblemBack06
     0x          Equ   852B Img_emblemBack07
     0x          Equ   851B Img_emblemBack08
     0x          Equ   853B Img_emblemBack09
     0x          Equ   86F0 Img_emblemFront01
     0x          Equ   8700 Img_emblemFront02
     0x          Equ   86D0 Img_emblemFront03
     0x          Equ   86E0 Img_emblemFront04
     0x          Equ   86B0 Img_emblemFront05
     0x          Equ   86C0 Img_emblemFront06
     0x          Equ   8690 Img_emblemFront07
     0x          Equ   86A0 Img_emblemFront08
     0x          Equ   8609 Img_island
     0x          Equ   8298 Img_SegaLogo_1
     0x          Equ   8288 Img_SegaLogo_2
     0x          Equ   8387 Img_SegaSonic_11
     0x          Equ   82C1 Img_SegaSonic_12
     0x          Equ   8303 Img_SegaSonic_13
     0x          Equ   8345 Img_SegaSonic_21
     0x          Equ   83C9 Img_SegaSonic_22
     0x          Equ   82E2 Img_SegaSonic_23
     0x          Equ   840B Img_SegaSonic_31
     0x          Equ   8324 Img_SegaSonic_32
     0x          Equ   83A8 Img_SegaSonic_33
     0x          Equ   83EA Img_SegaSonic_41
     0x          Equ   842C Img_SegaSonic_42
     0x          Equ   8366 Img_SegaSonic_43
     0x          Equ   82A8 Img_SegaTrails_1
     0x          Equ   848D Img_SegaTrails_2
     0x          Equ   847D Img_SegaTrails_3
     0x          Equ   846D Img_SegaTrails_4
     0x          Equ   845D Img_SegaTrails_5
     0x          Equ   844D Img_SegaTrails_6
     0x          Equ   8278 Img_SonicAndTailsIn
     0x          Equ   84CE Img_sonicHand
     0x          Equ   861D Img_sonic_1
     0x          Equ   8631 Img_sonic_2
     0x          Equ   8665 Img_sonic_3
     0x          Equ   8679 Img_sonic_4
     0x          Equ   8500 Img_star_1
     0x          Equ   84E5 Img_star_2
     0x          Equ   84BA Img_star_3
     0x          Equ   84A6 Img_star_4
     0x          Equ   85F2 Img_tailsHand
     0x          Equ   85DE Img_tails_1
     0x          Equ   85CA Img_tails_2
     0x          Equ   85B6 Img_tails_3
     0x          Equ   85A2 Img_tails_4
     0x          Equ   858B Img_tails_5
     0x          Equ   8208 IrqOff
     0x          Equ   81FD IrqOn
     0x          Equ   8232 IrqPsg
     0x          Equ   8241 IrqPsgRaster
     0x          Equ   8213 IrqSync
     0x          Equ   4DFF irq_one_frame
     0x          Equ   81FB Irq_Raster_End
     0x          Equ   81F7 Irq_Raster_Page
     0x          Equ   81F9 Irq_Raster_Start
     0x          Equ   6027 irq_routine
     0x          Equ   E7C6 irq_timer
     0x          Equ   E7C5 irq_timer_ctrl
     0x          Equ   718C Joypads_Held
     0x          Equ   718E Joypads_Press
     0x          Equ   71F9 MarkObjGone
     0x          Equ   001B nb_dynamic_objects
     0x          Equ   0003 nb_level_objects
     0x          Equ   0020 nb_objects
     0x          Equ   0008 nb_priority_levels
     0x          Equ   0002 nb_reserved_objects
     0x          Equ   005A next_object
     0x          Equ   6610 Object_RAM
     1x          Equ   005A object_size
     0x          Equ   0003 ObjID_PaletteHandler
     0x          Equ   0002 ObjID_SEGA
     0x          Equ   0001 ObjID_SonicAndTailsIn
     0x          Equ   0004 ObjID_TitleScreen
     0x          Equ   0000 page_draw_routine
     0x          Equ   0003 page_erase_routine
     0x          Equ   8A9B Pal_SEGA
     0x          Equ   8B1B Pal_SEGAEnd
     0x          Equ   8ADB Pal_SEGAMid
     0x          Equ   8AFB Pal_SonicAndTailsIn
     0x          Equ   8ABB Pal_TitleScreen
     0x          Equ   0003 pcm_end_addr
     0x          Equ   0005 pcm_meta_size
     0x          Equ   0000 pcm_page
     0x          Equ   8A56 Pcm_SEGA
     0x          Equ   0001 pcm_start_addr
     0x          Equ   7D7C PlayPCM
     0x          Equ   0006 prev_anim
     0x          Equ   0003 priority
     0x          Equ   7E87 PSGCancelLoop
     0x          Equ   8041 PSGFrame
     0x          Equ   7E8B PSGGetStatus
     0x          Equ   7DD3 PSGInit
     0x          Equ   7DE5 PSGPlayNoRepeat
     0x          Equ   7F03 PSGRestoreVolumes
     0x          Equ   7E3C PSGResume
     0x          Equ   7E8F PSGSetMusicVolumeAttenuation
     0x          Equ   8039 PSGSFXCancelLoop
     0x          Equ   814E PSGSFXFrame
     0x          Equ   803D PSGSFXGetStatus
     0x          Equ   7F77 PSGSFXPlayLoop
     0x          Equ   7FC3 PSGSFXStop
     0x          Equ   7EEE PSGSilenceChannels
     0x          Equ   7E13 PSGStop
     0x          Equ   8A61 Psg_TitleScreen
     0x          Equ   7CF1 Refresh_palette
     0x          Equ   0002 render_flags
     0x          Equ   0020 render_hide_mask
     0x          Equ   0008 render_motionless_mask
     0x          Equ   0004 render_overlay_mask
     0x          Equ   0010 render_playfieldcoord_mask
     0x          Equ   0040 render_todelete_mask
     0x          Equ   0080 render_xloop_mask
     0x          Equ   0001 render_xmirror_mask
     0x          Equ   0002 render_ymirror_mask
     0x          Equ   0018 routine
     0x          Equ   0019 routine_secondary
     0x          Equ   003F rsv_bgdata_0
     0x          Equ   0051 rsv_bgdata_1
     0x          Equ   0036 rsv_buffer_0
     0x          Equ   0048 rsv_buffer_1
     0x          Equ   002C rsv_image_center_offset
     0x          Equ   002E rsv_image_subset
     0x          Equ   0030 rsv_mapping_frame
     0x          Equ   002A rsv_prev_anim
     0x          Equ   003D rsv_prev_mapping_frame_0
     0x          Equ   004F rsv_prev_mapping_frame_1
     0x          Equ   0047 rsv_prev_render_flags_0
     0x          Equ   0059 rsv_prev_render_flags_1
     0x          Equ   0080 rsv_prev_render_onscreen_mask
     0x          Equ   0001 rsv_prev_render_overlay_mask
     0x          Equ   0043 rsv_prev_x1_pixel_0
     0x          Equ   0055 rsv_prev_x1_pixel_1
     0x          Equ   0045 rsv_prev_x2_pixel_0
     0x          Equ   0057 rsv_prev_x2_pixel_1
     0x          Equ   0043 rsv_prev_xy1_pixel_0
     0x          Equ   0055 rsv_prev_xy1_pixel_1
     0x          Equ   0045 rsv_prev_xy2_pixel_0
     0x          Equ   0057 rsv_prev_xy2_pixel_1
     0x          Equ   0041 rsv_prev_xy_pixel_0
     0x          Equ   0053 rsv_prev_xy_pixel_1
     0x          Equ   0041 rsv_prev_x_pixel_0
     0x          Equ   0053 rsv_prev_x_pixel_1
     0x          Equ   0044 rsv_prev_y1_pixel_0
     0x          Equ   0056 rsv_prev_y1_pixel_1
     0x          Equ   0046 rsv_prev_y2_pixel_0
     0x          Equ   0058 rsv_prev_y2_pixel_1
     0x          Equ   0042 rsv_prev_y_pixel_0
     0x          Equ   0054 rsv_prev_y_pixel_1
     0x          Equ   0036 rsv_priority_0
     0x          Equ   0048 rsv_priority_1
     0x          Equ   0039 rsv_priority_next_obj_0
     0x          Equ   004B rsv_priority_next_obj_1
     0x          Equ   0037 rsv_priority_prev_obj_0
     0x          Equ   0049 rsv_priority_prev_obj_1
     0x          Equ   0001 rsv_render_checkrefresh_mask
     0x          Equ   0004 rsv_render_displaysprite_mask
     0x          Equ   0002 rsv_render_erasesprite_mask
     0x          Equ   0029 rsv_render_flags
     0x          Equ   0008 rsv_render_outofrange_mask
     0x          Equ   0032 rsv_x1_pixel
     0x          Equ   0034 rsv_x2_pixel
     0x          Equ   0032 rsv_xy1_pixel
     0x          Equ   0034 rsv_xy2_pixel
     0x          Equ   0033 rsv_y1_pixel
     0x          Equ   0035 rsv_y2_pixel
     0x          Equ   7162 screen_border_color
     0x          Equ   00E3 screen_bottom
     0x          Equ   0030 screen_left
     0x          Equ   00CF screen_right
     0x          Equ   001C screen_top
     0x          Equ   00A0 screen_width
     0x          Equ   001A status
     0x          Equ   0004 status_bit2
     0x          Equ   0080 status_bit7
     0x          Equ   0002 status_inair
     0x          Equ   0010 status_jumpingafterrolling
     0x          Equ   0004 status_jumporroll
     0x          Equ   0020 status_mainchar_pushing
     0x          Equ   0008 status_mainchar_standing
     0x          Equ   0008 status_norgroundnorfall
     0x          Equ   0020 status_pushing
     0x          Equ   0040 status_sidekick_pushing
     0x          Equ   0010 status_sidekick_standing
     0x          Equ   0040 status_underwater
     0x          Equ   0001 status_x_orientation
     0x          Equ   0002 status_y_orientation
     0x          Equ   0001 subtype
     0x          Label A00A SwapVideoPage
     0x          Equ   7D54 UpdatePalette
     0x          Equ   7188 Vint_runcount
     1x          Label A000 WaitVBL
     1x          Label A005 WaitVBL_01
     0x          Equ   7D34 White_palette
     0x          Equ   0012 xy_pixel
     0x          Equ   0012 x_pixel
     0x          Equ   000C x_pos
     0x          Equ   000E x_sub
     0x          Equ   0014 x_vel
     0x          Equ   0013 y_pixel
     0x          Equ   000F y_pos
     0x          Equ   0011 y_sub
     0x          Equ   0016 y_vel
     0x          Equ   00FE _goBackNFrames
     0x          Equ   00FD _goToAnimation
     0x          Equ   00FC _nextRoutine
     0x          Equ   00FA _nextSubRoutine
     0x          Equ   00FF _resetAnim
     0x          Equ   00FB _resetAnimAndSubRoutine
     0x          Equ   80FB _sendVolume2PSG
     0x          Equ   81AB _SFXsetLoopPoint

