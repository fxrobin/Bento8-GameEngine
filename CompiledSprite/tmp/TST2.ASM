(main)IMG.ASM
	ORG $A000
DRAW_TST2
	PSHS U,DP
	STS SSAV_TST2+2

	LDS $9F00
	STS ERASE_POS_TST2_1+2
	LDU #ERASE_DATA_TST2_2

	LDS $9F00+2
	STS ERASE_POS_TST2_2+2
	LDU #ERASE_DATA_TST2_END

	LEAS 2,S

	LDA -1,S
	LDB 1,S
	PSHU S,B,A
	ANDB #$F0
	ORB #$0f
	STB 1,S
	LDA #$ff
	STA -1,S
SSAV_TST2
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_TST2
	PSHS U,DP
	STS ERASE_SSAV_TST2+2

ERASE_POS_TST2_1
	LDS #$0000
	LDU #ERASE_DATA_TST2_1

ERASE_CODE_TST2_1
ERASE_POS_TST2_2
	LDS #$0000
	LDU #ERASE_DATA_TST2_2

ERASE_CODE_TST2_2
	PULU A,B,S
	STA -1,S
	STB 1,S

ERASE_SSAV_TST2
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_TST2_1
ERASE_DATA_TST2_2
	FDB $0000
	FDB $0000
ERASE_DATA_TST2_END
