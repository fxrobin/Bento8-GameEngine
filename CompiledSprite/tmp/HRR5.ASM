(main)IMG.ASM
	ORG $CD8B
DRAW_HRR5
	PSHS U,DP
	STS SSAV_HRR5+2

	LDS $9F00
	STS ERASE_POS_HRR5_1+2
	LDU #ERASE_DATA_HRR5_2
	LEAS 523,S

	LDD -41,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$aa
	STD -41,S
	LDA -80,S
	LDX 39,S
	PSHU X,A
	STB -80,S
	LDD #$ddcc
	STD 39,S
	LDA 1,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 1,S
	LDB 41,S
	ANDA #$0F
	ORA #$a0
	STA 41,S
	LDX -1,S
	LDY 80,S
	PSHU S,Y,X,B
	LDD #$cdca
	STD -1,S
	LDB #$aa
	STD 80,S
	LEAS 239,S

	LDA -38,S
	LDX -119,S
	LDY -79,S
	PSHU Y,X,A
	LDD #$cdaa
	STD -119,S
	STD -79,S
	LDD -40,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cd
	STD -40,S
	LDA #$da
	STA -38,S
	PULS A,X
	PSHU S,X,A
	LDA #$cc
	LDX #$caba
	PSHS A,X
	LEAS 40,S


	LDS $9F00+2
	STS ERASE_POS_HRR5_2+2
	LDU #ERASE_DATA_HRR5_END

	LEAS 562,S

	LDA -120,S
	LDB 1,S
	LDX 120,S
	PSHU X,B,A
	LDD -80,S
	PSHU D
	LDA #$ca
	ANDB #$0F
	ORB #$a0
	STD -80,S
	LDD -1,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$dd
	STD -1,S
	LDD 80,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$23
	STD 80,S
	LDA #$2d
	STA 1,S
	LDX -40,S
	LDY 40,S
	PSHU S,Y,X
	LDA #$dd
	STD 40,S
	LDD #$cc2a
	STD 120,S
	LDB #$dd
	STD -40,S
	LDA #$aa
	STA -120,S
	LEAS 181,S

	LDX -21,S
	LDD #$ccaa
	STD -21,S
	LDY 19,S
	PSHU Y,X
	LDB #$ac
	STD 19,S
	LDA 21,S
	PSHU S,A
	ANDA #$0F
	ORA #$c0
	STA 21,S
	LEAS 178,S

	LDD -80,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cc
	STD -80,S
	LDD -40,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$dc
	STD -40,S
	LDA -117,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -117,S
	LDB 43,S
	PSHU B
	ANDA #$0F
	ORA #$a0
	STA 43,S
	LDA 83,S
	PSHU A
	ANDA #$0F
	ORA #$90
	STA 83,S
	LDB 123,S
	ANDA #$0F
	ORA #$00
	STA 123,S
	LDX -119,S
	LDY 81,S
	PSHU Y,X,B
	LDD #$cc2c
	STD 81,S
	LDB #$ac
	STD -119,S
	LDD 41,S
	LDX 121,S
	PSHU X,D
	LDD -78,S
	PSHU D
	LDA #$aa
	ANDB #$0F
	ORB #$c0
	STD -78,S
	LDD -38,S
	PSHU D
	LDA #$aa
	ANDB #$0F
	ORB #$c0
	STD -38,S
	LDD #$cd2b
	STD 121,S
	LDD #$dcca
	STD 41,S
	PULS A,X
	PSHU S,X,A
	LDA #$dd
	LDX #$dcaa
	PSHS A,X
	LEAS 200,S

	LDD -40,S
	PSHU D
	ANDA #$0F
	ORA #$a0
	LDB #$dd
	STD -40,S
	LDA -38,S
	LDB 3,S
	PSHU B,A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	LDA #$22
	STA -38,S
	PULS A,X
	PSHU S,X,A
	LDA #$09
	LDX #$d022
	PSHS A,X
	LEAS 40,S

	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$b0
	STA 3,S
	PULS B,X
	PSHU S,X,B
	LDA #$99
	LDX #$dd13
	PSHS A,X
	LEAS 40,S

	LDX 40,S
	LDD #$edde
	STD 40,S
	LDY 80,S
	PSHU Y,X
	LDD 42,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$0ab0
	STD 42,S
	LDD 82,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$0ab0
	STD 82,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$b0
	STA 3,S
	LDD #$11c3
	STD 80,S
	PULS B,X
	PSHU S,X,B
	LDA #$0d
	LDX #$03da
	PSHS A,X
	LEAS 120,S

	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	PULS B,X
	PSHU S,X,B
	LDA #$ea
	LDX #$c32a
	PSHS A,X
	LEAS 40,S

	LDD 79,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$ad
	STD 79,S
	LDD 119,S
	PSHU D
	ANDA #$F0
	ORA #$0e
	LDB #$fb
	STD 119,S
	LDA 81,S
	LDB 3,S
	PSHU B,A
	ANDA #$0F
	ORA #$10
	STA 3,S
	LDA 43,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA 43,S
	LDB 83,S
	PSHU B
	ANDA #$0F
	ORA #$e0
	STA 83,S
	LDA 121,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 121,S
	LDB 123,S
	ANDA #$0F
	ORA #$e0
	STA 123,S
	LDX 40,S
	PSHU X,B
	LDD #$addc
	STD 40,S
	LDA #$cd
	STA 81,S
	PULS A,X
	PSHU S,X,A
	LDA #$a0
	LDX #$d331
	PSHS A,X
	LEAS 281,S

	LDA -122,S
	PSHU A
	ANDA #$F0
	ORA #$0e
	STA -122,S
	LDB -118,S
	PSHU B
	ANDA #$0F
	ORA #$e0
	STA -118,S
	LDA -82,S
	PSHU A
	ANDA #$F0
	ORA #$0e
	STA -82,S
	LDB -78,S
	PSHU B
	ANDA #$0F
	ORA #$e0
	STA -78,S
	LDA -42,S
	PSHU A
	ANDA #$F0
	ORA #$0e
	STA -42,S
	LDB -2,S
	PSHU B
	ANDA #$F0
	ORA #$0e
	STA -2,S
	LDD -39,S
	PSHU D
	LDA #$aa
	ANDB #$0F
	ORB #$e0
	STD -39,S
	LDD 1,S
	PSHU D
	LDA #$a9
	ANDB #$0F
	ORB #$e0
	STD 1,S
	LDD 41,S
	PSHU D
	LDA #$ae
	ANDB #$0F
	ORB #$10
	STD 41,S
	LDA 81,S
	LDB 121,S
	PSHU S,B,A
	LDA #$91
	STA 81,S
	LDA #$0e
	STA 121,S
	LEAS 201,S

	LDA -40,S
	LDB ,S
	PSHU B,A
	ANDA #$F0
	ORA #$00
	STA ,S
	LDA 40,S
	PSHU S,A
	ANDA #$F0
	ORA #$0e
	STA 40,S
	LDA #$0e
	STA -40,S
SSAV_HRR5
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_HRR5
	PSHS U,DP
	STS ERASE_SSAV_HRR5+2

ERASE_POS_HRR5_1
	LDS #$0000
	LDU #ERASE_DATA_HRR5_1

ERASE_CODE_HRR5_1
	PULU A,X,Y,S
	STA 1,S
	STX 3,S
	STY -40,S

	PULU A,X,Y
	STA -38,S
	STX -119,S
	STY -79,S

	PULU A,X,Y,S
	STA 41,S
	STX -1,S
	STY 80,S

	PULU A,B,X,Y
	STA 1,S
	STB -80,S
	STX 39,S
	STY -41,S

ERASE_POS_HRR5_2
	LDS #$0000
	LDU #ERASE_DATA_HRR5_2

ERASE_CODE_HRR5_2
	PULU A,S
	STA 40,S

	PULU A,B
	STA -40,S
	STB ,S

	PULU A,B,S
	STA 81,S
	STB 121,S

	PULU D,X,Y
	STD 41,S
	STX 1,S
	STY -39,S

	PULU A,B
	STA -2,S
	STB -42,S

	PULU A,B
	STA -78,S
	STB -82,S

	PULU A,B
	STA -118,S
	STB -122,S

	PULU A,X

	PULU A,S
	STA 123,S

	PULU D
	STD 40,S

	PULU A,B
	STA 121,S
	STB 83,S

	PULU A,B
	STA 43,S
	STB 81,S

	PULU A,X,Y
	STA 3,S
	STX 119,S
	STY 79,S

	PULU A,X

	PULU A,S
	STA 3,S

	PULU A,X

	PULU A,S
	STA 3,S

	PULU D,X,Y
	STD 82,S
	STX 42,S
	STY 40,S

	PULU D
	STD 80,S

	PULU A,X

	PULU A,S
	STA 3,S

	PULU A,X

	PULU A,S
	STA -38,S

	PULU A,X
	STA 3,S
	STX -40,S

	PULU A,X,Y,S
	STA 1,S
	STX 3,S
	STY -38,S

	PULU D,X,Y
	STD -78,S
	STX 41,S
	STY 121,S

	PULU A,X,Y
	STA 123,S
	STX -119,S
	STY 81,S

	PULU A,B
	STA 83,S
	STB 43,S

	PULU A,X,Y
	STA -117,S
	STX -40,S
	STY -80,S

	PULU A,S
	STA 21,S

	PULU D,X
	STD -21,S
	STX 19,S

	PULU D,X,S
	STD -40,S
	STX 40,S

	PULU D,X,Y
	STD 80,S
	STX -1,S
	STY -80,S

	PULU A,B,X
	STA -120,S
	STB 1,S
	STX 120,S

ERASE_SSAV_HRR5
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_HRR5_1
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HRR5_2
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HRR5_END
