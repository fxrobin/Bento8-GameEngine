(main)IMG.ASM
	ORG $C8E6
DRAW_HWR7
	PSHS U,DP
	STS SSAV_HWR7+2

	LDS $9F00
	STS ERASE_POS_HWR7_1+2
	LDU #ERASE_DATA_HWR7_2
	LEAS 523,S
	LDD -81,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$0aa0
	STD -81,S
	LDA 81,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 81,S
	LDD 79,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$d2
	STD 79,S
	LEAS 239,S
	LDD -119,S
	PSHU D
	LDA #$d2
	ANDB #$0F
	ORB #$a0
	STD -119,S
	LDA -78,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -78,S
	PULS A,X
	PSHU A,X
	LDA -38,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -38,S
	LDD -80,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$d2
	STD -80,S
	LDA #$cc
	LDX #$aaac
	PSHS A,X
	LEAS 40,S
	PULS A,X
	PSHU A,X
	LDD 39,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$dc
	STD 39,S
	LDX #$baca
	PSHS B,X
	LEAS 80,S
	LDA #$dd
	LDX #$aaac
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDA 42,S
	PSHU A
	ANDA #$0F
	ORA #$90
	STA 42,S
	LDD 80,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$cc
	STD 80,S
	LEAS 120,S
	LDX #$c229
	PSHS B,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDX #$3220
	PSHS B,X
	PULS A,X
	PSHU A,X
	LDA 42,S
	PSHU A,S
	ANDA #$0F
	ORA #$20
	STA 42,S
	LDA 82,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA 82,S
	LEAS 281,S
	LEAS 280,S
	LDD 118,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$00a0
	STD 118,S
	LDD -2,S
	PSHU D
	ANDA #$F0
	ORA #$0e
	LDB #$bd
	STD -2,S
	LDD 38,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$bd
	STD 38,S
	LDD 40,S
	PSHU D
	LDA #$e1
	ANDB #$0F
	ORB #$f0
	STD 40,S
	LDD 78,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$ab
	STD 78,S
	LDD 120,S
	PSHU D
	ANDA #$F0
	ORA #$09
	LDB #$1f
	STD 120,S
	LDD -81,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$e9
	STD -81,S
	LDD 80,S
	PSHU D
	LDA #$0a
	ANDB #$0F
	ORB #$10
	STD 80,S
	LDA -120,S
	PSHU A
	ANDA #$F0
	ORA #$09
	STA -120,S
	LEAS 219,S
	LDD -21,S
	PSHU D,S
	ANDA #$F0
	ORA #$00
	LDB #$f2
	STD -21,S
	LDD -61,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$ff
	STD -61,S

	LDS $9F00+2
	STS ERASE_POS_HWR7_2+2
	LDU #ERASE_DATA_HWR7_END

	LEAS 522,S
	LDD -1,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$cc
	STD -1,S
	LEAS 239,S
	PULS A,X
	PSHU A,X
	LDD -40,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$cc
	STD -40,S
	LDX #$cccb
	PSHS B,X
	LEAS 40,S
	LDB #$cd
	PSHS B,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	PULS A,X
	PSHU A,X
	LDD 40,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$cc
	STD 40,S
	LDA #$dd
	LDX #$ccab
	PSHS A,X
	LEAS 240,S
	PULS A,X
	PSHU A,X
	LDD -40,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$dd
	STD -40,S
	LDA #$cd
	LDX #$dd22
	PSHS A,X
	LEAS 40,S
	LDX #$0b22
	PSHS B,X
	PULS A,X
	PSHU A,X
	LDD 40,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$ab
	STD 40,S
	LDD 120,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$bb
	STD 120,S
	LEAS 281,S
	LDD -81,S
	PSHU D
	ANDA #$F0
	ORA #$09
	LDB #$9a
	STD -81,S
	LDA 121,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 121,S
	LDA -119,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA -119,S
	LDD ,S
	PSHU D
	LDA #$dd
	ANDB #$0F
	ORB #$d0
	STD ,S
	LDD 40,S
	PSHU D
	LDA #$dc
	ANDB #$0F
	ORB #$90
	STD 40,S
	LDD 80,S
	PSHU D,S
	LDA #$0d
	ANDB #$0F
	ORB #$a0
	STD 80,S
	LDD -121,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$aa
	STD -121,S
	LDD 119,S
	PSHU D
	ANDA #$0F
	ORA #$e0
	LDB #$cd
	STD 119,S
	LEAS 279,S
	LDD -80,S
	PSHU D
	LDA #$1a
	ANDB #$0F
	ORB #$d0
	STD -80,S
	LDD -120,S
	PSHU D
	LDA #$1e
	ANDB #$0F
	ORB #$d0
	STD -120,S
	LDA 82,S
	PSHU A
	ANDA #$F0
	ORA #$0e
	STA 82,S
	LDD 120,S
	PSHU D,S
	LDA #$af
	ANDB #$0F
	ORB #$f0
	STD 120,S
	LEAS 180,S
SSAV_HWR7
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_HWR7
	PSHS U,DP
	STS ERASE_SSAV_HWR7+2

ERASE_POS_HWR7_1
	LDS #$0000
	LDU #ERASE_DATA_HWR7_1

ERASE_CODE_HWR7_1
	PULU D,X,S
	STD -61,S
	STX -21,S

	PULU A,X,Y,S
	STA -120,S
	STX 80,S
	STY -81,S

	PULU D,X,Y
	STD 120,S
	STX 78,S
	STY 40,S

	PULU D,X,Y
	STD 38,S
	STX -2,S
	STY 118,S

	PULU A,B,S
	STA 82,S
	STB 42,S

	PULU B,X

	PULU B,X,S
	PSHS B,X

	PULU D,S
	STD 80,S

	PULU A,B,X
	STA 42,S

	PULU D,S
	STD 39,S

	PULU B,X

	PULU D,S
	STD -80,S

	PULU A,B,X
	STA -38,S

	PULU A,X
	STA -78,S
	STX -119,S

	PULU D,S
	STD 79,S

	PULU A,X
	STA 81,S
	STX -81,S

ERASE_POS_HWR7_2
	LDS #$0000
	LDU #ERASE_DATA_HWR7_2

ERASE_CODE_HWR7_2
	PULU D,S
	STD 120,S

	PULU A,X,Y
	STA 82,S
	STX -120,S
	STY -80,S

	PULU D,X,Y,S
	STD 119,S
	STX -121,S
	STY 80,S

	PULU D,X
	STD 40,S
	STX ,S

	PULU A,B,X
	STA -119,S
	STB 121,S
	STX -81,S

	PULU D,X,S
	STD 120,S
	STX 40,S

	PULU B,X

	PULU D,S
	STD -40,S

	PULU B,X

	PULU D,S
	STD 40,S

	PULU B,X

	PULU B,X,S
	PSHS B,X

	PULU D,S
	STD -40,S

	PULU B,X

	PULU D,S
	STD -1,S

ERASE_SSAV_HWR7
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_HWR7_1
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
ERASE_DATA_HWR7_2
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HWR7_END
