(main)IMG.ASM
	ORG $A877
DRAW_HRR7
	PSHS U,DP
	STS SSAV_HRR7+2

	LDS $9F00
	STS ERASE_POS_HRR7_1+2
	LDU #ERASE_DATA_HRR7_2
	LEAS 544,S
	LDD 58,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$cc
	STD 58,S
	LDA 20,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 20,S
	LDA 60,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 60,S
	LEAS 218,S
	LDX #$cdda
	PSHS B,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDX #$caba
	PSHS B,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$cbbc
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$cab0
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$caba
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDD 40,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$ca
	STD 40,S
	LDD 120,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cc
	STD 120,S
	LEAS 160,S
	LDX #$c322
	PSHS B,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$d322
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$dd21
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDA 42,S
	PSHU A
	ANDA #$0F
	ORA #$30
	STA 42,S
	LDD 119,S
	PSHU D,S
	ANDA #$F0
	ORA #$0a
	LDB #$90
	STD 119,S
	LEAS 280,S
	LDD -119,S
	PSHU D
	LDA #$bf
	ANDB #$0F
	ORB #$b0
	STD -119,S
	LDA 81,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 81,S
	LDA -38,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -38,S
	LDD -81,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$9e
	STD -81,S
	LDA 2,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 2,S
	LDD -121,S
	PSHU D,S
	ANDA #$F0
	ORA #$0a
	LDB #$9e
	STD -121,S
	LDD -79,S
	PSHU D
	LDA #$af
	ANDB #$0F
	ORB #$a0
	STD -79,S
	LDA 121,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 121,S
	LEAS 281,S
	LDA -81,S
	PSHU A
	ANDA #$F0
	ORA #$09
	STA -81,S
	LDA -120,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA -120,S
	LDA -41,S
	PSHU A
	ANDA #$F0
	ORA #$0a
	STA -41,S
	LDD 39,S
	PSHU D,S
	LDA #$ee
	ANDB #$0F
	ORB #$a0
	STD 39,S
	LEAS 159,S

	LDS $9F00+2
	STS ERASE_POS_HRR7_2+2
	LDU #ERASE_DATA_HRR7_END

	LEAS 602,S
	LDD 80,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$23
	STD 80,S
	LDA -79,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -79,S
	LDD -81,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$ca
	STD -81,S
	LEAS 279,S
	LDD -78,S
	PSHU D
	LDA #$ac
	ANDB #$0F
	ORB #$c0
	STD -78,S
	LDD -38,S
	PSHU D
	LDA #$ac
	ANDB #$0F
	ORB #$a0
	STD -38,S
	LDA 43,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA 43,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA 3,S
	PULS A,X
	PSHU A,X
	LDA 123,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 123,S
	LDD -40,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$cc
	STD -40,S
	LDD -80,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cc
	STD -80,S
	LDA #$dd
	LDX #$ccaa
	PSHS A,X
	LEAS 162,S
	LDA 1,S
	PSHU A,S
	ANDA #$0F
	ORA #$90
	STA 1,S
	LEAS 158,S
	LDD -40,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$dc
	STD -40,S
	LDA -117,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA -117,S
	PULS A,X
	PSHU A,X
	LDA 42,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 42,S
	LDD -80,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$dd
	STD -80,S
	LDA #$aa
	LDX #$dd13
	PSHS A,X
	LEAS 80,S
	LDA #$99
	LDX #$ffab
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$90
	LDX #$fbfa
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$a9
	LDX #$1a2a
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$90
	LDX #$09ff
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$a9
	LDX #$e11f
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 81,S
	PSHU A
	ANDA #$F0
	ORA #$00
	STA 81,S
	LEAS 282,S
	LDD 78,S
	PSHU D,S
	ANDA #$F0
	ORA #$00
	LDB #$aa
	STD 78,S
	LDD 118,S
	PSHU D
	ANDA #$F0
	ORA #$0e
	LDB #$91
	STD 118,S
	LDA -121,S
	PSHU A
	ANDA #$F0
	ORA #$0d
	STA -121,S
	LEAS 159,S
	LDD -1,S
	PSHU D,S
	ANDA #$F0
	ORA #$00
	LDB #$00
	STD -1,S
SSAV_HRR7
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_HRR7
	PSHS U,DP
	STS ERASE_SSAV_HRR7+2

ERASE_POS_HRR7_1
	LDS #$0000
	LDU #ERASE_DATA_HRR7_1

ERASE_CODE_HRR7_1
	PULU D,S
	STD 39,S

	PULU A,B
	STA -41,S
	STB -120,S

	PULU A
	STA -81,S

	PULU A,X,Y,S
	STA 121,S
	STX -79,S
	STY -121,S

	PULU A,X
	STA 2,S
	STX -81,S

	PULU A,B,X
	STA -38,S
	STB 81,S
	STX -119,S

	PULU D,S
	STD 119,S

	PULU A,B,X
	STA 42,S

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU D,X,S
	STD 120,S
	STX 40,S

	PULU B,X

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU A,B,X,S
	STA 60,S
	STB 20,S
	STX 58,S

ERASE_POS_HRR7_2
	LDS #$0000
	LDU #ERASE_DATA_HRR7_2

ERASE_CODE_HRR7_2
	PULU D,S
	STD -1,S

	PULU A,X,Y,S
	STA -121,S
	STX 118,S
	STY 78,S

	PULU A,B,X,S
	STA 81,S
	STB 1,S
	STX 3,S

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU D,S
	STD -80,S

	PULU A,B,X
	STA 42,S

	PULU A,X
	STA -117,S
	STX -40,S

	PULU A,S
	STA 1,S

	PULU D,X,S
	STD -80,S
	STX -40,S

	PULU A,B,X
	STA 123,S

	PULU A,B,X,Y
	STA 3,S
	STB 43,S
	STX -38,S
	STY -78,S

	PULU D,S
	STD -81,S

	PULU A,X
	STA -79,S
	STX 80,S

ERASE_SSAV_HRR7
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_HRR7_1
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
ERASE_DATA_HRR7_2
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HRR7_END
