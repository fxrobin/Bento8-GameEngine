(main)IMG.ASM
	ORG $AB6B
DRAW_HWL4
	PSHS U,DP
	STS SSAV_HWL4+2

	LDS $9F00
	STS ERASE_POS_HWL4_1+2
	LDU #ERASE_DATA_HWL4_2
	LEAS 483,S
	LDA -39,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA -39,S
	LDD -41,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$dc
	STD -41,S
	LEAS 279,S
	LDA -38,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -38,S
	LDA -78,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -78,S
	PULS A,X
	PSHU A,X,S
	LDA #$0b
	LDX #$ccdc
	PSHS A,X
	LEAS 40,S
	LDA #$ab
	LDX #$ccdd
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 280,S
	LDD 40,S
	PSHU D
	ANDA #$F0
	ORA #$01
	LDB #$1d
	STD 40,S
	LDA -78,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -78,S
	LDA -38,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA -38,S
	PULS A,X
	PSHU A,X
	LDA -118,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -118,S
	LDA #$13
	LDX #$0ddb
	PSHS A,X
	LDD 80,S
	PSHU D,S
	ANDA #$0F
	ORA #$a0
	LDB #$23
	STD 80,S
	LEAS 120,S
	LDA #$aa
	LDX #$23eb
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$99
	LDX #$23ea
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$a0
	LDX #$2cca
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDD 39,S
	PSHU D
	ANDA #$0F
	ANDB #$0F
	ADDD #$f090
	STD 39,S
	LDD 81,S
	PSHU D
	LDA #$dd
	ANDB #$F0
	ORB #$0a
	STD 81,S
	PULS A,X
	PSHU A,X
	LDA #$91
	LDX #$3cde
	PSHS A,X
	LDD 121,S
	PSHU D,S
	ANDA #$F0
	ANDB #$F0
	ADDD #$0c0a
	STD 121,S
	LEAS 280,S
	LDD -41,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$fb
	STD -41,S
	LDA -77,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA -77,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA 3,S
	LDD -81,S
	PSHU D
	ANDA #$F0
	ORA #$01
	LDB #$fb
	STD -81,S
	LDA -117,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA -117,S
	LDA -37,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA -37,S
	LDD -121,S
	PSHU D,S
	ANDA #$F0
	ANDB #$F0
	ADDD #$0f0b
	STD -121,S
	LDD -1,S
	PSHU D
	ANDA #$F0
	ORA #$0e
	LDB #$ae
	STD -1,S
	LDA 43,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA 43,S
	LEAS 180,S
	LDA 20,S
	PSHU A,S
	ANDA #$F0
	ORA #$0e
	STA 20,S

	LDS $9F00+2
	STS ERASE_POS_HWL4_2+2
	LDU #ERASE_DATA_HWL4_END

	LEAS 463,S
	LDD 58,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$a3
	STD 58,S
	LDD 18,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$ad
	STD 18,S
	LDA 60,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 60,S
	LEAS 218,S
	LDD -40,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$aa
	STD -40,S
	LDD -120,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$c2
	STD -120,S
	PULS A,X
	PSHU A,X
	LDA -78,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -78,S
	LDD -80,S
	PSHU D,S
	ANDA #$F0
	ORA #$0a
	LDB #$aa
	STD -80,S
	LDA #$ca
	LDX #$cbdc
	PSHS A,X
	LEAS 40,S
	LDA #$da
	LDX #$aadd
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$0a
	LDX #$aadd
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$9c
	LDX #$aa0d
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$9a
	LDX #$ac0d
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 42,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 42,S
	LEAS 80,S
	LDA #$0a
	LDX #$b2cc
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	PULS A,X
	PSHU A,X
	LDA 123,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 123,S
	LDD 40,S
	PSHU D,S
	ANDA #$F0
	ORA #$03
	LDB #$22
	STD 40,S
	LDD 80,S
	PSHU D
	ANDA #$F0
	ORA #$01
	LDB #$23
	STD 80,S
	LDA #$00
	LDX #$22dc
	PSHS A,X
	LEAS 280,S
	PULS D,X
	PSHU D,X
	LDD -78,S
	PSHU D
	ANDA #$0F
	ORA #$d0
	LDB #$ba
	STD -78,S
	LDD -40,S
	PSHU D
	LDA #$aa
	ANDB #$F0
	ORB #$02
	STD -40,S
	LDD -120,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$1e
	STD -120,S
	LDD -80,S
	PSHU D,S
	ANDA #$F0
	ANDB #$F0
	ADDD #$0a03
	STD -80,S
	LDD #$aa32
	LDX #$ddaa
	PSHS D,X
	LDD 40,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$12
	STD 40,S
	LDD 80,S
	PSHU D
	ANDA #$F0
	ORA #$09
	LDB #$e1
	STD 80,S
	LEAS 281,S
	LDD 79,S
	PSHU D
	LDA #$1b
	ANDB #$0F
	ORB #$a0
	STD 79,S
	LDD -81,S
	PSHU D
	ANDA #$0F
	ANDB #$F0
	ADDD #$f00d
	STD -81,S
	LDD -1,S
	PSHU D
	LDA #$fb
	ANDB #$0F
	ORB #$d0
	STD -1,S
	LDD 39,S
	PSHU D
	LDA #$fb
	ANDB #$0F
	ORB #$b0
	STD 39,S
	LDD -120,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$0d
	STD -120,S
	LDA 42,S
	PSHU A
	ANDA #$F0
	ORA #$01
	STA 42,S
	LDA 82,S
	PSHU A
	ANDA #$F0
	ORA #$0f
	STA 82,S
	LDD 119,S
	PSHU D,S
	LDA #$01
	ANDB #$0F
	ORB #$a0
	STD 119,S
	LEAS 200,S
	LDD -1,S
	PSHU D,S
	ANDA #$F0
	ANDB #$0F
	ADDD #$0e00
	STD -1,S
	LDD -41,S
	PSHU D
	LDA #$e0
	ANDB #$0F
	ORB #$00
	STD -41,S
	LDA 40,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA 40,S
SSAV_HWL4
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_HWL4
	PSHS U,DP
	STS ERASE_SSAV_HWL4+2

ERASE_POS_HWL4_1
	LDS #$0000
	LDU #ERASE_DATA_HWL4_1

ERASE_CODE_HWL4_1
	PULU A,S
	STA 20,S

	PULU A,X,Y,S
	STA 43,S
	STX -1,S
	STY -121,S

	PULU A,B,X
	STA -37,S
	STB -117,S
	STX -81,S

	PULU A,B,X
	STA 3,S
	STB -77,S
	STX -41,S

	PULU D,S
	STD 121,S

	PULU B,X

	PULU D,X
	STD 81,S
	STX 39,S

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU D,S
	STD 80,S

	PULU A,B,X
	STA -118,S

	PULU A,B,X
	STA -38,S
	STB -78,S
	STX 40,S

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU A,B
	STA -78,S
	STB -38,S

	PULU D,S
	STD -41,S

	PULU A
	STA -39,S

ERASE_POS_HWL4_2
	LDS #$0000
	LDU #ERASE_DATA_HWL4_2

ERASE_CODE_HWL4_2
	PULU A,X,Y,S
	STA 40,S
	STX -41,S
	STY -1,S

	PULU D,S
	STD 119,S

	PULU A,B,X,Y
	STA 82,S
	STB 42,S
	STX -120,S
	STY 39,S

	PULU D,X,Y
	STD -1,S
	STX -81,S
	STY 79,S

	PULU D,X,Y,S
	STD 80,S
	STX 40,S
	STY -80,S

	PULU D,X,Y
	STD -120,S
	STX -40,S
	STY -78,S

	PULU D,X

	PULU D,X,S
	STD 80,S
	STX 40,S

	PULU A,B,X
	STA 123,S

	PULU B,X,S
	PSHS B,X

	PULU A,B,X,S
	STA 42,S
	STB 1,S
	STX 3,S

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU D,S
	STD -80,S

	PULU A,B,X
	STA -78,S

	PULU D,X
	STD -120,S
	STX -40,S

	PULU A,X,Y,S
	STA 60,S
	STX 18,S
	STY 58,S

ERASE_SSAV_HWL4
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_HWL4_1
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HWL4_2
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HWL4_END
