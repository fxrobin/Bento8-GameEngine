(main)IMG.ASM
	ORG $D21B
DRAW_HJR4
	PSHS U,DP
	STS SSAV_HJR4+2

	LDS $9F00
	STS ERASE_POS_HJR4_1+2
	LDU #ERASE_DATA_HJR4_2
	LEAS 563,S
	LDD -1,S
	PSHU D
	LDA #$dc
	ANDB #$F0
	ORB #$0c
	STD -1,S
	LDA 41,S
	PSHU A
	ANDA #$F0
	ORA #$0a
	STA 41,S
	LDA -40,S
	PSHU A
	ANDA #$F0
	ORA #$0c
	STA -40,S
	LDD 39,S
	PSHU D,S
	ANDA #$F0
	ANDB #$F0
	ADDD #$0d0d
	STD 39,S
	LDA 80,S
	PSHU A
	ANDA #$F0
	ORA #$0d
	STA 80,S
	LEAS 239,S
	PULS A,X
	PSHU A,X
	LDD -79,S
	PSHU D,S
	LDA #$cd
	ANDB #$F0
	ORB #$0d
	STD -79,S
	LDD -40,S
	PSHU D
	ANDA #$0F
	ORA #$c0
	LDB #$cd
	STD -40,S
	LDA #$dc
	LDX #$caac
	PSHS A,X
	LEAS 40,S
	LDD 79,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$ca
	STD 79,S
	LDD 39,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$ad
	STD 39,S
	LDB #$dd
	PSHS B,X
	PULS A,X
	PSHU A,X
	LDD 119,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$cc
	STD 119,S
	LEAS 260,S
	LDD -61,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$3d
	STD -61,S
	LDD -101,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cd
	STD -101,S
	LDD -21,S
	PSHU D
	ANDA #$F0
	ORA #$0e
	LDB #$cd
	STD -21,S
	LDD 19,S
	PSHU D,S
	ANDA #$F0
	ORA #$0e
	LDB #$0d
	STD 19,S
	LDD 59,S
	PSHU D
	ANDA #$F0
	ORA #$0e
	LDB #$09
	STD 59,S
	LDD 99,S
	PSHU D
	ANDA #$F0
	ORA #$0e
	LDB #$aa
	STD 99,S
	LEAS 260,S
	LDD -81,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$9a
	STD -81,S
	LDD -121,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$aa
	STD -121,S
	LDD -41,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$0a
	STD -41,S
	PULS A,X
	PSHU A,X
	LDX #$aacc
	PSHS B,X
	LDD 40,S
	PSHU D
	ANDA #$F0
	ORA #$09
	LDB #$30
	STD 40,S
	LDA 42,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA 42,S
	LDA 82,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 82,S
	LDD 120,S
	PSHU D,S
	ANDA #$0F
	ANDB #$0F
	ADDD #$f090
	STD 120,S
	LEAS 200,S
	LDA 40,S
	PSHU A
	ANDA #$F0
	ORA #$0e
	STA 40,S
	LDD -40,S
	PSHU D,S
	LDA #$1f
	ANDB #$0F
	ORB #$00
	STD -40,S

	LDS $9F00+2
	STS ERASE_POS_HJR4_2+2
	LDU #ERASE_DATA_HJR4_END

	LEAS 543,S
	LDD 19,S
	PSHU D,S
	ANDA #$0F
	ANDB #$0F
	ADDD #$a0c0
	STD 19,S
	LDA -20,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -20,S
	LEAS 178,S
	LDD 42,S
	PSHU D
	LDA #$ca
	ANDB #$0F
	ORB #$a0
	STD 42,S
	LDD 40,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$dc
	STD 40,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	LDA -37,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -37,S
	LDX #$dcca
	PSHS B,X
	PULS A,X
	PSHU A,X
	LDA 83,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 83,S
	LDD 120,S
	PSHU D,S
	ANDA #$0F
	ORA #$d0
	LDB #$dd
	STD 120,S
	LDD 122,S
	PSHU D
	LDA #$ca
	ANDB #$0F
	ORB #$a0
	STD 122,S
	LEAS 160,S
	LDA #$dd
	LDX #$ddab
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	LEAS 40,S
	LDA #$dd
	LDX #$ddab
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	LEAS 40,S
	LDA #$dd
	LDX #$dcab
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	LEAS 40,S
	LDA #$09
	LDX #$daca
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	LEAS 40,S
	LDA #$e9
	LDX #$dcca
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	LEAS 40,S
	LDA #$ea
	LDX #$d3ca
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	LEAS 40,S
	LDA #$ea
	LDX #$d2cc
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 3,S
	LEAS 40,S
	LDA #$ea
	LDX #$32cc
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA 3,S
	LEAS 40,S
	LDA #$aa
	LDX #$1ccc
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$30
	STA 3,S
	LEAS 40,S
	LDA #$a9
	LDX #$9adc
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA 3,S
	LEAS 40,S
	LDA #$a1
	LDX #$a3ad
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$1f
	LDX #$a2a9
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA 3,S
	LEAS 40,S
	LDA #$1f
	LDX #$a2ac
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$11
	LDX #$a1ac
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDD 40,S
	PSHU D,S
	LDA #$e1
	ANDB #$0F
	ORB #$90
	STD 40,S
	LDD 80,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$01a0
	STD 80,S
	LDA 120,S
	PSHU A
	ANDA #$F0
	ORA #$0e
	STA 120,S
	LEAS 181,S
	LDA -20,S
	PSHU A,S
	ANDA #$0F
	ORA #$f0
	STA -20,S
SSAV_HJR4
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_HJR4
	PSHS U,DP
	STS ERASE_SSAV_HJR4+2

ERASE_POS_HJR4_1
	LDS #$0000
	LDU #ERASE_DATA_HJR4_1

ERASE_CODE_HJR4_1
	PULU D,S
	STD -40,S

	PULU A
	STA 40,S

	PULU D,S
	STD 120,S

	PULU A,B,X
	STA 82,S
	STB 42,S
	STX 40,S

	PULU B,X

	PULU D,X,Y
	STD -41,S
	STX -121,S
	STY -81,S

	PULU D,X,Y,S
	STD 99,S
	STX 59,S
	STY 19,S

	PULU D,X,Y
	STD -21,S
	STX -101,S
	STY -61,S

	PULU D,S
	STD 119,S

	PULU B,X

	PULU D,X
	STD 39,S
	STX 79,S

	PULU D,X,S
	STD -40,S
	STX -79,S

	PULU B,X

	PULU A,X,S
	STA 80,S
	STX 39,S

	PULU A,B,X
	STA -40,S
	STB 41,S
	STX -1,S

ERASE_POS_HJR4_2
	LDS #$0000
	LDU #ERASE_DATA_HJR4_2

ERASE_CODE_HJR4_2
	PULU A,S
	STA -20,S

	PULU A,X,Y,S
	STA 120,S
	STX 80,S
	STY 40,S

	PULU B,X

	PULU B,X,S
	PSHS B,X

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU B,X,S
	PSHS B,X

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU D,X,S
	STD 122,S
	STX 120,S

	PULU A,B,X
	STA 83,S

	PULU A,B,X,Y
	STA -37,S
	STB 3,S
	STX 40,S
	STY 42,S

	PULU A,X,S
	STA -20,S
	STX 19,S

ERASE_SSAV_HJR4
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_HJR4_1
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HJR4_2
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HJR4_END
