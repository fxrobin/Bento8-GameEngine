(main)IMG.ASM
	ORG $C34C
DRAW_HWR5
	PSHS U,DP
	STS SSAV_HWR5+2

	LDS $9F00
	STS ERASE_POS_HWR5_1+2
	LDU #ERASE_DATA_HWR5_2
	LEAS 503,S

	LDX -61,S
	LDD #$cccc
	STD -61,S
	LDY -21,S
	PSHU Y,X
	LDD #$dcaa
	STD -21,S
	LDD 19,S
	PSHU D
	LDD #$ddda
	STD 19,S
	LDD 59,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$3a
	STD 59,S
	LDA 21,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 21,S
	LDA 61,S
	PSHU S,A
	ANDA #$0F
	ORA #$d0
	STA 61,S
	LEAS 219,S

	LDD -119,S
	PSHU D
	LDA #$2c
	ANDB #$0F
	ORB #$c0
	STD -119,S
	LDD -80,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$aa
	STD -80,S
	LDA -78,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -78,S
	LDA -38,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -38,S
	LDX -40,S
	PSHU X
	LDD #$ccaa
	STD -40,S
	PULS A,X
	PSHU S,X,A
	LDA #$cd
	LDX #$bcac
	PSHS A,X
	LEAS 40,S

	PULS A,X
	PSHU S,X,A
	LDA #$dd
	LDX #$aaad
	PSHS A,X
	LEAS 40,S

	PULS A,X
	PSHU S,X,A
	LDA #$dd
	LDX #$aaa0
	PSHS A,X
	LEAS 40,S

	PULS A,X
	PSHU S,X,A
	LDA #$d0
	LDX #$aac9
	PSHS A,X
	LEAS 40,S

	LDD 40,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$cc
	STD 40,S
	LDA 42,S
	PSHU A
	LDA #$ba
	STA 42,S
	PULS A,X
	PSHU S,X,A
	LDA #$d0
	LDX #$caa9
	PSHS A,X
	LEAS 80,S

	PULS A,X
	PSHU S,X,A
	LDA #$cc
	LDX #$2ba0
	PSHS A,X
	LEAS 40,S

	LDX 40,S
	LDD #$dd22
	STD 40,S
	LDY 80,S
	PSHU Y,X
	LDB #$32
	STD 80,S
	LDA 42,S
	PSHU A
	ANDA #$0F
	ORA #$30
	STA 42,S
	LDA 82,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA 82,S
	LDX 120,S
	PSHU X
	LDD #$b3d3
	STD 120,S
	PULS A,X
	PSHU S,X,A
	LDA #$cd
	LDX #$2200
	PSHS A,X
	LEAS 160,S

	LDX ,S
	PSHU S,X
	LDD #$b1e1
	STD ,S
	LEAS 159,S

	LDD -80,S
	PSHU D
	ANDA #$F0
	ORA #$0b
	LDB #$bd
	STD -80,S
	LDD -40,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$ad
	STD -40,S
	LDA -78,S
	LDB -38,S
	PSHU B,A
	LDD -119,S
	PSHU D
	LDA #$ad
	ANDB #$0F
	ORB #$30
	STD -119,S
	LDA #$2a
	STA -78,S
	LDA #$29
	STA -38,S
	PULS A,X
	PSHU S,X,A
	LDA #$0a
	LDX #$ad29
	PSHS A,X
	LEAS 40,S

	PULS A,X
	PSHU S,X,A
	LDA #$99
	LDX #$dd1a
	PSHS A,X
	LEAS 40,S

	PULS A,X
	PSHU S,X,A
	LDA #$e1
	LDX #$a099
	PSHS A,X
	LEAS 40,S

	LDD 40,S
	PSHU D
	LDA #$11
	ANDB #$F0
	ORB #$0d
	STD 40,S
	LDA 80,S
	LDB 42,S
	PSHU B,A
	ANDA #$F0
	ORA #$0a
	STA 42,S
	LDA 83,S
	PSHU A
	ANDA #$0F
	ORA #$f0
	STA 83,S
	LDA 120,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA 120,S
	LDA #$1f
	STA 80,S
	LDD 122,S
	PSHU D
	ANDA #$0F
	ANDB #$0F
	ADDD #$b0e0
	STD 122,S
	PULS A,X
	PSHU S,X,A
	LDA #$e1
	LDX #$d0a9
	PSHS A,X
	LEAS 281,S

	LDD -79,S
	PSHU D
	LDA #$1b
	ANDB #$0F
	ORB #$10
	STD -79,S
	LDD -39,S
	PSHU D
	LDA #$fb
	ANDB #$0F
	ORB #$e0
	STD -39,S
	LDA 81,S
	LDB 41,S
	PSHU B,A
	LDA #$ae
	STA 81,S
	LDA 1,S
	LDB -121,S
	PSHU B,A
	ANDA #$0F
	ORA #$f0
	STA -121,S
	LDD -119,S
	PSHU D
	ANDA #$0F
	ANDB #$0F
	ADDD #$b010
	STD -119,S
	LDA 121,S
	PSHU S,A
	LDA #$ee
	STA 121,S
	LDA #$1b
	STA 1,S
	LDA #$a9
	STA 41,S
	LEAS 161,S

	LDA ,S
	PSHU S,A
	LDA #$00
	STA ,S

	LDS $9F00+2
	STS ERASE_POS_HWR5_2+2
	LDU #ERASE_DATA_HWR5_END

	LEAS 522,S

	LDX 40,S
	LDY ,S
	PSHU Y,X
	LDA -80,S
	LDX 120,S
	LDY 80,S
	PSHU Y,X,A
	LDD -41,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$cd
	STD -41,S
	LDA -120,S
	LDB -39,S
	PSHU S,B,A
	ANDA #$0F
	ORA #$c0
	STA -39,S
	LDD #$d2aa
	STD 40,S
	LDA #$cc
	STA -120,S
	STA -80,S
	LDA #$c2
	STD 80,S
	STD 120,S
	LDD #$cdac
	STD ,S
	LEAS 279,S

	LDD -80,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cc
	STD -80,S
	LDD -40,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$ca
	STD -40,S
	LDA -78,S
	LDB -38,S
	LDX -119,S
	PSHU X,B,A
	LDD #$cdda
	STD -119,S
	LDA #$ba
	STA -78,S
	LDA #$bc
	STA -38,S
	PULS A,X
	PSHU S,X,A
	LDA #$cd
	LDX #$ccb0
	PSHS A,X
	LEAS 40,S

	LDX 41,S
	LDY 81,S
	PSHU Y,X
	LDD 121,S
	PSHU D
	LDD #$dcb9
	STD 41,S
	STD 81,S
	LDB #$bb
	STD 121,S
	PULS A,X
	PSHU S,X,A
	LDA #$dd
	LDX #$ccba
	PSHS A,X
	LEAS 280,S

	LDA -118,S
	LDB -38,S
	LDX 120,S
	LDY 80,S
	PSHU Y,X,B,A
	LDD 40,S
	PSHU D
	LDD #$abd1
	STD 40,S
	LDA #$b2
	STA -118,S
	LDA -78,S
	LDB 42,S
	PSHU B,A
	ANDA #$0F
	ORA #$10
	STA 42,S
	LDD -120,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$dd
	STD -120,S
	LDD -80,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$0d
	STD -80,S
	LDD -40,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$dd
	STD -40,S
	LDD #$bb32
	STD 80,S
	STD 120,S
	LDA #$22
	STA -78,S
	STA -38,S
	PULS A,X
	PSHU S,X,A
	LDA #$ca
	LDX #$d031
	PSHS A,X
	LEAS 281,S

	LDX -121,S
	LDY -81,S
	PSHU Y,X
	LDD -1,S
	LDX -41,S
	PSHU X,D
	LDD 39,S
	PSHU D
	ANDA #$0F
	ORA #$a0
	LDB #$cd
	STD 39,S
	LDA 120,S
	LDB -119,S
	PSHU B,A
	ANDA #$0F
	ORA #$a0
	STA -119,S
	LDA -79,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -79,S
	LDA -39,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -39,S
	LDA 1,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 1,S
	LDA 41,S
	PSHU A
	ANDA #$0F
	ORA #$90
	STA 41,S
	LDA 78,S
	PSHU A
	ANDA #$F0
	ORA #$00
	STA 78,S
	LDA 80,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 80,S
	LDA 118,S
	PSHU S,A
	ANDA #$F0
	ORA #$00
	STA 118,S
	LDD #$99c3
	STD -41,S
	LDD #$aa32
	STD -121,S
	LDB #$c2
	STD -81,S
	LDA #$da
	STA 120,S
	LDD #$adad
	STD -1,S
	LEAS 279,S

	LDD -119,S
	PSHU D
	ANDA #$F0
	ANDB #$F0
	ADDD #$0a02
	STD -119,S
	LDD 121,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$0ee0
	STD 121,S
	LDA -121,S
	PSHU A
	ANDA #$F0
	ORA #$00
	STA -121,S
	LDA -81,S
	PSHU A
	ANDA #$F0
	ORA #$0e
	STA -81,S
	LDA -41,S
	PSHU A
	ANDA #$F0
	ORA #$0e
	STA -41,S
	LDD -79,S
	PSHU D
	ANDA #$F0
	ORA #$0b
	LDB #$bf
	STD -79,S
	LDD -39,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$fe
	STD -39,S
	LDD 1,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$f1
	STD 1,S
	LDD 41,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$e1
	STD 41,S
	LDD 81,S
	PSHU S,D
	ANDA #$F0
	ORA #$0e
	LDB #$1e
	STD 81,S
	LEAS 181,S

	LDD -20,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$0e00
	STD -20,S
	LDA 20,S
	PSHU S,A
	ANDA #$F0
	ORA #$00
	STA 20,S
SSAV_HWR5
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_HWR5
	PSHS U,DP
	STS ERASE_SSAV_HWR5+2

ERASE_POS_HWR5_1
	LDS #$0000
	LDU #ERASE_DATA_HWR5_1

ERASE_CODE_HWR5_1
	PULU A,S
	STA ,S

	PULU A,S
	STA 121,S

	PULU D
	STD -119,S

	PULU A,B
	STA 1,S
	STB -121,S

	PULU A,B,X,Y
	STA 81,S
	STB 41,S
	STX -39,S
	STY -79,S

	PULU A,X,S
	PSHS A,X

	PULU D
	STD 122,S

	PULU A,B
	STA 120,S
	STB 83,S

	PULU A,B,X
	STA 80,S
	STB 42,S
	STX 40,S

	PULU A,X,S
	PSHS A,X

	PULU A,X,S
	PSHS A,X

	PULU A,X,S
	PSHS A,X

	PULU D
	STD -119,S

	PULU A,B,X,Y
	STA -78,S
	STB -38,S
	STX -40,S
	STY -80,S

	PULU D,S
	STD ,S

	PULU A,X,S
	PSHS A,X

	PULU D
	STD 120,S

	PULU A,B,X,Y
	STA 82,S
	STB 42,S
	STX 40,S
	STY 80,S

	PULU A,X,S
	PSHS A,X

	PULU A,X,S
	PSHS A,X

	PULU A,X
	STA 42,S
	STX 40,S

	PULU A,X,S
	PSHS A,X

	PULU A,X,S
	PSHS A,X

	PULU A,X,S
	PSHS A,X

	PULU A,X,S
	PSHS A,X

	PULU D
	STD -40,S

	PULU A,B,X,Y
	STA -38,S
	STB -78,S
	STX -80,S
	STY -119,S

	PULU A,S
	STA 61,S

	PULU A,X,Y
	STA 21,S
	STX 59,S
	STY 19,S

	PULU D,X
	STD -61,S
	STX -21,S

ERASE_POS_HWR5_2
	LDS #$0000
	LDU #ERASE_DATA_HWR5_2

ERASE_CODE_HWR5_2
	PULU A,S
	STA 20,S

	PULU D
	STD -20,S

	PULU D,S
	STD 81,S

	PULU D,X,Y
	STD 41,S
	STX 1,S
	STY -39,S

	PULU D
	STD -79,S

	PULU A,B
	STA -41,S
	STB -81,S

	PULU A,X,Y
	STA -121,S
	STX 121,S
	STY -119,S

	PULU A,S
	STA 118,S

	PULU A,B
	STA 80,S
	STB 78,S

	PULU A,B
	STA 41,S
	STB 1,S

	PULU A,B
	STA -39,S
	STB -79,S

	PULU A,B,X,Y
	STA 120,S
	STB -119,S
	STX 39,S
	STY -1,S

	PULU D,X,Y
	STD -41,S
	STX -121,S
	STY -81,S

	PULU A,X,S
	PSHS A,X

	PULU D,X,Y
	STD -40,S
	STX -80,S
	STY -120,S

	PULU A,B,X
	STA -78,S
	STB 42,S
	STX 40,S

	PULU A,B,X,Y
	STA -118,S
	STB -38,S
	STX 120,S
	STY 80,S

	PULU A,X,S
	PSHS A,X

	PULU D,X,Y
	STD 121,S
	STX 41,S
	STY 81,S

	PULU A,X,S
	PSHS A,X

	PULU A,B,X,Y
	STA -78,S
	STB -38,S
	STX -119,S
	STY -40,S

	PULU D
	STD -80,S

	PULU A,B,S
	STA -120,S
	STB -39,S

	PULU D
	STD -41,S

	PULU A,X,Y
	STA -80,S
	STX 120,S
	STY 80,S

	PULU D,X
	STD 40,S
	STX ,S

ERASE_SSAV_HWR5
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_HWR5_1
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
ERASE_DATA_HWR5_2
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HWR5_END
