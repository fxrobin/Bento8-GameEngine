(main)IMG.ASM
	ORG $D32D
DRAW_HRR0
	PSHS U,DP
	STS SSAV_HRR0+2

	LDS $9F00
	STS ERASE_POS_HRR0_1+2
	LDU #ERASE_DATA_HRR0_2
	LEAS 562,S

	LDX 41,S
	LDY -40,S
	PSHU Y,X
	LDD #$cdda
	STD -40,S
	LDD 81,S
	LDX 121,S
	PSHU X,D
	LDD #$23ad
	STD 41,S
	LDA -119,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -119,S
	LDD #$2aaa
	STD 121,S
	LDD -80,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cc
	STD -80,S
	LDD #$22ac
	STD 81,S
	PULS A,X
	PSHU S,X,A
	LDA #$dd
	LDX #$ddcd
	PSHS A,X
	LEAS 240,S

	LDD -80,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$da
	STD -80,S
	LDD -40,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cb
	STD -40,S
	LDA -78,S
	LDB -38,S
	PSHU B,A
	LDA #$aa
	STA -78,S
	STA -38,S
	PULS A,X
	PSHU S,X,A
	LDA #$cd
	LDX #$aaca
	PSHS A,X
	LEAS 40,S


	LDS $9F00+2
	STS ERASE_POS_HRR0_2+2
	LDU #ERASE_DATA_HRR0_END

	LEAS 562,S

	LDX -40,S
	LDY ,S
	PSHU Y,X
	LDD 120,S
	LDX 40,S
	PSHU X,D
	LDD #$ddaa
	STD 40,S
	LDA #$dc
	STD ,S
	LDA #$cc
	STD 120,S
	LDB #$ac
	STD -40,S
	LDA -120,S
	PSHU A
	ANDA #$F0
	ORA #$0c
	STA -120,S
	LDD -80,S
	PSHU D
	LDA #$cc
	ANDB #$0F
	ORB #$c0
	STD -80,S
	LDD 80,S
	PSHU S,D
	ANDA #$F0
	ORA #$0c
	LDB #$ca
	STD 80,S
	LEAS 241,S

	LDX -81,S
	LDY 39,S
	PSHU Y,X
	LDD -1,S
	LDX -41,S
	PSHU X,D
	LDD #$dccb
	STD -41,S
	LDB #$ab
	STD -1,S
	STD 39,S
	LDA -39,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -39,S
	LDB 1,S
	PSHU B
	ANDA #$0F
	ORA #$d0
	STA 1,S
	LDA 41,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA 41,S
	LDD #$ccad
	STD -81,S
	LDD 80,S
	PSHU D
	LDA #$ab
	ANDB #$0F
	ORB #$90
	STD 80,S
	LDD 78,S
	PSHU S,D
	ANDA #$F0
	ORA #$0c
	LDB #$0c
	STD 78,S
	LEAS 238,S

	LDD -118,S
	PSHU D
	LDA #$ab
	ANDB #$0F
	ORB #$90
	STD -118,S
	LDA -77,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -77,S
	LDB -37,S
	PSHU B
	ANDA #$0F
	ORA #$00
	STA -37,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA 3,S
	LDB 83,S
	ANDA #$0F
	ORA #$a0
	STA 83,S
	LDX -79,S
	LDY -39,S
	PSHU Y,X,B
	LDD #$ddcb
	STD -79,S
	LDD 81,S
	LDX 41,S
	PSHU X,D
	LDD 79,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$0ba0
	STD 79,S
	LDD 119,S
	PSHU D
	ANDA #$F0
	ANDB #$F0
	ADDD #$0a0c
	STD 119,S
	LDD -120,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$0d
	STD -120,S
	LDD 39,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$b1
	STD 39,S
	LDD #$d022
	STD 41,S
	LDA #$3d
	STD 81,S
	LDD #$cdbb
	STD -39,S
	PULS A,X
	PSHU S,X,A
	LDA #$a2
	LDX #$dd2b
	PSHS A,X
	LEAS 121,S

	LDD 38,S
	PSHU D
	ANDA #$F0
	ANDB #$F0
	ADDD #$0a0c
	STD 38,S
	PULS A,X
	PSHU S,X,A
	LDA #$ed
	LDX #$33aa
	PSHS A,X
	LEAS 40,S

	LDD 38,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$00
	STD 38,S
	LDA 40,S
	LDB 42,S
	PSHU B,A
	LDA #$32
	STA 40,S
	LDA #$09
	STA 42,S
	PULS A,X
	PSHU S,X,A
	LDA #$01
	LDX #$119a
	PSHS A,X
	LEAS 79,S

	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$90
	STA 3,S
	PULS B,X
	PSHU S,X,B
	LDA #$ee
	LDX #$3233
	PSHS A,X
	LEAS 40,S

	LDX 40,S
	PSHU X
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA 3,S
	LDB 43,S
	PSHU B
	ANDA #$0F
	ORA #$10
	STA 43,S
	LDA 83,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA 83,S
	LDB 123,S
	ANDA #$0F
	ORA #$e0
	STA 123,S
	LDX 80,S
	LDY 120,S
	PSHU Y,X,B
	LDD #$e9c2
	STD 40,S
	LDD #$e0c1
	STD 80,S
	LDD #$acda
	STD 120,S
	PULS A,X
	PSHU S,X,A
	LDA #$e0
	LDX #$3211
	PSHS A,X
	LEAS 281,S

	LDD -81,S
	PSHU D
	ANDA #$0F
	ANDB #$F0
	ADDD #$a00d
	STD -81,S
	LDA -118,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA -118,S
	LDB -39,S
	PSHU B
	ANDA #$F0
	ORA #$0b
	STA -39,S
	LDA 41,S
	LDB 1,S
	PSHU B,A
	LDA 81,S
	LDB 121,S
	LDX -121,S
	PSHU S,X,B,A
	LDA #$1a
	STA 81,S
	STA 121,S
	LDD #$ad0d
	STD -121,S
	LDA #$ea
	STA 41,S
	LDA #$bb
	STA 1,S
	LEAS 201,S

	LDA -40,S
	LDB ,S
	PSHU B,A
	LDA #$10
	STA -40,S
	LDA #$ee
	STA ,S
	LDA 40,S
	PSHU S,A
	LDA #$00
	STA 40,S
SSAV_HRR0
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_HRR0
	PSHS U,DP
	STS ERASE_SSAV_HRR0+2

ERASE_POS_HRR0_1
	LDS #$0000
	LDU #ERASE_DATA_HRR0_1

ERASE_CODE_HRR0_1
	PULU A,X

	PULU A,S
	STA -78,S

	PULU A,X,Y
	STA -38,S
	STX -40,S
	STY -80,S

	PULU A,X,Y,S
	STA 1,S
	STX 3,S
	STY -80,S

	PULU A,X,Y
	STA -119,S
	STX 81,S
	STY 121,S

	PULU D,X
	STD 41,S
	STX -40,S

ERASE_POS_HRR0_2
	LDS #$0000
	LDU #ERASE_DATA_HRR0_2

ERASE_CODE_HRR0_2
	PULU A,S
	STA 40,S

	PULU A,B
	STA -40,S
	STB ,S

	PULU A,B,X,S
	STA 81,S
	STB 121,S
	STX -121,S

	PULU A,B
	STA 41,S
	STB 1,S

	PULU A,B,X
	STA -39,S
	STB -118,S
	STX -81,S

	PULU A,X

	PULU A,S
	STA 123,S

	PULU D,X
	STD 80,S
	STX 120,S

	PULU A,B
	STA 83,S
	STB 43,S

	PULU A,X
	STA 3,S
	STX 40,S

	PULU A,X

	PULU A,S
	STA 3,S

	PULU A,X

	PULU A,S
	STA 40,S

	PULU A,X
	STA 42,S
	STX 38,S

	PULU A,X,Y,S
	STA 1,S
	STX 3,S
	STY 38,S

	PULU A,X,Y,S
	STA 1,S
	STX 3,S
	STY 39,S

	PULU D,X,Y
	STD -120,S
	STX 119,S
	STY 79,S

	PULU D,X
	STD 81,S
	STX 41,S

	PULU A,X,Y
	STA 83,S
	STX -79,S
	STY -39,S

	PULU A,B
	STA 3,S
	STB -37,S

	PULU A,X
	STA -77,S
	STX -118,S

	PULU D,S
	STD 78,S

	PULU D
	STD 80,S

	PULU A,B
	STA 41,S
	STB 1,S

	PULU A,X,Y
	STA -39,S
	STX -1,S
	STY -41,S

	PULU D,X
	STD -81,S
	STX 39,S

	PULU D,S
	STD 80,S

	PULU D
	STD -80,S

	PULU A,X,Y
	STA -120,S
	STX 120,S
	STY 40,S

	PULU D,X
	STD -40,S
	STX ,S

ERASE_SSAV_HRR0
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_HRR0_1
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
ERASE_DATA_HRR0_2
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HRR0_END
