(main)IMG.ASM
	ORG $C289
DRAW_HRR0
	PSHS U,DP
	STS SSAV_HRR0+2

	LDS $9F00
	STS ERASE_POS_HRR0_1+2
	LDU #ERASE_DATA_HRR0_2
	LEAS 562,S
	PULS A,X
	PSHU A,X
	LDA -119,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -119,S
	LDD -80,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$cc
	STD -80,S
	LDA #$dd
	LDX #$ddcd
	PSHS A,X
	LEAS 240,S
	PULS A,X
	PSHU A,X
	LDD -80,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$da
	STD -80,S
	LDD -40,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cb
	STD -40,S
	LDA #$cd
	LDX #$aaca
	PSHS A,X
	LEAS 40,S
	LDX #$ca0a
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$caac
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$cc9a
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDD 80,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$c2
	STD 80,S
	LEAS 119,S
	LDD #$aa2c
	LDX #$d220
	PSHS D,X
	PULS D,X
	PSHU D,X,S
	LEAS 40,S
	LDD #$bb32
	LDX #$d223
	PSHS D,X
	PULS D,X
	PSHU D,X,S
	LEAS 40,S
	LDD #$bbd1
	LDX #$d321
	PSHS D,X
	PULS D,X
	PSHU D,X,S
	LEAS 40,S
	LDD #$badd
	LDX #$0d19
	PSHS D,X
	PULS D,X
	PSHU D,X
	LDD 40,S
	PSHU D,S
	LDA #$9a
	ANDB #$F0
	ORB #$0d
	STD 40,S
	LDD 80,S
	PSHU D
	ANDA #$0F
	ANDB #$F0
	ADDD #$a00d
	STD 80,S
	LDD 120,S
	PSHU D
	ANDA #$0F
	ORA #$a0
	LDB #$ed
	STD 120,S
	LEAS 281,S
	LDD -119,S
	PSHU D
	ANDA #$0F
	ORA #$20
	LDB #$ea
	STD -119,S
	LDD -121,S
	PSHU D
	ANDA #$F0
	ORA #$00
	LDB #$dd
	STD -121,S
	LDD -81,S
	PSHU D
	ANDA #$F0
	ORA #$09
	LDB #$dd
	STD -81,S
	LDD -79,S
	PSHU D
	ANDA #$0F
	ANDB #$F0
	ADDD #$200f
	STD -79,S
	LDD -41,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$dd
	STD -41,S
	LDD -39,S
	PSHU D
	ANDA #$0F
	ANDB #$F0
	ADDD #$100f
	STD -39,S
	LDD 1,S
	PSHU D,S
	ANDA #$0F
	ANDB #$F0
	ADDD #$d002
	STD 1,S
	LDD 39,S
	PSHU D
	LDA #$e1
	ANDB #$F0
	ORB #$0d
	STD 39,S
	LDD 81,S
	PSHU D
	ANDA #$0F
	ORA #$a0
	LDB #$ff
	STD 81,S
	LEAS 261,S
	LDD 60,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$00e0
	STD 60,S
	LDA 18,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA 18,S
	LDA 101,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA 101,S
	LDD -20,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$a0
	STD -20,S
	LDA 58,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA 58,S
	LDA -22,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA -22,S
	LDD 20,S
	PSHU D,S
	ANDA #$F0
	ANDB #$0F
	ADDD #$00e0
	STD 20,S

	LDS $9F00+2
	STS ERASE_POS_HRR0_2+2
	LDU #ERASE_DATA_HRR0_END

	LEAS 562,S
	LDD -80,S
	PSHU D
	LDA #$cc
	ANDB #$0F
	ORB #$c0
	STD -80,S
	LDA -120,S
	PSHU A
	ANDA #$F0
	ORA #$0c
	STA -120,S
	LDD 80,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$ca
	STD 80,S
	LEAS 241,S
	LDD 78,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$0c
	STD 78,S
	LDA 1,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA 1,S
	LDA -39,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -39,S
	LDA 41,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA 41,S
	LDD 80,S
	PSHU D,S
	LDA #$ab
	ANDB #$0F
	ORB #$90
	STD 80,S
	LEAS 238,S
	LDD -120,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$0d
	STD -120,S
	LDD -118,S
	PSHU D
	LDA #$ab
	ANDB #$0F
	ORB #$90
	STD -118,S
	LDA -77,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA -77,S
	LDA -37,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA -37,S
	PULS A,X
	PSHU A,X
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA 3,S
	LDA #$a2
	LDX #$dd2b
	PSHS A,X
	LDD 39,S
	PSHU D
	ANDA #$F0
	ORA #$0a
	LDB #$b1
	STD 39,S
	LDD 79,S
	PSHU D
	ANDA #$F0
	ANDB #$0F
	ADDD #$0ba0
	STD 79,S
	LDA 83,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 83,S
	LDD 119,S
	PSHU D,S
	ANDA #$F0
	ANDB #$F0
	ADDD #$0a0c
	STD 119,S
	LEAS 121,S
	LDA #$ed
	LDX #$33aa
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDD 38,S
	PSHU D,S
	ANDA #$F0
	ANDB #$F0
	ADDD #$0a0c
	STD 38,S
	LEAS 40,S
	LDA #$01
	LDX #$119a
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDD 38,S
	PSHU D,S
	ANDA #$F0
	ORA #$0a
	LDB #$00
	STD 38,S
	LEAS 79,S
	LDA #$ee
	LDX #$3233
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$90
	STA 3,S
	LEAS 40,S
	LDA #$e0
	LDX #$3211
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDA 3,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA 3,S
	LDA 43,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA 43,S
	LDA 83,S
	PSHU A,S
	ANDA #$0F
	ORA #$e0
	STA 83,S
	LDA 123,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA 123,S
	LEAS 281,S
	LDD -81,S
	PSHU D,S
	ANDA #$0F
	ANDB #$F0
	ADDD #$a00d
	STD -81,S
	LDA -118,S
	PSHU A
	ANDA #$0F
	ORA #$e0
	STA -118,S
	LDA -39,S
	PSHU A
	ANDA #$F0
	ORA #$0b
	STA -39,S
	LEAS 201,S
SSAV_HRR0
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_HRR0
	PSHS U,DP
	STS ERASE_SSAV_HRR0+2

ERASE_POS_HRR0_1
	LDS #$0000
	LDU #ERASE_DATA_HRR0_1

ERASE_CODE_HRR0_1
	PULU D,S
	STD 20,S

	PULU A,B,X
	STA -22,S
	STB 58,S
	STX -20,S

	PULU A,B,X
	STA 101,S
	STB 18,S
	STX 60,S

	PULU D,X,Y,S
	STD 81,S
	STX 39,S
	STY 1,S

	PULU D,X,Y
	STD -39,S
	STX -41,S
	STY -79,S

	PULU D,X,Y
	STD -81,S
	STX -121,S
	STY -119,S

	PULU D,X,Y,S
	STD 120,S
	STX 80,S
	STY 40,S

	PULU D,X

	PULU D,X,S
	PSHS D,X

	PULU D,X,S
	PSHS D,X

	PULU D,X,S
	PSHS D,X

	PULU D,S
	STD 80,S

	PULU B,X

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU D,X,S
	STD -40,S
	STX -80,S

	PULU B,X

	PULU D,S
	STD -80,S

	PULU A,B,X
	STA -119,S

ERASE_POS_HRR0_2
	LDS #$0000
	LDU #ERASE_DATA_HRR0_2

ERASE_CODE_HRR0_2
	PULU A,B,X,S
	STA -39,S
	STB -118,S
	STX -81,S

	PULU A,B,S
	STA 123,S
	STB 83,S

	PULU A,B
	STA 43,S
	STB 3,S

	PULU B,X

	PULU A,B,X,S
	STA 3,S
	STB 1,S
	STX 3,S

	PULU D,S
	STD 38,S

	PULU B,X

	PULU D,S
	STD 38,S

	PULU B,X

	PULU D,S
	STD 119,S

	PULU A,X,Y
	STA 83,S
	STX 79,S
	STY 39,S

	PULU A,B,X
	STA 3,S

	PULU A,B,X,Y
	STA -37,S
	STB -77,S
	STX -118,S
	STY -120,S

	PULU D,S
	STD 80,S

	PULU A,B
	STA 41,S
	STB -39,S

	PULU A,X
	STA 1,S
	STX 78,S

	PULU D,S
	STD 80,S

	PULU A,X
	STA -120,S
	STX -80,S

ERASE_SSAV_HRR0
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_HRR0_1
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
ERASE_DATA_HRR0_2
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HRR0_END
