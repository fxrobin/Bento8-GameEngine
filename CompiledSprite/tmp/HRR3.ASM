(main)IMG.ASM
	ORG $B1C8
DRAW_HRR3
	PSHS U,DP
	STS SSAV_HRR3+2

	LDS $9F00
	STS ERASE_POS_HRR3_1+2
	LDU #ERASE_DATA_HRR3_2
	LEAS 563,S
	LDD -41,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$cc
	STD -41,S
	LDA -80,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -80,S
	LDD 39,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$dd
	STD 39,S
	LEAS 239,S
	PULS A,X
	PSHU A,X
	LDD -40,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$da
	STD -40,S
	LDA #$cc
	LDX #$cbaa
	PSHS A,X
	LEAS 40,S
	LDA #$cd
	LDX #$aaca
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$ca0a
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$caac
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDD 40,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$cc
	STD 40,S
	LDD 120,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$c2
	STD 120,S
	LEAS 160,S
	LDA #$cc
	LDX #$d220
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$cd
	LDX #$d223
	PSHS A,X
	PULS A,X
	PSHU A,X,S
	LEAS 40,S
	LDA #$dd
	LDX #$d321
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDA 42,S
	PSHU A
	ANDA #$0F
	ORA #$10
	STA 42,S
	LDD 80,S
	PSHU D,S
	ANDA #$F0
	ORA #$03
	LDB #$e0
	STD 80,S
	LDD 120,S
	PSHU D
	ANDA #$F0
	ORA #$02
	LDB #$3c
	STD 120,S
	LEAS 240,S
	LDA #$d3
	LDX #$bdff
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDD 39,S
	PSHU D,S
	ANDA #$F0
	ORA #$0e
	LDB #$00
	STD 39,S
	LDD 79,S
	PSHU D
	LDA #$01
	ANDB #$F0
	ORB #$0d
	STD 79,S
	LEAS 119,S
	LDD #$1ecd
	LDX #$ba0e
	PSHS D,X
	PULS D,X
	PSHU D,X
	LDD 40,S
	PSHU D,S
	LDA #$1e
	ANDB #$0F
	ORB #$d0
	STD 40,S
	LDD 42,S
	PSHU D
	LDA #$ba
	ANDB #$0F
	ORB #$e0
	STD 42,S
	LDA 122,S
	PSHU A
	ANDA #$F0
	ORA #$00
	STA 122,S
	LEAS 261,S
	LDD 59,S
	PSHU D,S
	ANDA #$F0
	ORA #$0e
	LDB #$2f
	STD 59,S

	LDS $9F00+2
	STS ERASE_POS_HRR3_2+2
	LDU #ERASE_DATA_HRR3_END

	LEAS 602,S
	LDD -80,S
	PSHU D
	LDA #$cc
	ANDB #$0F
	ORB #$c0
	STD -80,S
	LDA -120,S
	PSHU A
	ANDA #$F0
	ORA #$0c
	STA -120,S
	LDD 80,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$ca
	STD 80,S
	LEAS 281,S
	LDD 38,S
	PSHU D
	ANDA #$F0
	ORA #$0d
	LDB #$0c
	STD 38,S
	LDA 121,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 121,S
	LDA -39,S
	PSHU A
	ANDA #$0F
	ORA #$d0
	STA -39,S
	LDD ,S
	PSHU D
	LDA #$ab
	ANDB #$0F
	ORB #$00
	STD ,S
	LDD 40,S
	PSHU D
	LDA #$ab
	ANDB #$0F
	ORB #$90
	STD 40,S
	LDA 81,S
	PSHU A
	ANDA #$0F
	ORA #$90
	STA 81,S
	LDA -79,S
	PSHU A
	ANDA #$0F
	ORA #$c0
	STA -79,S
	LDD -2,S
	PSHU D,S
	ANDA #$F0
	ORA #$0c
	LDB #$dc
	STD -2,S
	LEAS 279,S
	LDD 39,S
	PSHU D
	ANDA #$F0
	ORA #$0c
	LDB #$1d
	STD 39,S
	LDA -118,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA -118,S
	LDA -78,S
	PSHU A
	ANDA #$0F
	ORA #$00
	STA -78,S
	LDD 79,S
	PSHU D,S
	ANDA #$F0
	ORA #$0d
	LDB #$01
	STD 79,S
	LEAS 180,S
	LDD 20,S
	PSHU D,S
	LDA #$1a
	ANDB #$0F
	ORB #$a0
	STD 20,S
	LEAS 179,S
	PULS D,X
	PSHU D,X
	LDD -78,S
	PSHU D,S
	LDA #$ea
	ANDB #$0F
	ORB #$f0
	STD -78,S
	LDD -80,S
	PSHU D
	ANDA #$0F
	ORA #$f0
	LDB #$a9
	STD -80,S
	LDD -40,S
	PSHU D
	ANDA #$0F
	ORA #$a0
	LDB #$ab
	STD -40,S
	LDD #$0cab
	LDX #$19e1
	PSHS D,X
	LEAS 40,S
	LDA #$0d
	LDX #$9b10
	PSHS A,X
	PULS A,X
	PSHU A,X
	LDD 40,S
	PSHU D
	LDA #$ab
	ANDB #$F0
	ORB #$0a
	STD 40,S
	LDA 80,S
	PSHU A
	ANDA #$0F
	ORA #$a0
	STA 80,S
	LDA 82,S
	PSHU A,S
	ANDA #$0F
	ORA #$e0
	STA 82,S
	LDA 120,S
	PSHU A
	ANDA #$0F
	ORA #$b0
	STA 120,S
	LEAS 240,S
	LDD 80,S
	PSHU D,S
	LDA #$ee
	ANDB #$0F
	ORB #$10
	STD 80,S
	LDA -80,S
	PSHU A
	ANDA #$0F
	ORA #$b0
	STA -80,S
SSAV_HRR3
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_HRR3
	PSHS U,DP
	STS ERASE_SSAV_HRR3+2

ERASE_POS_HRR3_1
	LDS #$0000
	LDU #ERASE_DATA_HRR3_1

ERASE_CODE_HRR3_1
	PULU D,S
	STD 59,S

	PULU A,X,Y,S
	STA 122,S
	STX 42,S
	STY 40,S

	PULU D,X

	PULU D,X,S
	STD 79,S
	STX 39,S

	PULU B,X

	PULU D,X,S
	STD 120,S
	STX 80,S

	PULU A,B,X
	STA 42,S

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU D,X,S
	STD 120,S
	STX 40,S

	PULU B,X

	PULU B,X,S
	PSHS B,X

	PULU B,X,S
	PSHS B,X

	PULU D,S
	STD -40,S

	PULU B,X

	PULU D,S
	STD 39,S

	PULU A,X
	STA -80,S
	STX -41,S

ERASE_POS_HRR3_2
	LDS #$0000
	LDU #ERASE_DATA_HRR3_2

ERASE_CODE_HRR3_2
	PULU A,X,S
	STA -80,S
	STX 80,S

	PULU A,B,S
	STA 120,S
	STB 82,S

	PULU A,X
	STA 80,S
	STX 40,S

	PULU B,X

	PULU D,X,Y,S
	STD -40,S
	STX -80,S
	STY -78,S

	PULU D,X

	PULU D,S
	STD 20,S

	PULU D,S
	STD 79,S

	PULU A,B,X
	STA -78,S
	STB -118,S
	STX 39,S

	PULU D,S
	STD -2,S

	PULU A,B,X,Y
	STA -79,S
	STB 81,S
	STX 40,S
	STY ,S

	PULU A,B,X
	STA -39,S
	STB 121,S
	STX 38,S

	PULU D,S
	STD 80,S

	PULU A,X
	STA -120,S
	STX -80,S

ERASE_SSAV_HRR3
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_HRR3_1
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_HRR3_2
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
	FDB $0000
ERASE_DATA_HRR3_END
