(main)IMG.ASM
	ORG $A000
DRAW_TST1
	PSHS U,DP
	STS SSAV_TST1+2

	LDS $9F00
	STS ERASE_POS_TST1_1+2
	LDU #ERASE_DATA_TST1_2
	LEAS 2,S

	LDD 39,S
	PSHU D

	ANDA #$F0
	ORA #$0f
	LDB #$22
	STD 39,S

	PULS A,X
	PSHU A,X,S

	LDX #$2222
	PSHS B,X


	LDS $9F00+2
	STS ERASE_POS_TST1_2+2
	LDU #ERASE_DATA_TST1_END

	LEAS 2,S

	LDD 39,S
	PSHU D

	ANDA #$F0
	ORA #$0f
	LDB #$22
	STD 39,S

	PULS A,X
	PSHU A,X,S

	LDX #$2222
	PSHS B,X

SSAV_TST1
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_TST1
	PSHS U,DP
	STS ERASE_SSAV_TST1+2

ERASE_POS_TST1_1
	LDS #$0000
	LDU #ERASE_DATA_TST1_1

ERASE_CODE_TST1_1
	PULU B,X,S
	PSHS B,X

	PULU D
	STD 39,S

ERASE_POS_TST1_2
	LDS #$0000
	LDU #ERASE_DATA_TST1_2

ERASE_CODE_TST1_2
	PULU B,X,S
	PSHS B,X

	PULU D
	STD 39,S

ERASE_SSAV_TST1
	LDS #$0000
	PULS DP,U,PC * Ajout du PC au PULS pour economiser le RTS (Gain: 3c 1o)

ERASE_DATA_TST1_1
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_TST1_2
	FDB $0000
	FDB $0000
	FDB $0000
	FCB $00
ERASE_DATA_TST1_END
