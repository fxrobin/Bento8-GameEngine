********************************************************************************
* Moteur de jeu (TO8 Thomson) - Benoit Rousseau 07/10/2020
* ------------------------------------------------------------------------------
*
*
********************************************************************************

(main)MAIN
	ORG $6300

********************************************************************************  
* Référence des variables globales
********************************************************************************
EXO_SRC            EQU $6101
EXO_DST            EQU $6105 
DK_DST             EQU $6222
WAIT_VBL_SWAP_PAGE EQU $61BF

********************************************************************************  
* Boucle principale
********************************************************************************

MAINLOOP
   JSR    WAIT_VBL_SWAP_PAGE
   BRA    MAINLOOP

********************************************************************************  
* Ordre des niveaux de jeu
* Octet 1: Zone (niveau de jeu qui nécessite un chargement disquette)
* Octet 2: Acte (sous-niveau de jeu qui ne nécessite pas d'accès disquette)
********************************************************************************
LEVEL_ORDER                 * level.order=AIZ:0;AIZ:1;MZ:0
   FDB    $0000
   FDB    $0001
   FDB    $0100
   
LEVEL_DEFINITION
   FDB    $

* sprite=sonic;./input/SPRITE/sonic.properties
* sprite=tails;./input/SPRITE/tails.properties
* sprite=crabmeat;./input/SPRITE/crabmeat.properties
* sprite=eggmobile;./input/SPRITE/eggmobile.properties

* # Déclaration du code nécessaire au niveau
* code=fadeout;./input/CODE/FADEOUT.ASM

* # AIZ ACT0 - Angel Island Zone Act 0
* 0.engine.init=image;palette
* 0.engine.run=crabmeat;tail;sonic
* 0.engine.end=fadeout
* 0.engine.image=./input/LEVEL/AIZ/AIZ_BACKGROUND.png
* 0.engine.palette=./input/LEVEL/AIZ_BACKGROUND.png;3
* 0.fadeout=0;0;0;0;16
* 0.sonic=0;0;20;150
* 0.tail=0;0;10;150
* 0.crabmeat=0;0;40;150
* 0.crabmeat=0;250;45;150
* 0.crabmeat=1;244;50;150

* # AIZ ACT1 - Angel Island Zone Act 1
* 1.engine.init=image;palette
* 1.engine.run=crabmeat;tail;sonic
* 1.engine.end=fadeout
* 1.engine.image=./input/LEVEL/AIZ/AIZ_BACKGROUND.png
* 1.engine.palette=./input/LEVEL/AIZ_BACKGROUND.png;3
* 1.fadeout=0;0;0;0;16
* 1.sonic=0;0;20;150
* 1.tail=0;0;10;150
* 1.crabmeat=0;0;40;150
* 1.eggmobile=0;250;45;150

* code=./input/SPRITE/SONIC/SONIC.ASM
* spritesheet=SIL;./input/SPRITE/SONIC/SONIC_IDLE-R.png;1;X
* spritesheet=SIR;./input/SPRITE/SONIC/SONIC_IDLE-R.png;1;N
* spritesheet=SWL;./input/SPRITE/SONIC/SONIC_WALK-R.png;12;X
* spritesheet=SWR;./input/SPRITE/SONIC/SONIC_WALK-R.png;12;N
* spritesheet=SOL;./input/SPRITE/SONIC/SONIC_JOG-R.png;10;X
* spritesheet=SOR;./input/SPRITE/SONIC/SONIC_JOG-R.png;10;N
* spritesheet=SJL;./input/SPRITE/SONIC/SONIC_JUMP-R.png;10;X
* spritesheet=SJR;./input/SPRITE/SONIC/SONIC_JUMP-R.png;10;N
* animation=SONIC_IDLE_L;24;ABS;SIL:0;GO;SONIC_IDLE_L;0;0
* animation=SONIC_IDLE_R;24;ABS;SIR:0;GO;SONIC_IDLE_R;0;0
* animation=SONIC_WALK_L;6;GSP;SWL:0;SWL:1;SWL:2;SWL:3;SWL:4;SWL:5;SWL:6;SWL:7;SWL:8;SWL:9;SWL:10;SWL:11;GO;SONIC_WALK_L;0;0
* animation=SONIC_WALK_R;6;GSP;SWR:0;SWR:1;SWR:2;SWR:3;SWR:4;SWR:5;SWR:6;SWR:7;SWR:8;SWR:9;SWR:10;SWR:11;GO;SONIC_WALK_R;0;0
* animation=SONIC_JOG_L;6;GSP;SOL:0;SOL:1;SOL:2;SOL:3;SOL:4;SOL:5;SOL:6;SOL:7;SOL:8;SOL:9;GO;SONIC_RUN_L;0;0
* animation=SONIC_JOG_R;6;GSP;SOR:0;SOR:1;SOR:2;SOR:3;SOR:4;SOR:5;SOR:6;SOR:7;SOR:8;SOR:9;GO;SONIC_RUN_R;0;0
* animation=SONIC_JUMP_L;4;GSP;SJL:0;SJL:1;SJL:2;SJL:3;SJL:0;SJL:1;SJL:4;SJL:5;SJL:0;SJL:1;SJL:6;SJL:7;SJL:0;SJL:1;SJL:8;SJL:9;GO;SONIC_JUMP_L;0;0
* animation=SONIC_JUMP_R;4;GSP;SJR:0;SJR:1;SJR:2;SJR:3;SJR:0;SJR:1;SJR:4;SJR:5;SJR:0;SJR:1;SJR:6;SJR:7;SJR:0;SJR:1;SJR:8;SJR:9;GO;SONIC_JUMP_R;0;0
