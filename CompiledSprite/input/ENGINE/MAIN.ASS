********************************************************************************
* Demo - Outil de gestion d'animation de sprites (TO8 Thomson)                 *
********************************************************************************
* Auteur  : Benoit Rousseau                                                    *
* Date    : 29/09/2020                                                         *
* Licence :                                                                    *
********************************************************************************
*
********************************************************************************

(main)MAIN
	ORG $6300

********************************************************************************  
* Référence des zones de données
********************************************************************************
exo_src equ $6101
exo_dst equ $6105 

********************************************************************************  
* desactivation des interruptions
********************************************************************************
	ORCC #$50
	
********************************************************************************  
* Initialisation du mode video
********************************************************************************
	LDA #$7B	* passage en mode 160x200x16c
	STA $E7DC
	
********************************************************************************  
* Initialisation de la palette en noir
********************************************************************************
	LDD #$0000
SETBLACKPALETTE
	STA $E7DB	* determine l'indice de couleur
	STB $E7DA	* set de la couleur Vert et Rouge
	STB $E7DA   * set de la couleur Bleu
	ADDA #$02	* increment de l'indice de couleur (x2)
	CMPA #$20	* si on atteint 32 sortie
	BNE	SETBLACKPALETTE
	
	* Bordure initialisee avec couleur 0
	************************************
	
    LDB $E7DD
	ANDB #$F0
	STB $E7DD
	
MAINLOOP
	nop
	BRA MAINLOOP
