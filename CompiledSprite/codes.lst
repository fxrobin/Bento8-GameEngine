/*--------------------------------------------------------------*
 * Compilé avec C6809 v0.83                                     *
 *--------------------------------------------------------------*
 * Fichier source      : .\Sonic2\GeneratedCode\TitleScreen.asm
 * Fichier destination : .\Sonic2\GeneratedCode\TMP.BIN
 * Contenu :
 *     Main     0:TITLESCR.ASM 15898
 *     Include  0:GLOBALS.ASM  790
 *     Include  0:CONSTANT.ASM 4697
 *--------------------------------------------------------------*/

Macro Pass
Pass1
Pass2
    959                                   INCLUD GLOBALS
    960                           * Generated Code
    961
    962                  41C0     current_game_mode_data equ $41C0
    963                  0001     ObjID_TitleScreen equ 1
    964                  66ED     Object_RAM equ $66ED
    965                  7B32     Vint_runcount equ $7B32
    966                  7B37     Normal_palette equ $7B37
    967                  7B57     Black_palette equ $7B57
    968                  7B77     White_palette equ $7B77
    969                  0001     c1_button_up_mask equ $0001
    970                  0002     c1_button_down_mask equ $0002
    971                  0004     c1_button_left_mask equ $0004
    972                  0008     c1_button_right_mask equ $0008
    973                  0010     c2_button_up_mask equ $0010
    974                  0020     c2_button_down_mask equ $0020
    975                  0040     c2_button_left_mask equ $0040
    976                  0080     c2_button_right_mask equ $0080
    977                  0040     c1_button_A_mask equ $0040
    978                  0080     c2_button_A_mask equ $0080
    979                  7BBE     Dpad_Held equ $7BBE
    980                  7BBF     Fire_Held equ $7BBF
    981                  7BC0     Dpad_Press equ $7BC0
    982                  7BC1     Fire_Press equ $7BC1
    983                  7C19     MarkObjGone equ $7C19
    984                  7C1B     DisplaySprite_x equ $7C1B
    985                  7C21     DisplaySprite equ $7C21
    986                  7C86     AnimateSprite equ $7C86
    987                  7D48     DeleteObject_x equ $7D48
    988                  7D4E     DeleteObject equ $7D4E
    989                  7D82     ClearObj equ $7D82
    990
    991                                   INCLUD CONSTANT
    992                           * --------------------------------------->>
    993                           * Constants
    994                           *
    995                           * Naming convention
    996                           * -----------------
    997                           * - lower case
    998                           * - underscore-separated names
    999                           *
   1000                           * --------------------------------------->>
   1001
   1002                           * =======================================>>
   1003                           * TO8 Registers
   1004                           * =======================================>>
   1005
   1006                  6049     dk_lecteur                    equ $6049
   1007                  604A     dk_piste                      equ $604A
   1008                  604B     dk_pisteL                     equ $604B
   1009                  604C     dk_secteur                    equ $604C
   1010                  604F     dk_destination                equ $604F
   1011
   1012                           * =======================================>>
   1013                           * Display Constants
   1014                           * =======================================>>
   1015
   1016                  00A0     screen_width                  equ 160 ; s>>
   1017                  00C8     screen_height                 equ 200 ; s>>
   1018                  0008     nb_priority_levels            equ 8   ; n>>
   1019
   1020                           * =======================================>>
   1021                           * Physics Constants
   1022                           * =======================================>>
   1023
   1024                  0038     gravity                       equ $38 ; G>>
   1025
   1026                           * =======================================>>
   1027                           * Animation Constants
   1028                           * =======================================>>
   1029
   1030                  00FF     _resetAnim                    equ $FF
   1031                  00FE     _goBackNFrames                equ $FE
   1032                  00FD     _goToAnimation                equ $FD
   1033                  00FC     _nextRoutine                  equ $FC
   1034                  00FB     _resetAnimAndSubRoutine       equ $FB
   1035                  00FA     _nextSubRoutine               equ $FA
   1036
   1037                           * =======================================>>
   1038                           * Images Constants
   1039                           * =======================================>>
   1040
   1041                  0000     page_bckdraw_routine          equ 0
   1042                  0001     bckdraw_routine               equ 1
   1043                  0003     page_draw_routine             equ 3
   1044                  0004     draw_routine                  equ 4
   1045                  0006     page_erase_routine            equ 6
   1046                  0007     erase_routine                 equ 7
   1047                  0009     erase_nb_cell                 equ 9
   1048                  000A     image_x_offset                equ 10
   1049                  000C     image_y_offset                equ 12
   1050                  000E     image_x_size                  equ 14
   1051                  000F     image_y_size                  equ 15 ; mu>>
   1052                  0010     image_meta_size               equ 16 ; nu>>
   1053
   1054                           * =======================================>>
   1055                           * Object Constants
   1056                           * =======================================>>
   1057
   1058                  0002     nb_reserved_objects           equ 2
   1059                  003B     nb_dynamic_objects            equ 59
   1060                  0003     nb_level_objects              equ 3
   1061                  003D     nb_objects                    equ (nb_res>>
   1062
   1063                           * --------------------------------------->>
   1064                           * Object Status Table offsets
   1065                           * --------------------------------------->>
   1066
   1067                  0050     object_size                   equ 80 ; th>>
   1068                  0050     next_object                   equ object_>>
   1069
   1070                  0000     id                            equ 0      >>
   1071                  0001     subtype                       equ 1      >>
   1072                  0002     render_flags                  equ 2
   1073
   1074                           * --- render_flags bitfield variables --->>
   1075                  0001     render_xmirror_mask           equ $01 ; (>>
   1076                  0002     render_ymirror_mask           equ $02 ; (>>
   1077                  0004     render_playfieldcoord_mask    equ $04 ; (>>
   1078                  0008     render_hide_mask              equ $08 ; (>>
   1079                  0010     render_fixedoverlay_mask      equ $10 ; (>>
   1080                  0020     render_todelete_mask          equ $20 ; (>>
   1081                  0040     render_free2_mask             equ $40 ; (>>
   1082                  0080     render_free3_mask             equ $80 ; (>>
   1083                            
   1084                  0003     priority                      equ 3      >>
   1085                  0004     anim                          equ 4  ; an>>
   1086                  0006     prev_anim                     equ 6  ; an>>
   1087                  0008     anim_frame                    equ 8      >>
   1088                  0009     anim_frame_duration           equ 9      >>
   1089                  000A     mapping_frame                 equ 10 ; an>>
   1090                  000C     x_pos                         equ 12 ; an>>
   1091                  000E     x_sub                         equ 14     >>
   1092                  000F     y_pos                         equ 15 ; an>>
   1093                  0011     y_sub                         equ 17     >>
   1094                  0012     x_pixel                       equ 18     >>
   1095                  0013     y_pixel                       equ 19     >>
   1096                  0014     x_vel                         equ 20 ; an>>
   1097                  0016     y_vel                         equ 22 ; an>>
   1098                  0018     routine                       equ 24     >>
   1099                  0019     routine_secondary             equ 25     >>
   1100                  001A     status                        equ 26
   1101
   1102                           * --- status bitfield variables for objec>>
   1103                  0001     status_x_orientation          equ   $01 ;>>
   1104                  0002     status_y_orientation          equ   $02 ;>>
   1105                  0004     status_bit2                   equ   $04 ;>>
   1106                  0008     status_mainchar_standing      equ   $08 ;>>
   1107                  0010     status_sidekick_standing      equ   $10 ;>>
   1108                  0020     status_mainchar_pushing       equ   $20 ;>>
   1109                  0040     status_sidekick_pushing       equ   $40 ;>>
   1110                  0080     status_bit7                   equ   $80 ;>>
   1111
   1112                           * --- status bitfield variables for Main >>
   1113                  0002     status_inair                  equ   $02 ;>>
   1114                  0004     status_jumporroll             equ   $04 ;>>
   1115                  0008     status_norgroundnorfall       equ   $08 ;>>
   1116                  0010     status_jumpingafterrolling    equ   $10 ;>>
   1117                  0020     status_pushing                equ   $20 ;>>
   1118                  0040     status_underwater             equ   $40 ;>>
   1119
   1120                  001B     ext_variables                 equ 27 ; to>>
   1121
   1122                           * --------------------------------------->>
   1123                           * reserved variables (engine)
   1124
   1125                  0029     rsv_render_flags              equ 41
   1126
   1127                           * --- rsv_render_flags bitfield variables>>
   1128                  0001     rsv_render_checkrefresh_mask  equ $01 ; (>>
   1129                  0002     rsv_render_erasesprite_mask   equ $02 ; (>>
   1130                  0004     rsv_render_displaysprite_mask equ $04 ; (>>
   1131                  0008     rsv_render_outofrange_mask    equ $08 ; (>>
   1132
   1133                  002A     rsv_prev_anim                 equ 42 ; an>>
   1134                  002C     rsv_curr_mapping_frame        equ 44 ; an>>
   1135                  002E     rsv_ptr_sub_object_erase      equ 46 ; an>>
   1136                  0030     rsv_ptr_sub_object_draw       equ 48 ; an>>
   1137                  0032     rsv_x2_pixel                  equ 50     >>
   1138                  0033     rsv_y2_pixel                  equ 51     >>
   1139
   1140                           * --------------------------------------->>
   1141                           * reserved variables (engine) - buffer sp>>
   1142
   1143                  0034     rsv_buffer_0                  equ 52 ; St>>
   1144                  0034     rsv_priority_0                equ 52 ; in>>
   1145                  0035     rsv_priority_prev_obj_0       equ 53 ; an>>
   1146                  0037     rsv_priority_next_obj_0       equ 55 ; an>>
   1147                  0039     rsv_prev_mapping_frame_0      equ 57 ; an>>
   1148                  003B     rsv_bgdata_0                  equ 59 ; an>>
   1149                  003D     rsv_prev_x_pixel_0            equ 61 ; pr>>
   1150                  003E     rsv_prev_y_pixel_0            equ 62 ; pr>>
   1151                  003F     rsv_prev_x2_pixel_0           equ 63 ; pr>>
   1152                  0040     rsv_prev_y2_pixel_0           equ 64 ; pr>>
   1153                  0041     rsv_onscreen_0                equ 65 ; ha>>
   1154
   1155                  0042     rsv_buffer_1                  equ 66 ; St>>
   1156                  0042     rsv_priority_1                equ 66 ; in>>
   1157                  0043     rsv_priority_prev_obj_1       equ 67 ; an>>
   1158                  0045     rsv_priority_next_obj_1       equ 69 ; an>>
   1159                  0047     rsv_prev_mapping_frame_1      equ 71 ; an>>
   1160                  0049     rsv_bgdata_1                  equ 73 ; an>>
   1161                  004B     rsv_prev_x_pixel_1            equ 75 ; pr>>
   1162                  004C     rsv_prev_y_pixel_1            equ 76 ; pr>>
   1163                  004D     rsv_prev_x2_pixel_1           equ 77 ; pr>>
   1164                  004E     rsv_prev_y2_pixel_1           equ 78 ; pr>>
   1165                  004F     rsv_onscreen_1                equ 79 ; ha>>
   1166
   1167                  0000     buf_priority                  equ 0  ; of>>
   1168                  0001     buf_priority_prev_obj         equ 1  ;
   1169                  0003     buf_priority_next_obj         equ 3  ;
   1170                  0005     buf_prev_mapping_frame        equ 5  ;
   1171                  0007     buf_bgdata                    equ 7  ;
   1172                  0009     buf_prev_x_pixel              equ 9  ;
   1173                  000A     buf_prev_y_pixel              equ 10 ;
   1174                  000B     buf_prev_x2_pixel             equ 11 ;
   1175                  000C     buf_prev_y2_pixel             equ 12 ;
   1176                  000D     buf_onscreen                  equ 13 ;
     67        0000                       org   $0000
     68
     69                           * --------------------------------------->>
     70                           * Object Status Table index
     71                           * - objects with a dedicated adress (no d>>
     72                           * --------------------------------------->>
     73                  66ED     TitleScr_Object_RAM     equ Object_RAM
     74                  66ED     Obj_SmallStar           equ Object_RAM
     75                  673D     Obj_Sonic               equ Object_RAM+(o>>
     76                  678D     Obj_Tails               equ Object_RAM+(o>>
     77                  67DD     Obj_SonicHand           equ Object_RAM+(o>>
     78                  682D     Obj_TailsHand           equ Object_RAM+(o>>
     79                  687D     Obj_EmblemTop           equ Object_RAM+(o>>
     80                  68CD     Obj_LargeStar           equ Object_RAM+(o>>
     81                  691D     Obj_PaletteHandler      equ Object_RAM+(o>>
     82                  696D     Obj_PaletteHandler2     equ Object_RAM+(o>>
     83                  69BD     Obj_PaletteHandler3     equ Object_RAM+(o>>
     84                  6A0D     TitleScr_Object_RAM_End equ Object_RAM+(o>>
     85
     86                           * --------------------------------------->>
     87                           * Object Status Table offsets
     88                           * - two variables can share same space if>>
     89                           * - take care of words and bytes and spac>>
     90                           * --------------------------------------->>
     91                  001B     w_TitleScr_time_frame_count     equ ext_v>>
     92                  001D     w_TitleScr_time_frame_countdown equ ext_v>>
     93                  001D     w_TitleScr_move_frame_count     equ ext_v>>
     94                  001F     w_TitleScr_xy_data_index        equ ext_v>>
     95                  001F     w_TitleScr_color_data_index     equ ext_v>>
     96                  0021     b_TitleScr_final_state          equ ext_v>>
     97
     98                           * --------------------------------------->>
     99                           * Subtypes
    100                           * --------------------------------------->>
    101                  0000     Sub_Init      equ 0
    102                  0002     Sub_Sonic     equ 2
    103                  0004     Sub_Tails     equ 4
    104                  0006     Sub_EmblemTop equ 6
    105                  0008     Sub_LargeStar equ 8
    106                  000A     Sub_SonicHand equ 10
    107                  000C     Sub_SmallStar equ 12
    108                  0010     Sub_TailsHand equ 16
    109
    110                           * ***************************************>>
    111                           * TitleScreen
    112                           * ***************************************>>
    113
    114                                                                    >>
    115                                                                    >>
    116                                                                    >>
    117                                                                    >>
    118        0000               TitleScreen                              >>
    119                                                                    >>
    120  4+1   0000 A6   C8 18            lda   routine,u                  >>
    121  5+5   0003 AE   8D 0002          ldx   TitleScreen_Routines,pcr   >>
    122  3+4   0007 6E   96               jmp   [a,x]                      >>
    123                                                                    >>
    124                                                                    >>
    125        0009               TitleScreen_Routines                     >>
    126        0009 0019                  fdb   Init                       >>
    127        000B 0024                  fdb   Sonic                      >>
    128        000D 01A1                  fdb   Tails                      >>
    129        000F 020A                  fdb   EmblemTop                  >>
    130        0011 023A                  fdb   LargeStar                  >>
    131        0013 02DB                  fdb   SonicHand                  >>
    132        0015 035B                  fdb   SmallStar                  >>
    133                                                                    >>
    134        0017 031E                  fdb   TailsHand                  >>
    135                                                                    >>
    136                                                                    >>
    137        0019               Init                                     >>
    138                                   * vdp unused                     >>
    139                                   * vdp unused                     >>
    140                                   * vdp unused                     >>
    141  2     0019 86   04               lda   #4                         >>
    142  4+1   001B A7   43               sta   priority,u
    143  4+1   001D A6   41               lda   subtype,u                  >>
    144  4+1   001F A7   C8 18            sta   routine,u
    145  3     0022 20   DC               bra   TitleScreen                >>
    146                                                                    >>
    147
    148                           * --------------------------------------->>
    149                           * Sonic
    150                           * --------------------------------------->>
    151
    152                                                                    >>
    153        0024               Sonic                                    >>
    154  5+1   0024 EC   C8 1B            ldd   w_TitleScr_time_frame_count>>
    155  4     0027 C3   0001             addd  #1                         >>
    156  5+1   002A ED   C8 1B            std   w_TitleScr_time_frame_count>>
    157  5     002D 1083 0120             cmpd  #$120                      >>
    158  3     0031 24   03               bhs   Sonic_NotFinalState        >>
    159  9     0033 17   0380             lbsr  TitleScreen_SetFinalState
    160                                                                    >>
    161        0036               Sonic_NotFinalState                      >>
    162                                                                    >>
    163  4+1   0036 A6   C8 19            lda   routine_secondary,u        >>
    164  5+5   0039 AE   8D 0002          ldx   Sonic_Routines,pcr         >>
    165  3+4   003D 6E   96               jmp   [a,x]                      >>
    166                                                                    >>
    167        003F               Sonic_Routines                           >>
    168        003F 0053                  fdb   Sonic_Init                 >>
    169        0041 0083                  fdb   Sonic_PaletteFade          >>
    170        0043 0094                  fdb   Sonic_SetPal_TitleScreen   >>
    171        0045 00A5                  fdb   Sonic_Move                 >>
    172        0047 00DB                  fdb   TitleScreen_Animate        >>
    173        0049 00E1                  fdb   Sonic_CreateHand           >>
    174        004B 00F9                  fdb   Sonic_CreateTails          >>
    175        004D 0116                  fdb   Sonic_FadeInBackground     >>
    176        004F 0133                  fdb   Sonic_CreateSmallStar      >>
    177        0051 0153                  fdb   CyclingPal                 >>
    178                                                                    >>
    179                                                                    >>
    180        0053               Sonic_Init                               >>
    181  6+1   0053 6C   C8 19            inc   routine_secondary,u
    182  6+1   0056 6C   C8 19            inc   routine_secondary,u        >>
(183) Expression Error
    183         lda   #Img_sonic_1
    184  4+1   0059 A7   4A               sta   mapping_frame,u            >>
(185) Expression Error
    185         ldd   #Ani_TitleScreen_Sonic             ; in original code>>
    186  5+1   005B ED   44               std   anim,u                     >>
    187  3     005D CC   0110             ldd   #$0110
    188  5+1   0060 ED   C8 12            std   x_pixel,u                  >>
    189  3     0063 CC   00E0             ldd   #$00E0
    190  5+1   0066 ED   C8 13            std   y_pixel,u                  >>
    191  3     0069 8E   68CD             ldx   #Obj_LargeStar             >>
    192  2     006C 86   01               lda   #ObjID_TitleScreen
    193  4+1   006E A7   00               sta   id,x                       >>
    194  2     0070 C6   08               ldb   #Sub_LargeStar
    195  4+1   0072 E7   01               stb   subtype,x                  >>
    196  3     0074 8E   687D             ldx   #Obj_EmblemTop             >>
    197  4+1   0077 A7   00               sta   id,x                       >>
    198  2     0079 C6   06               ldb   #Sub_EmblemTop
    199  4+1   007B E7   01               stb   subtype,x                  >>
    200                                   * sound unused                   >>
    201  5     007D 39                    rts                              >>
    202                                                                    >>
    203                                                                    >>
    204        007E               Sonic_PaletteFade                        >>
    205  5+1   007E EC   C8 1B            ldd   w_TitleScr_time_frame_count>>
    206  5     0081 1083 0038             cmpd  #$38                       >>
    207  3     0085 24   06               bhs   Sonic_PaletteFadeAfterWait >>
    208  5     0087 39                    rts                              >>
    209                                                                    >>
    210        0088               Sonic_PaletteFadeAfterWait               >>
    211  6+1   0088 6C   C8 19            inc   routine_secondary,u
    212  6+1   008B 6C   C8 19            inc   routine_secondary,u        >>
    213                                   *ldx   #Obj_PaletteHandler3      >>
    214                                   *lda   #ObjID_TtlScrPalChanger
    215                                   *sta   id,x                      >>
    216                                   *clr   subtype,x                 >>
    217                                   * music unused (flag)            >>
    218                                   * music unused                   >>
    219  5     008E 39                    rts                              >>
    220                                                                    >>
    221                                                                    >>
    222        008F               Sonic_SetPal_TitleScreen                 >>
    223  5+1   008F EC   C8 1B            ldd   w_TitleScr_time_frame_count>>
    224  5     0092 1083 0080             cmpd  #$80                       >>
    225  3     0096 24   06               bhs   Sonic_SetPal_TitleScreenAft>>
    226  5     0098 39                    rts                              >>
    227                                                                    >>
    228        0099               Sonic_SetPal_TitleScreenAfterWait        >>
    229  6+1   0099 6C   C8 19            inc   routine_secondary,u
    230  6+1   009C 6C   C8 19            inc   routine_secondary,u        >>
    231                                   *ldd   #Pal_TitleScreen          >>
    232                                   *std   Ptr_palette               >>
    233                                                                    >>
    234                                   * not implemented                >>
    235                                   * switch pointer to              >>
    236                                   * fixed palette instead of copyin>>
    237                                                                    >>
    238                                                                    >>
    239                                                                    >>
    240                                                                    >>
    241                                   * not implemented                >>
    242                                   * not implemented                >>
    243                                   * not implemented
    244                                   * not implemented                >>
    245                                   * not implemented
    246                                   * not implemented                >>
    247  5     009F 39                    rts                              >>
    248                                                                    >>
    249                                                                    >>
    250                                                                    >>
    251                                                                    >>
    252        00A0               Sonic_Move                               >>
    253  6     00A0 BE   0024             ldx   Sonic_xy_data_end-Sonic_xy_>>
    254  6     00A3 BF   00C2             stx   dyn_01+1                   >>
    255  3     00A6 8E   017F             ldx   #Sonic_xy_data-2,pcr       >>
    256                                                                    >>
    257        00A9               TitleScreen_MoveObjects                  >>
    258  5+1   00A9 EC   C8 1D            ldd   w_TitleScr_move_frame_count>>
    259  4     00AC C3   0001             addd  #1                         >>
    260  5+1   00AF ED   C8 1D            std   w_TitleScr_move_frame_count>>
    261  2     00B2 C4   03               andb  #3 * one frame on four     >>
    262  3     00B4 26   22               bne   MoveObjects_KeepPosition   >>
    263  5+1   00B6 EC   C8 1F            ldd   w_TitleScr_xy_data_index,u >>
    264  4     00B9 C3   0004             addd  #4                         >>
    265        00BC               dyn_01
    266  5     00BC 1083 0000             cmpd  #$0000                     >>
    267  6     00C0 1024 016D             lbhs  TitleScreen_NextSubRoutineA>>
    268                                                                    >>
    269  5+1   00C4 ED   C8 1F            std   w_TitleScr_xy_data_index,u >>
    270  4+4   00C7 30   8B               leax  d,x                        >>
    271  5+0   00C9 EC   84               ldd   ,x                         >>
    272  5+1   00CB ED   C8 13            std   y_pixel,u
    273  5+1   00CE EC   1E               ldd   -2,x                       >>
    274  5+1   00D0 ED   C8 12            std   x_pixel,u                  >>
    275        00D3               MoveObjects_KeepPosition                 >>
    276  4     00D3 7E   7C21             jmp   DisplaySprite              >>
    277                                                                    >>
    278                                                                    >>
    279        00D6               TitleScreen_Animate                      >>
    280                                   * no more offset table           >>
    281  8     00D6 BD   7C86             jsr   AnimateSprite              >>
    282  4     00D9 7E   7C21             jmp   DisplaySprite              >>
    283                                                                    >>
    284                                                                    >>
    285        00DC               Sonic_CreateHand                         >>
    286  6+1   00DC 6C   C8 19            inc   routine_secondary,u
    287  6+1   00DF 6C   C8 19            inc   routine_secondary,u        >>
(288) Expression Error
    288         lda   #Img_sonic_5
    289  4+1   00E2 A7   4A               sta   mapping_frame,u            >>
    290  3     00E4 8E   67DD             ldx   #Obj_SonicHand             >>
    291  2     00E7 86   01               lda   #ObjID_TitleScreen
    292  4+1   00E9 A7   00               sta   id,x                       >>
    293  2     00EB 86   0A               lda   #Sub_SonicHand
    294  4+1   00ED A7   01               sta   subtype,x                  >>
    295  4     00EF 7E   7C21             jmp   DisplaySprite              >>
    296                                                                    >>
    297                                                                    >>
    298        00F2               Sonic_CreateTails                        >>
    299  5+1   00F2 EC   C8 1B            ldd   w_TitleScr_time_frame_count>>
    300  5     00F5 1083 00C0             cmpd  #$C0                       >>
    301  3     00F9 25   18               blo   Sonic_CreateTails_BeforeWai>>
    302  6+1   00FB 6C   C8 19            inc   routine_secondary,u
    303  6+1   00FE 6C   C8 19            inc   routine_secondary,u        >>
    304  3     0101 8E   678D             ldx   #Obj_Tails                 >>
    305  2     0104 86   01               lda   #ObjID_TitleScreen
    306  4+1   0106 A7   00               sta   id,x                       >>
    307  2     0108 86   04               lda   #Sub_Tails
    308  4+1   010A A7   01               sta   subtype,x                  >>
    309        010C               Sonic_CreateTails_BeforeWait             >>
    310  4     010C 7E   7C21             jmp   DisplaySprite              >>
    311                                                                    >>
    312                                                                    >>
    313        010F               Sonic_FadeInBackground                   >>
    314  5+1   010F EC   C8 1B            ldd   w_TitleScr_time_frame_count>>
    315  5     0112 1083 0120             cmpd  #$120                      >>
    316  3     0116 25   18               blo   Sonic_FadeInBackground_NotY>>
    317  6+1   0118 6C   C8 19            inc   routine_secondary,u
    318  6+1   011B 6C   C8 19            inc   routine_secondary,u        >>
    319  3     011E CC   0000             ldd   #$0000
    320  5+1   0121 ED   C8 1F            std   w_TitleScr_xy_data_index,u >>
    321  3     0124 CC   00FF             ldd   #$FF
    322  5     0127 DD   21               std   b_TitleScr_final_state     >>
    323                                   *ldd   #White_palette            >>
    324                                   *std   Ptr_palette               >>
    325                                                                    >>
    326                                   * not implemented                >>
    327                                   * switch pointer to              >>
    328                                   * fixed palette instead of copyin>>
    329                                                                    >>
    330                                   *ldx   #Obj_PaletteHandler2      >>
    331                                   *lda   #ObjID_TtlScrPalChanger
    332                                   *sta   id,x                      >>
    333                                   *lda   #2
    334                                   *sta   subtype,x                 >>
    335                                   * not implemented                >>
    336        0129               Sonic_FadeInBackground_NotYet            >>
    337  4     0129 7E   7C21             jmp   DisplaySprite              >>
    338                                                                    >>
    339                                                                    >>
    340        012C               Sonic_CreateSmallStar                    >>
    341                                   * not implemented                >>
    342                                   * not implemented                >>
    343  5+1   012C EC   C8 1B            ldd   w_TitleScr_time_frame_count>>
    344  5     012F 1083 0190             cmpd  #$190                      >>
    345  3     0133 27   0A               beq   Sonic_CreateSmallStar_After>>
    346  4     0135 7E   7C21             jmp   DisplaySprite              >>
    347                                                                    >>
    348                                                                    >>
    349                                   * not implemented                >>
    350                                   * not implemented                >>
    351                                   * not implemented                >>
    352                                                                    >>
    353        0138               Sonic_CreateSmallStar_AfterWait          >>
    354  3     0138 8E   66ED             ldx   #Obj_SmallStar             >>
    355  2     013B 86   01               lda   #ObjID_TitleScreen
    356  4+1   013D A7   00               sta   id,x                       >>
    357  2     013F 86   0C               lda   #Sub_SmallStar
    358  4+1   0141 A7   01               sta   subtype,x                  >>
    359  6+1   0143 6C   C8 19            inc   routine_secondary,u
    360  6+1   0146 6C   C8 19            inc   routine_secondary,u        >>
    361                                   * not implemented                >>
    362                                   * not implemented                >>
    363  4     0149 7E   7C21             jmp   DisplaySprite              >>
    364                                                                    >>
    365                                                                    >>
    366        014C               CyclingPal                               >>
    367  5     014C B6   7B33             lda   Vint_runcount+1            >>
    368  2     014F 84   07               anda  #7 * every 8 frames        >>
    369  3     0151 26   1F               bne   CyclingPal_NotYet          >>
    370  5     0153 9E   1F               ldx   w_TitleScr_color_data_index>>
    371  4+1   0155 30   02               leax  2,x                        >>
    372  4     0157 8C   000C             cmpx  #CyclingPal_TitleScreen_end>>
    373                                                                    >>
    374  3     015A 25   0A               blo   CyclingPal_Continue        >>
    375  3     015C 8E   0000             ldx   #0                         >>
    376        015F               CyclingPal_Continue                      >>
    377  5+1   015F AF   C8 1F            stx   w_TitleScr_color_data_index>>
    378  4+5   0162 30   8D 000F          leax  CyclingPal_TitleScreen,pcr >>
    379  5+0   0166 EC   84               ldd   ,x
    380  6     0168 FD   7B45             std   Normal_palette+$E
    381        016B               CyclingPal_NotYet                        >>
    382  4     016B 7E   7C21             jmp   DisplaySprite              >>
    383                                                                    >>
    384                                                                    >>
    385        016E               CyclingPal_TitleScreen                   >>
    386                                                                    >>
    387        016E 0F11                  fdb   $0F11                      >>
    388        0170 0E31                  fdb   $0E31                      >>
    389        0172 0F11                  fdb   $0F11                      >>
    390        0174 0E63                  fdb   $0E63                      >>
    391        0176 0F11                  fdb   $0F11                      >>
    392        0178 0E96                  fdb   $0E96                      >>
    393        017A               CyclingPal_TitleScreen_end               >>
    394                                                                    >>
    395        017A               Sonic_xy_data                            >>
    396        017A 0108 00D0             fdb   $108,$D0                   >>
    397        017E 0100 00C0             fdb   $100,$C0                   >>
    398        0182 00F8 00B0             fdb   $F8,$B0                    >>
    399        0186 00F6 00A6             fdb   $F6,$A6                    >>
    400        018A 00FA 009E             fdb   $FA,$9E                    >>
    401        018E 0100 009A             fdb   $100,$9A                   >>
    402        0192 0104 0099             fdb   $104,$99                   >>
    403        0196 0108 0098             fdb   $108,$98                   >>
    404        019A               Sonic_xy_data_end                        >>
    405                                                                    >>
    406
    407                           * --------------------------------------->>
    408                           * Tails
    409                           * --------------------------------------->>
    410
    411                                                                    >>
    412        019A               Tails                                    >>
    413                                                                    >>
    414  6+1   019A 6C   C8 19            inc   routine_secondary,u
    415  6+1   019D 6C   C8 19            inc   routine_secondary,u        >>
    416  4+1   01A0 A6   C8 19            lda   routine_secondary,u
    417  5+5   01A3 AE   8D 0009          ldx   Tails_Routines,pcr         >>
    418  3+4   01A7 6E   96               jmp   [a,x]                      >>
    419                                                                    >>
    420        01A9               Tails_Routines                           >>
    421        01A9 01BA                  fdb   Tails_Init                 >>
    422        01AB 01CF                  fdb   Tails_Move                 >>
    423        01AD 00DB                  fdb   TitleScreen_Animate        >>
    424        01AF 01DA                  fdb   Tails_CreateHand           >>
    425        01B1 01EB                  fdb   Tails_DisplaySprite        >>
    426                                                                    >>
    427                                                                    >>
    428        01B3               Tails_Init                               >>
    429  6+1   01B3 6C   C8 19            inc   routine_secondary,u
    430  6+1   01B6 6C   C8 19            inc   routine_secondary,u        >>
    431  3     01B9 CC   00D8             ldd   #$D8
    432  5+1   01BC ED   C8 12            std   x_pixel,u                  >>
    433  5+1   01BF ED   C8 13            std   y_pixel,u                  >>
(434) Expression Error
    434         ldd   #Ani_TitleScreen_Tails
    435  5+1   01C2 ED   44               std   anim,u                     >>
    436  5     01C4 39                    rts                              >>
    437                                                                    >>
    438                                                                    >>
    439        01C5               Tails_Move                               >>
    440  3     01C5 8E   0020             ldx   #Tails_xy_data_end-Tails_xy>>
    441  5     01C8 9F   C2               stx   dyn_01+1                   >>
    442  3     01CA 8E   01EC             ldx   #Tails_xy_data-2,pcr       >>
    443  5     01CD 16   FEDE             lbra  TitleScreen_MoveObjects    >>
    444                                                                    >>
    445                                                                    >>
    446        01D0               Tails_CreateHand                         >>
    447  6+1   01D0 6C   C8 19            inc   routine_secondary,u
    448  6+1   01D3 6C   C8 19            inc   routine_secondary,u        >>
    449  3     01D6 8E   682D             ldx   #Obj_TailsHand             >>
    450  2     01D9 86   01               lda   #ObjID_TitleScreen         >>
    451  4+1   01DB A7   00               sta   id,x
    452  2     01DD 86   10               lda   #Sub_TailsHand
    453  4+1   01DF A7   01               sta   subtype,x                  >>
    454                                                                    >>
    455        01E1               Tails_DisplaySprite                      >>
    456  4     01E1 7E   7C21             jmp   DisplaySprite              >>
    457                                                                    >>
    458        01E4               Tails_xy_data                            >>
    459        01E4 00D7 00C8             fdb   $D7,$C8                    >>
    460        01E8 00D3 00B8             fdb   $D3,$B8                    >>
    461        01EC 00CE 00AC             fdb   $CE,$AC                    >>
    462        01F0 00CC 00A6             fdb   $CC,$A6                    >>
    463        01F4 00CA 00A2             fdb   $CA,$A2                    >>
    464        01F8 00C9 00A1             fdb   $C9,$A1                    >>
    465        01FC 00C8 00A0             fdb   $C8,$A0                    >>
    466        0200               Tails_xy_data_end                        >>
    467                                                                    >>
    468
    469                           * --------------------------------------->>
    470                           * EmblemTop
    471                           * --------------------------------------->>
    472
    473                                                                    >>
    474        0200               EmblemTop                                >>
    475                                                                    >>
    476  6+1   0200 6C   C8 19            inc   routine_secondary,u
    477  6+1   0203 6C   C8 19            inc   routine_secondary,u        >>
    478  4+1   0206 A6   C8 19            lda   routine_secondary,u
    479  5+5   0209 AE   8D 000C          ldx   EmblemTop_Routines,pcr     >>
    480  3+4   020D 6E   96               jmp   [a,x]                      >>
    481                                                                    >>
    482        020F               EmblemTop_Routines                       >>
    483        020F 021D                  fdb   EmblemTop_Init             >>
    484        0211 0237                  fdb   EmblemTop_DisplaySprite    >>
    485                                                                    >>
    486                                                                    >>
    487        0213               EmblemTop_Init                           >>
    488                                   * not implemented                >>
    489                                   * trademark logo for PAL         >>
    490                                   * game version                   >>
(491) Expression Error
    491         lda   #Img_EmblemFront                   *        move.b  #>>
    492  4+1   0213 A7   4A               sta   mapping_frame,u            >>
    493  2     0215 86   02               lda   #2
    494  4+1   0217 A7   43               sta   priority,u                 >>
    495  3     0219 CC   0120             ldd   #$120
    496  5+1   021C ED   C8 12            std   x_pixel,u                  >>
    497  3     021F CC   00E8             ldd   #$E8
    498  5+1   0222 ED   C8 13            std   y_pixel,u                  >>
    499                                                                    >>
    500        0225               TitleScreen_NextSubRoutineAndDisplay     >>
    501  6+1   0225 6C   C8 19            inc   routine_secondary,u
    502  6+1   0228 6C   C8 19            inc   routine_secondary,u        >>
    503                                                                    >>
    504        022B               EmblemTop_DisplaySprite                  >>
    505  4     022B 7E   7C21             jmp   DisplaySprite              >>
    506                                                                    >>
    507
    508                           * --------------------------------------->>
    509                           * Sky Piece
    510                           * - use a VDP functionality that hide lin>>
    511                           *   sprites, when a higher priority sprit>>
    512                           * --------------------------------------->>
    513
    514                                                                    >>
    515                                   * not implemented                >>
    516                                   * not implemented                >>
    517                                   * not implemented                >>
    518                                   * not implemented                >>
    519                                   * not implemented                >>
    520                                   * not implemented                >>
    521                                   * not implemented                >>
    522                                   * not implemented                >>
    523                                   * not implemented                >>
    524                                   * not implemented                >>
    525                                   * not implemented                >>
    526                                   * not implemented                >>
    527                                   * not implemented
    528                                   * not implemented                >>
    529                                   * not implemented                >>
    530                                   * not implemented
    531                                   * not implemented                >>
    532                                   * not implemented                >>
    533                                   * not implemented                >>
    534                                   * not implemented                >>
    535                                   * not implemented                >>
    536                                   * not implemented                >>
    537                                   * not implemented                >>
    538                                   * not implemented                >>
    539
    540                           * --------------------------------------->>
    541                           * Large Star
    542                           * --------------------------------------->>
    543
    544                                                                    >>
    545        022E               LargeStar                                >>
    546                                                                    >>
    547  4+1   022E A6   C8 19            lda   routine_secondary,u        >>
    548  5+5   0231 AE   8D 000E          ldx   LargeStar_Routines,pcr     >>
    549  3+4   0235 6E   96               jmp   [a,x]                      >>
    550                                                                    >>
    551        0237               LargeStar_Routines                       >>
    552        0237 024B                  fdb   LargeStar_Init             >>
    553        0239 00DB                  fdb   TitleScreen_Animate        >>
    554        023B 0271                  fdb   LargeStar_Wait             >>
    555        023D 0284                  fdb   LargeStar_Move             >>
    556                                                                    >>
    557                                                                    >>
    558        023F               LargeStar_Init                           >>
    559  6+1   023F 6C   C8 19            inc   routine_secondary,u
    560  6+1   0242 6C   C8 19            inc   routine_secondary,u        >>
(561) Expression Error
    561         lda   #Img_2_star
    562  4+1   0245 A7   4A               sta   mapping_frame,u            >>
    563                                   * not implemented                >>
(564) Expression Error
    564         ldd   #Ani_TitleScreen_LargeStar
    565  5+1   0247 ED   44               std   anim,u                     >>
    566  2     0249 C6   01               ldb   #$01
    567  4+1   024B E7   43               stb   priority,u                 >>
    568  3     024D CC   0100             ldd   #$100
    569  5+1   0250 ED   C8 12            std   x_pixel,u                  >>
    570  3     0253 CC   00A8             ldd   #$A8
    571  5+1   0256 ED   C8 13            std   y_pixel,u                  >>
    572  3     0259 CC   0004             ldd   #4
    573  5+1   025C ED   C8 1D            std   w_TitleScr_move_frame_count>>
    574  5     025F 39                    rts                              >>
    575                                                                    >>
    576                                                                    >>
    577        0260               LargeStar_Wait                           >>
    578  5+1   0260 EC   C8 1D            ldd   w_TitleScr_move_frame_count>>
    579  4     0263 83   0001             subd  #1                         >>
    580  5+1   0266 ED   C8 1D            std   w_TitleScr_move_frame_count>>
    581  3     0269 2B   12               bmi   LargeStar_AfterWait        >>
    582  5     026B 39                    rts                              >>
    583                                                                    >>
    584        026C               LargeStar_AfterWait                      >>
    585  6+1   026C 6C   C8 19            inc   routine_secondary,u
    586  6+1   026F 6C   C8 19            inc   routine_secondary,u        >>
    587  5     0272 39                    rts                              >>
    588                                                                    >>
    589                                                                    >>
    590        0273               LargeStar_Move                           >>
    591  3     0273 CC   0200             ldd   #$0200
    592  4+1   0276 A7   C8 19            sta   routine_secondary,u        >>
    593  4+1   0279 E7   48               stb   anim_frame,u               >>
    594  4+1   027B E7   49               stb   anim_frame_duration,u      >>
    595  3     027D CC   0006             ldd   #6
    596  5+1   0280 ED   C8 1D            std   w_TitleScr_move_frame_count>>
    597  5+1   0283 EC   C8 1F            ldd   w_TitleScr_xy_data_index,u >>
    598  4     0286 C3   0004             addd  #4                         >>
    599  8     0289 10B3 0028             cmpd  LargeStar_xy_data_end-Large>>
    600                                                                    >>
    601  3     028D 25   14               blo   LargeStar_MoveContinue
    602  4     028F 7E   7D4E             jmp   DeleteObject               >>
    603        0292               LargeStar_MoveContinue
    604  5+1   0292 ED   C8 1F            std   w_TitleScr_xy_data_index,u >>
    605  5+5   0295 AE   8D 001C          ldx   LargeStar_xy_data-2,pcr
    606  4+4   0299 30   8B               leax  d,x                        >>
    607  5+0   029B EC   84               ldd   ,x
    608  5+1   029D ED   C8 13            std   y_pixel,u                  >>
    609  5+1   02A0 EC   1E               ldd   -2,x                       >>
    610  5+1   02A2 ED   C8 12            std   x_pixel,u                  >>
    611                                   * sound unused                   >>
    612  5     02A5 39                    rts                              >>
    613                                                                    >>
    614                                                                    >>
    615        02A6               LargeStar_xy_data                        >>
    616        02A6 00DA 00F2             fdb   $DA,$F2                    >>
    617        02AA 0170 00F8             fdb   $170,$F8                   >>
    618        02AE 0132 0131             fdb   $132,$131                  >>
    619        02B2 019E 00A2             fdb   $19E,$A2                   >>
    620        02B6 00C0 00E3             fdb   $C0,$E3                    >>
    621        02BA 0180 00E0             fdb   $180,$E0                   >>
    622        02BE 010D 013B             fdb   $10D,$13B                  >>
    623        02C2 00C0 00AB             fdb   $C0,$AB                    >>
    624        02C6 0165 0107             fdb   $165,$107                  >>
    625        02CA               LargeStar_xy_data_end                    >>
    626                                                                    >>
    627
    628                           * --------------------------------------->>
    629                           * Sonic Hand
    630                           * --------------------------------------->>
    631
    632                                                                    >>
    633        02CA               SonicHand                                >>
    634                                                                    >>
    635  4+1   02CA A6   C8 19            lda   routine_secondary,u        >>
    636  5+5   02CD AE   8D 0013          ldx   SonicHand_Routines,pcr     >>
    637  3+4   02D1 6E   96               jmp   [a,x]                      >>
    638                                                                    >>
    639        02D3               SonicHand_Routines                       >>
    640        02D3 02EA                  fdb   SonicHand_Init             >>
    641        02D5 0307                  fdb   SonicHand_Move             >>
    642        02D7 0304                  fdb   SonicHand_DisplaySprite    >>
    643                                                                    >>
    644                                                                    >>
    645        02D9               SonicHand_Init                           >>
    646  6+1   02D9 6C   C8 19            inc   routine_secondary,u
    647  6+1   02DC 6C   C8 19            inc   routine_secondary,u        >>
(648) Expression Error
    648         lda   #Img_sonicHand
    649  4+1   02DF A7   4A               sta   mapping_frame,u            >>
    650  2     02E1 86   03               lda   #3
    651  4+1   02E3 A7   43               sta   priority,u                 >>
    652  3     02E5 CC   0145             ldd   #$145
    653  5+1   02E8 ED   C8 12            std   x_pixel,u                  >>
    654  3     02EB CC   00BF             ldd   #$BF
    655  5+1   02EE ED   C8 13            std   y_pixel,u                  >>
    656                                                                    >>
    657        02F1               SonicHand_DisplaySprite                  >>
    658  4     02F1 7E   7C21             jmp   DisplaySprite              >>
    659                                                                    >>
    660                                                                    >>
    661        02F4               SonicHand_Move                           >>
    662  6     02F4 BE   0010             ldx   SonicHand_xy_data_end-Sonic>>
    663  5     02F7 9F   C2               stx   dyn_01+1                   >>
    664  3     02F9 8E   0310             ldx   #SonicHand_xy_data-2,pcr   >>
    665  5     02FC 16   FDAF             lbra  TitleScreen_MoveObjects    >>
    666                                                                    >>
    667        02FF               SonicHand_xy_data                        >>
    668        02FF 0143 00C1             fdb   $143,$C1                   >>
    669        0303 0140 00C2             fdb   $140,$C2                   >>
    670        0307 0141 00C1             fdb   $141,$C1                   >>
    671        030B               SonicHand_xy_data_end                    >>
    672                                                                    >>
    673
    674                           * --------------------------------------->>
    675                           * Tails Hand
    676                           * --------------------------------------->>
    677
    678                                                                    >>
    679        030B               TailsHand                                >>
    680                                                                    >>
    681  4+1   030B A6   C8 19            lda   routine_secondary,u        >>
    682  5+5   030E AE   8D 0015          ldx   TailsHand_Routines,pcr     >>
    683  3+4   0312 6E   96               jmp   [a,x]                      >>
    684                                                                    >>
    685        0314               TailsHand_Routines                       >>
    686        0314 032D                  fdb   TailsHand_Init             >>
    687        0316 0348                  fdb   TailsHand_Move             >>
    688        0318 0345                  fdb   TailsHand_DisplaySprite    >>
    689                                                                    >>
    690                                                                    >>
    691        031A               TailsHand_Init                           >>
    692  6+1   031A 6C   C8 19            inc   routine_secondary,u
    693  6+1   031D 6C   C8 19            inc   routine_secondary,u        >>
(694) Expression Error
    694         lda   #Img_tailsHand
    695  4+1   0320 A7   4A               sta   mapping_frame,u            >>
    696  2     0322 86   03               lda   #3
    697  4+1   0324 A7   43               sta   priority,u                 >>
    698  3     0326 CC   010F             ldd   #$10F
    699  5     0329 DD   12               std   x_pixel                    >>
    700  3     032B CC   00D5             ldd   #$D5
    701  5     032E DD   13               std   y_pixel                    >>
    702                                                                    >>
    703        0330               TailsHand_DisplaySprite                  >>
    704  4     0330 7E   7C21             jmp   DisplaySprite              >>
    705                                                                    >>
    706                                                                    >>
    707        0333               TailsHand_Move                           >>
    708  3     0333 8E   000C             ldx   #TailsHand_xy_data_end-Tail>>
    709  5     0336 9F   C2               stx   dyn_01+1                   >>
    710  3     0338 8E   0351             ldx   #TailsHand_xy_data-2,pcr   >>
    711  5     033B 16   FD70             lbra  TitleScreen_MoveObjects    >>
    712                                                                    >>
    713        033E               TailsHand_xy_data                        >>
    714        033E 010C 00D0             fdb   $10C,$D0                   >>
    715        0342 010D 00D1             fdb   $10D,$D1                   >>
    716        0346               TailsHand_xy_data_end                    >>
    717                                                                    >>
    718
    719                           * --------------------------------------->>
    720                           * Small Star
    721                           * --------------------------------------->>
    722
    723                                                                    >>
    724        0346               SmallStar                                >>
    725                                                                    >>
    726  4+1   0346 A6   C8 19            lda   routine_secondary,u        >>
    727  5+5   0349 AE   8D 0017          ldx   SmallStar_Routines,pcr     >>
    728  3+4   034D 6E   96               jmp   [a,x]                      >>
    729                                                                    >>
    730        034F               SmallStar_Routines                       >>
    731        034F 0368                  fdb   SmallStar_Init             >>
    732        0351 0390                  fdb   SmallStar_Move             >>
    733                                                                    >>
    734                                                                    >>
    735        0353               SmallStar_Init                           >>
    736  6+1   0353 6C   C8 19            inc   routine_secondary,u
    737  6+1   0356 6C   C8 19            inc   routine_secondary,u        >>
(738) Expression Error
    738         lda   #Img_2_star
    739  4+1   0359 A7   4A               sta   mapping_frame,u            >>
    740  2     035B 86   05               lda   #5
    741  4+1   035D A7   43               sta   priority,u                 >>
    742  3     035F CC   0170             ldd   #$170
    743  5+1   0362 ED   C8 12            std   x_pixel,u                  >>
    744  3     0365 CC   0080             ldd   #$80
    745  5+1   0368 ED   C8 13            std   y_pixel,u                  >>
(746) Expression Error
    746         ldd   #Ani_TitleScreen_SmallStar
    747  5+1   036B ED   44               std   anim,u                     >>
    748  3     036D CC   008C             ldd   #$8C
    749  5+1   0370 ED   C8 1D            std   w_TitleScr_time_frame_count>>
    750  4     0373 7E   7C21             jmp   DisplaySprite              >>
    751                                                                    >>
    752                                                                    >>
    753        0376               SmallStar_Move                           >>
    754  5+1   0376 EC   C8 1D            ldd   w_TitleScr_time_frame_count>>
    755  4     0379 83   0001             subd  #1                         >>
    756  5+1   037C ED   C8 1D            std   w_TitleScr_time_frame_count>>
    757  3     037F 2A   1D               bpl   SmallStar_MoveContinue
    758  4     0381 7E   7D4E             jmp   DeleteObject               >>
    759        0384               SmallStar_MoveContinue
    760  5+1   0384 EC   C8 12            ldd   x_pixel,u
    761  4     0387 83   0001             subd  #1                         >>
    762  5+1   038A ED   C8 12            std   x_pixel,u
    763  5+1   038D EC   C8 13            ldd   y_pixel,u
    764  4     0390 C3   0001             addd  #1                         >>
    765  5+1   0393 ED   C8 13            std   y_pixel,u
    766                                   * no more offset table           >>
    767  8     0396 BD   7C86             jsr   AnimateSprite              >>
    768  4     0399 7E   7C21             jmp   DisplaySprite              >>
    769                                                                    >>
    770
    771                           * --------------------------------------->>
    772                           * Subroutines
    773                           * --------------------------------------->>
    774
    775                                                                    >>
    776                                                                    >>
    777                                                                    >>
    778        039C               TitleScreen_SetFinalState                >>
    779  6+1   039C 6D   C8 21            tst   b_TitleScr_final_state,u   >>
    780  6     039F 1026 00B1             lbne  TitleScreen_SetFinalState_r>>
    781  5     03A3 B6   7BC1             lda   Fire_Press                 >>
    782                                                                    >>
    783  2     03A6 84   40               anda  #c1_button_A_mask|c2_button>>
    784                                                                    >>
    785                                                                    >>
    786  6     03A8 1027 00A8             lbeq  TitleScreen_SetFinalState_r>>
    787  3     03AC CC   00FF             ldd   #$FF
    788  5     03AF DD   21               std   b_TitleScr_final_state     >>
    789                                                                    >>
(790) Expression Error
    790         lda   #Img_sonic_5
    791  4+1   03B1 A7   4A               sta   mapping_frame,u            >>
    792  3     03B3 CC   0108             ldd   #$108
    793  5+1   03B6 ED   C8 12            std   x_pixel,u                  >>
    794  3     03B9 CC   0098             ldd   #$98
    795  5+1   03BC ED   C8 13            std   y_pixel,u                  >>
    796  3     03BF 8E   67DD             ldx   #Obj_SonicHand             >>
    797                                   * not implemented                >>
    798  2     03C2 86   01               lda   #ObjID_TitleScreen         >>
    799  4+1   03C4 A7   00               sta   id,x
    800  2     03C6 86   0A               lda   #Sub_SonicHand
    801  4+1   03C8 A7   88 18            sta   routine,x                  >>
    802  2     03CB 86   02               lda   #2
    803  4+1   03CD A7   03               sta   priority,x                 >>
(804) Expression Error
    804         lda   #Img_sonicHand
    805  4+1   03CF A7   0A               sta   mapping_frame,x            >>
    806  2     03D1 86   04               lda   #4
    807  4+1   03D3 A7   88 19            sta   routine_secondary,x        >>
    808  3     03D6 CC   0141             ldd   #$141
    809  5+1   03D9 ED   88 12            std   x_pixel,x                  >>
    810  3     03DC CC   00C1             ldd   #$C1
    811  5+1   03DF ED   88 13            std   y_pixel,x                  >>
    812  3     03E2 8E   678D             ldx   #Obj_Tails                 >>
    813                                   * not implemented                >>
    814  2     03E5 86   01               lda   #ObjID_TitleScreen
    815  4+1   03E7 A7   00               sta   id,x                       >>
    816  2     03E9 86   04               lda   #4
    817  4+1   03EB A7   88 18            sta   routine,x                  >>
(818) Expression Error
    818         lda   #Img_tails_5
    819  4+1   03EE A7   0A               sta   mapping_frame,x            >>
    820  2     03F0 86   06               lda   #6
    821  4+1   03F2 A7   88 19            sta   routine_secondary,x        >>
    822  2     03F5 86   03               lda   #3
    823  4+1   03F7 A7   03               sta   priority,x                 >>
    824  3     03F9 CC   00C8             ldd   #$C8
    825  5+1   03FC ED   88 12            std   x_pixel,x                  >>
    826  3     03FF CC   00A0             ldd   #$A0
    827  5+1   0402 ED   88 13            std   y_pixel,x                  >>
    828  3     0405 8E   682D             ldx   #Obj_TailsHand             >>
    829                                   * not implemented                >>
    830  2     0408 86   01               lda   #ObjID_TitleScreen
    831  4+1   040A A7   00               sta   id,x                       >>
    832  3     040C CC   1002             ldd   #$1002
    833  4+1   040F A7   88 18            sta   routine,x                  >>
    834  4+1   0412 E7   03               stb   priority,x                 >>
(835) Expression Error
    835         lda   #Img_tailsHand
    836  4+1   0414 A7   0A               sta   mapping_frame,x            >>
    837  2     0416 86   04               lda   #4
    838  4+1   0418 A7   88 19            sta   routine_secondary,x        >>
    839  3     041B CC   010D             ldd   #$10D
    840  5+1   041E ED   88 12            std   x_pixel,x                  >>
    841  3     0421 CC   00D1             ldd   #$D1
    842  5+1   0424 ED   88 13            std   y_pixel,x                  >>
    843  6     0427 BE   687D             ldx   Obj_EmblemTop              >>
    844  2     042A 86   01               lda   #ObjID_TitleScreen
    845  4+1   042C A7   00               sta   id,x                       >>
    846  2     042E 86   06               lda   #Sub_EmblemTop
    847  4+1   0430 A7   01               sta   subtype,x                  >>
    848                                   * not implemented                >>
    849                                   * not implemented                >>
    850                                   *ldx   #Obj_PaletteHandler       >>
    851                                   *jsr   DeleteObject2             >>
    852                                                                    >>
    853                                                                    >>
    854                                                                    >>
    855                                                                    >>
    856                                                                    >>
    857                                                                    >>
    858                                                                    >>
    859                                                                    >>
    860                                                                    >>
    861                                                                    >>
    862                                                                    >>
    863                                                                    >>
    864                                                                    >>
    865                                                                    >>
    866                                                                    >>
    867                                                                    >>
    868                                                                    >>
    869                                                                    >>
    870                                                                    >>
    871                                                                    >>
    872                                   *clr   Obj_PaletteHandler3+palett>>
    873                                                                    >>
    874                                                                    >>
    875                                   * music unused                   >>
    876                                   * music unused                   >>
    877                                   * music unused                   >>
    878                                   * music unused                   >>
    879        0432               TitleScreen_SetFinalState_rts            >>
    880  5     0432 39                    rts                              >>
    881                                                                    >>
    882                                                                    >>
    883                                                                    >>
    884                                                                    >>
    885                                                                    >>
    886                                                                    >>
    887                                                                    >>
    888        0433               TitleScreen_InitSprite                   >>
    889                                                                    >>
    890                                   * vdp unused                     >>
    891                                   * vdp unused                     >>
    892                                   * not implemented is override lat>>
    893  5     0433 39                    rts                              >>
    894                                                                    >>
    895                                                                    >>
    896                                                                    >>
    897
    898                           * --------------------------------------->>
    899                           * Animation script is generated - for ref>>
    900                           * --------------------------------------->>
    901
    902                                                                    >>
    903                                                                    >>
    904                                                                    >>
    905                                                                    >>
    906                                                                    >>
    907                                                                    >>
    908                                                                    >>
    909                                                                    >>
    910                                                                    >>
    911                                                                    >>
    912                                                                    >>
    913                                                                    >>
    914                                                                    >>
    915                                                                    >>
    916                                                                    >>
    917                                                                    >>
    918                                                                    >>
    919                                                                    >>
    920                                                                    >>
    921                                                                    >>
    922                                                                    >>
    923                                                                    >>
    924                                                                    >>
    925                                                                    >>
    926                                                                    >>
    927                                                                    >>
    928                                                                    >>
    929                                                                    >>
    930                                                                    >>
    931                                                                    >>
    932                                                                    >>
    933                                                                    >>
    934                                                                    >>
    935                                                                    >>
    936                                                                    >>
    937                                                                    >>
    938                                                                    >>
    939                                                                    >>
    940                                                                    >>
    941                                                                    >>
    942                                                                    >>
    943                                                                    >>
    944                                                                    >>
    945                                                                    >>
    946                                                                    >>
    947                                                                    >>
    948                                                                    >>
    949                                                                    >>
    950                                                                    >>
    951                                                                    >>
    952                                                                    >>
    953                                                                    >>
    954                                                                    >>
    955                                                                    >>
    956                                                                    >>
    957                                                                    >>
    958

000015 Total Errors
        Expression Error     183         lda   #Img_sonic_1
        Expression Error     185         ldd   #Ani_TitleScreen_Sonic      >>
        Expression Error     288         lda   #Img_sonic_5
        Expression Error     434         ldd   #Ani_TitleScreen_Tails
        Expression Error     491         lda   #Img_EmblemFront            >>
        Expression Error     561         lda   #Img_2_star
        Expression Error     564         ldd   #Ani_TitleScreen_LargeStar
        Expression Error     648         lda   #Img_sonicHand
        Expression Error     694         lda   #Img_tailsHand
        Expression Error     738         lda   #Img_2_star
        Expression Error     746         ldd   #Ani_TitleScreen_SmallStar
        Expression Error     790         lda   #Img_sonic_5
        Expression Error     804         lda   #Img_sonicHand
        Expression Error     818         lda   #Img_tails_5
        Expression Error     835         lda   #Img_tailsHand

000258 Total Symbols
     4x          Equ   0004 anim
     2x          Equ   7C86 AnimateSprite
     1x          Equ   0008 anim_frame
     1x          Equ   0009 anim_frame_duration
     1x Unknown  Equ   0000 Ani_TitleScreen_LargeStar
     1x Unknown  Equ   0000 Ani_TitleScreen_SmallStar
     1x Unknown  Equ   0000 Ani_TitleScreen_Sonic
     1x Unknown  Equ   0000 Ani_TitleScreen_Tails
     0x          Equ   0001 bckdraw_routine
     0x          Equ   7B57 Black_palette
     0x          Equ   0007 buf_bgdata
     0x          Equ   000D buf_onscreen
     0x          Equ   0005 buf_prev_mapping_frame
     0x          Equ   000B buf_prev_x2_pixel
     0x          Equ   0009 buf_prev_x_pixel
     0x          Equ   000C buf_prev_y2_pixel
     0x          Equ   000A buf_prev_y_pixel
     0x          Equ   0000 buf_priority
     0x          Equ   0003 buf_priority_next_obj
     0x          Equ   0001 buf_priority_prev_obj
     3x          Equ   0021 b_TitleScr_final_state
     1x          Equ   0040 c1_button_A_mask
     0x          Equ   0002 c1_button_down_mask
     0x          Equ   0004 c1_button_left_mask
     0x          Equ   0008 c1_button_right_mask
     0x          Equ   0001 c1_button_up_mask
     0x          Equ   0080 c2_button_A_mask
     0x          Equ   0020 c2_button_down_mask
     0x          Equ   0040 c2_button_left_mask
     0x          Equ   0080 c2_button_right_mask
     0x          Equ   0010 c2_button_up_mask
     0x          Equ   7D82 ClearObj
     0x          Equ   41C0 current_game_mode_data
     1x          Label 0153 CyclingPal
     1x          Label 0166 CyclingPal_Continue
     1x          Label 0172 CyclingPal_NotYet
     2x          Label 0175 CyclingPal_TitleScreen
     1x          Label 0181 CyclingPal_TitleScreen_end
     2x          Equ   7D4E DeleteObject
     0x          Equ   7D48 DeleteObject_x
    14x          Equ   7C21 DisplaySprite
     0x          Equ   7C1B DisplaySprite_x
     0x          Equ   604F dk_destination
     0x          Equ   6049 dk_lecteur
     0x          Equ   604A dk_piste
     0x          Equ   604B dk_pisteL
     0x          Equ   604C dk_secteur
     0x          Equ   7BBE Dpad_Held
     0x          Equ   7BC0 Dpad_Press
     0x          Equ   0004 draw_routine
     4x          Label 00C1 dyn_01
     1x          Label 020A EmblemTop
     1x          Label 0237 EmblemTop_DisplaySprite
     1x          Label 021D EmblemTop_Init
     1x          Label 0219 EmblemTop_Routines
     0x          Equ   0009 erase_nb_cell
     0x          Equ   0007 erase_routine
     6x          Equ   001B ext_variables
     0x          Equ   7BBF Fire_Held
     1x          Equ   7BC1 Fire_Press
     0x          Equ   0038 gravity
    10x          Equ   0000 id
     0x          Equ   0010 image_meta_size
     0x          Equ   000A image_x_offset
     0x          Equ   000E image_x_size
     0x          Equ   000C image_y_offset
     0x          Equ   000F image_y_size
     2x Unknown  Equ   0000 Img_2_star
     1x Unknown  Equ   0000 Img_EmblemFront
     2x Unknown  Equ   0000 Img_sonicHand
     1x Unknown  Equ   0000 Img_sonic_1
     2x Unknown  Equ   0000 Img_sonic_5
     2x Unknown  Equ   0000 Img_tailsHand
     1x Unknown  Equ   0000 Img_tails_5
     1x          Label 0019 Init
     1x          Label 023A LargeStar
     1x          Label 027D LargeStar_AfterWait
     1x          Label 024B LargeStar_Init
     1x          Label 0284 LargeStar_Move
     1x          Label 02A3 LargeStar_MoveContinue
     1x          Label 0243 LargeStar_Routines
     1x          Label 0271 LargeStar_Wait
     2x          Label 02B7 LargeStar_xy_data
     1x          Label 02DB LargeStar_xy_data_end
    11x          Equ   000A mapping_frame
     0x          Equ   7C19 MarkObjGone
     1x          Label 00D8 MoveObjects_KeepPosition
     1x          Equ   003B nb_dynamic_objects
     0x          Equ   0003 nb_level_objects
     0x          Equ   003D nb_objects
     0x          Equ   0008 nb_priority_levels
     1x          Equ   0002 nb_reserved_objects
     0x          Equ   0050 next_object
     1x          Equ   7B37 Normal_palette
    12x          Equ   66ED Object_RAM
    11x          Equ   0050 object_size
     9x          Equ   0001 ObjID_TitleScreen
     2x          Equ   687D Obj_EmblemTop
     1x          Equ   68CD Obj_LargeStar
     0x          Equ   691D Obj_PaletteHandler
     0x          Equ   696D Obj_PaletteHandler2
     0x          Equ   69BD Obj_PaletteHandler3
     1x          Equ   66ED Obj_SmallStar
     0x          Equ   673D Obj_Sonic
     2x          Equ   67DD Obj_SonicHand
     2x          Equ   678D Obj_Tails
     2x          Equ   682D Obj_TailsHand
     0x          Equ   0000 page_bckdraw_routine
     0x          Equ   0003 page_draw_routine
     0x          Equ   0006 page_erase_routine
     0x          Equ   0006 prev_anim
     9x          Equ   0003 priority
     0x          Equ   0010 render_fixedoverlay_mask
     0x          Equ   0002 render_flags
     0x          Equ   0040 render_free2_mask
     0x          Equ   0080 render_free3_mask
     0x          Equ   0008 render_hide_mask
     0x          Equ   0004 render_playfieldcoord_mask
     0x          Equ   0020 render_todelete_mask
     0x          Equ   0001 render_xmirror_mask
     0x          Equ   0002 render_ymirror_mask
     5x          Equ   0018 routine
    45x          Equ   0019 routine_secondary
     0x          Equ   003B rsv_bgdata_0
     0x          Equ   0049 rsv_bgdata_1
     0x          Equ   0034 rsv_buffer_0
     0x          Equ   0042 rsv_buffer_1
     0x          Equ   002C rsv_curr_mapping_frame
     0x          Equ   0041 rsv_onscreen_0
     0x          Equ   004F rsv_onscreen_1
     0x          Equ   002A rsv_prev_anim
     0x          Equ   0039 rsv_prev_mapping_frame_0
     0x          Equ   0047 rsv_prev_mapping_frame_1
     0x          Equ   003F rsv_prev_x2_pixel_0
     0x          Equ   004D rsv_prev_x2_pixel_1
     0x          Equ   003D rsv_prev_x_pixel_0
     0x          Equ   004B rsv_prev_x_pixel_1
     0x          Equ   0040 rsv_prev_y2_pixel_0
     0x          Equ   004E rsv_prev_y2_pixel_1
     0x          Equ   003E rsv_prev_y_pixel_0
     0x          Equ   004C rsv_prev_y_pixel_1
     0x          Equ   0034 rsv_priority_0
     0x          Equ   0042 rsv_priority_1
     0x          Equ   0037 rsv_priority_next_obj_0
     0x          Equ   0045 rsv_priority_next_obj_1
     0x          Equ   0035 rsv_priority_prev_obj_0
     0x          Equ   0043 rsv_priority_prev_obj_1
     0x          Equ   0030 rsv_ptr_sub_object_draw
     0x          Equ   002E rsv_ptr_sub_object_erase
     0x          Equ   0001 rsv_render_checkrefresh_mask
     0x          Equ   0004 rsv_render_displaysprite_mask
     0x          Equ   0002 rsv_render_erasesprite_mask
     0x          Equ   0029 rsv_render_flags
     0x          Equ   0008 rsv_render_outofrange_mask
     0x          Equ   0032 rsv_x2_pixel
     0x          Equ   0033 rsv_y2_pixel
     0x          Equ   00C8 screen_height
     0x          Equ   00A0 screen_width
     1x          Label 035B SmallStar
     1x          Label 0368 SmallStar_Init
     1x          Label 0390 SmallStar_Move
     1x          Label 039E SmallStar_MoveContinue
     1x          Label 0364 SmallStar_Routines
     1x          Label 0024 Sonic
     1x          Label 02DB SonicHand
     1x          Label 0304 SonicHand_DisplaySprite
     1x          Label 02EA SonicHand_Init
     1x          Label 0307 SonicHand_Move
     1x          Label 02E4 SonicHand_Routines
     2x          Label 0312 SonicHand_xy_data
     1x          Label 031E SonicHand_xy_data_end
     1x          Label 00E1 Sonic_CreateHand
     1x          Label 0133 Sonic_CreateSmallStar
     1x          Label 013F Sonic_CreateSmallStar_AfterWait
     1x          Label 00F9 Sonic_CreateTails
     1x          Label 0113 Sonic_CreateTails_BeforeWait
     1x          Label 0116 Sonic_FadeInBackground
     1x          Label 0130 Sonic_FadeInBackground_NotYet
     1x          Label 0053 Sonic_Init
     1x          Label 00A5 Sonic_Move
     1x          Label 0036 Sonic_NotFinalState
     1x          Label 0083 Sonic_PaletteFade
     1x          Label 008D Sonic_PaletteFadeAfterWait
     1x          Label 003F Sonic_Routines
     1x          Label 0094 Sonic_SetPal_TitleScreen
     1x          Label 009E Sonic_SetPal_TitleScreenAfterWait
     2x          Label 0181 Sonic_xy_data
     1x          Label 01A1 Sonic_xy_data_end
     0x          Equ   001A status
     0x          Equ   0004 status_bit2
     0x          Equ   0080 status_bit7
     0x          Equ   0002 status_inair
     0x          Equ   0010 status_jumpingafterrolling
     0x          Equ   0004 status_jumporroll
     0x          Equ   0020 status_mainchar_pushing
     0x          Equ   0008 status_mainchar_standing
     0x          Equ   0008 status_norgroundnorfall
     0x          Equ   0020 status_pushing
     0x          Equ   0040 status_sidekick_pushing
     0x          Equ   0010 status_sidekick_standing
     0x          Equ   0040 status_underwater
     0x          Equ   0001 status_x_orientation
     0x          Equ   0002 status_y_orientation
     8x          Equ   0001 subtype
     2x          Equ   0006 Sub_EmblemTop
     0x          Equ   0000 Sub_Init
     1x          Equ   0008 Sub_LargeStar
     1x          Equ   000C Sub_SmallStar
     0x          Equ   0002 Sub_Sonic
     2x          Equ   000A Sub_SonicHand
     1x          Equ   0004 Sub_Tails
     1x          Equ   0010 Sub_TailsHand
     1x          Label 01A1 Tails
     1x          Label 031E TailsHand
     1x          Label 0345 TailsHand_DisplaySprite
     1x          Label 032D TailsHand_Init
     1x          Label 0348 TailsHand_Move
     1x          Label 0327 TailsHand_Routines
     2x          Label 0353 TailsHand_xy_data
     1x          Label 035B TailsHand_xy_data_end
     1x          Label 01DA Tails_CreateHand
     1x          Label 01EB Tails_DisplaySprite
     1x          Label 01BA Tails_Init
     1x          Label 01CF Tails_Move
     1x          Label 01B0 Tails_Routines
     2x          Label 01EE Tails_xy_data
     1x          Label 020A Tails_xy_data_end
     1x          Label 0000 TitleScreen
     3x          Label 00DB TitleScreen_Animate
     0x          Label 0455 TitleScreen_InitSprite
     3x          Label 00AE TitleScreen_MoveObjects
     1x          Label 0231 TitleScreen_NextSubRoutineAndDisplay
     1x          Label 0009 TitleScreen_Routines
     1x          Label 03B6 TitleScreen_SetFinalState
     2x          Label 0454 TitleScreen_SetFinalState_rts
     0x          Equ   66ED TitleScr_Object_RAM
     0x          Equ   6A0D TitleScr_Object_RAM_End
     1x          Equ   7B32 Vint_runcount
     0x          Equ   7B77 White_palette
     2x          Equ   001F w_TitleScr_color_data_index
     6x          Equ   001D w_TitleScr_move_frame_count
     7x          Equ   001B w_TitleScr_time_frame_count
     3x          Equ   001D w_TitleScr_time_frame_countdown
     5x          Equ   001F w_TitleScr_xy_data_index
    15x          Equ   0012 x_pixel
     0x          Equ   000C x_pos
     0x          Equ   000E x_sub
     0x          Equ   0014 x_vel
    15x          Equ   0013 y_pixel
     0x          Equ   000F y_pos
     0x          Equ   0011 y_sub
     0x          Equ   0016 y_vel
     0x          Equ   00FE _goBackNFrames
     0x          Equ   00FD _goToAnimation
     0x          Equ   00FC _nextRoutine
     0x          Equ   00FA _nextSubRoutine
     0x          Equ   00FF _resetAnim
     0x          Equ   00FB _resetAnimAndSubRoutine

