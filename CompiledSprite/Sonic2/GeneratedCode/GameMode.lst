/*--------------------------------------------------------------*
 * Compilé avec C6809 v0.83                                     *
 *--------------------------------------------------------------*
 * Fichier source      : .\Sonic2\GeneratedCode\GameMode.asm
 * Fichier destination : .\Sonic2\GeneratedCode\TMP.BIN
 * Contenu :
 *     Main     0:GAMEMODE.ASM 1690
 *     Include  0:CONSTANT.ASM 4674
 *     Include  0:GLOBALS.ASM  80
 *     Include  0:GMENGINE.ASM 2142
 *     Include  0:GMEDATA.ASM  67
 *--------------------------------------------------------------*/

Macro Pass
Pass1
Pass2
    109                                   INCLUD CONSTANT
    110                           * --------------------------------------->>
    111                           * Constants
    112                           *
    113                           * Naming convention
    114                           * -----------------
    115                           * - lower case
    116                           * - underscore-separated names
    117                           *
    118                           * --------------------------------------->>
    119
    120                           * =======================================>>
    121                           * TO8 Registers
    122                           * =======================================>>
    123
    124                  6049     dk_lecteur                    equ $6049
    125                  604A     dk_piste                      equ $604A
    126                  604C     dk_secteur                    equ $604C
    127                  604F     dk_destination                equ $604F
    128
    129                           * =======================================>>
    130                           * Display Constants
    131                           * =======================================>>
    132
    133                  00A0     screen_width                  equ 160 ; s>>
    134                  00C8     screen_height                 equ 200 ; s>>
    135                  0008     nb_priority_levels            equ 8   ; n>>
    136
    137                           * =======================================>>
    138                           * Physics Constants
    139                           * =======================================>>
    140
    141                  0038     gravity                       equ $38 ; G>>
    142
    143                           * =======================================>>
    144                           * Animation Constants
    145                           * =======================================>>
    146
    147                  00FF     _resetAnim                    equ $FF
    148                  00FE     _goBackNFrames                equ $FE
    149                  00FD     _goToAnimation                equ $FD
    150                  00FC     _nextRoutine                  equ $FC
    151                  00FB     _resetAnimAndSubRoutine       equ $FB
    152                  00FA     _nextSubRoutine               equ $FA
    153
    154                           * =======================================>>
    155                           * Images Constants
    156                           * =======================================>>
    157
    158                  0000     page_bckdraw_routine          equ 0
    159                  0001     bckdraw_routine               equ 1
    160                  0003     page_draw_routine             equ 3
    161                  0004     draw_routine                  equ 4
    162                  0006     page_erase_routine            equ 6
    163                  0007     erase_routine                 equ 7
    164                  0009     erase_nb_cell                 equ 9
    165                  000A     image_x_offset                equ 10
    166                  000C     image_y_offset                equ 12
    167                  000E     image_x_size                  equ 14
    168                  000F     image_y_size                  equ 15 ; mu>>
    169                  0010     image_meta_size               equ 16 ; nu>>
    170
    171                           * =======================================>>
    172                           * Object Constants
    173                           * =======================================>>
    174
    175                  0002     nb_reserved_objects           equ 2
    176                  003B     nb_dynamic_objects            equ 59
    177                  0003     nb_level_objects              equ 3
    178                  003D     nb_objects                    equ (nb_res>>
    179
    180                           * --------------------------------------->>
    181                           * Object Status Table offsets
    182                           * --------------------------------------->>
    183
    184                  0050     object_size                   equ 80 ; th>>
    185                  0050     next_object                   equ object_>>
    186
    187                  0000     id                            equ 0      >>
    188                  0001     subtype                       equ 1      >>
    189                  0002     render_flags                  equ 2
    190
    191                           * --- render_flags bitfield variables --->>
    192                  0001     render_xmirror_mask           equ $01 ; (>>
    193                  0002     render_ymirror_mask           equ $02 ; (>>
    194                  0004     render_playfieldcoord_mask    equ $04 ; (>>
    195                  0008     render_hide_mask              equ $08 ; (>>
    196                  0010     render_fixedoverlay_mask      equ $10 ; (>>
    197                  0020     render_todelete_mask          equ $20 ; (>>
    198                  0040     render_free2_mask             equ $40 ; (>>
    199                  0080     render_free3_mask             equ $80 ; (>>
    200                            
    201                  0003     priority                      equ 3      >>
    202                  0004     anim                          equ 4  ; an>>
    203                  0006     prev_anim                     equ 6  ; an>>
    204                  0008     anim_frame                    equ 8      >>
    205                  0009     anim_frame_duration           equ 9      >>
    206                  000A     mapping_frame                 equ 10 ; an>>
    207                  000C     x_pos                         equ 12 ; an>>
    208                  000E     x_sub                         equ 14     >>
    209                  000F     y_pos                         equ 15 ; an>>
    210                  0011     y_sub                         equ 17     >>
    211                  0012     x_pixel                       equ 18     >>
    212                  0013     y_pixel                       equ 19     >>
    213                  0014     x_vel                         equ 20 ; an>>
    214                  0016     y_vel                         equ 22 ; an>>
    215                  0018     routine                       equ 24     >>
    216                  0019     routine_secondary             equ 25     >>
    217                  001A     status                        equ 26
    218
    219                           * --- status bitfield variables for objec>>
    220                  0001     status_x_orientation          equ   $01 ;>>
    221                  0002     status_y_orientation          equ   $02 ;>>
    222                  0004     status_bit2                   equ   $04 ;>>
    223                  0008     status_mainchar_standing      equ   $08 ;>>
    224                  0010     status_sidekick_standing      equ   $10 ;>>
    225                  0020     status_mainchar_pushing       equ   $20 ;>>
    226                  0040     status_sidekick_pushing       equ   $40 ;>>
    227                  0080     status_bit7                   equ   $80 ;>>
    228
    229                           * --- status bitfield variables for Main >>
    230                  0002     status_inair                  equ   $02 ;>>
    231                  0004     status_jumporroll             equ   $04 ;>>
    232                  0008     status_norgroundnorfall       equ   $08 ;>>
    233                  0010     status_jumpingafterrolling    equ   $10 ;>>
    234                  0020     status_pushing                equ   $20 ;>>
    235                  0040     status_underwater             equ   $40 ;>>
    236
    237                  001B     ext_variables                 equ 27 ; to>>
    238
    239                           * --------------------------------------->>
    240                           * reserved variables (engine)
    241
    242                  0029     rsv_render_flags              equ 41
    243
    244                           * --- rsv_render_flags bitfield variables>>
    245                  0001     rsv_render_checkrefresh_mask  equ $01 ; (>>
    246                  0002     rsv_render_erasesprite_mask   equ $02 ; (>>
    247                  0004     rsv_render_displaysprite_mask equ $04 ; (>>
    248                  0008     rsv_render_outofrange_mask    equ $08 ; (>>
    249
    250                  002A     rsv_prev_anim                 equ 42 ; an>>
    251                  002C     rsv_curr_mapping_frame        equ 44 ; an>>
    252                  002E     rsv_ptr_sub_object_erase      equ 46 ; an>>
    253                  0030     rsv_ptr_sub_object_draw       equ 48 ; an>>
    254                  0032     rsv_x2_pixel                  equ 50     >>
    255                  0033     rsv_y2_pixel                  equ 51     >>
    256
    257                           * --------------------------------------->>
    258                           * reserved variables (engine) - buffer sp>>
    259
    260                  0034     rsv_buffer_0                  equ 52 ; St>>
    261                  0034     rsv_priority_0                equ 52 ; in>>
    262                  0035     rsv_priority_prev_obj_0       equ 53 ; an>>
    263                  0037     rsv_priority_next_obj_0       equ 55 ; an>>
    264                  0039     rsv_prev_mapping_frame_0      equ 57 ; an>>
    265                  003B     rsv_bgdata_0                  equ 59 ; an>>
    266                  003D     rsv_prev_x_pixel_0            equ 61 ; pr>>
    267                  003E     rsv_prev_y_pixel_0            equ 62 ; pr>>
    268                  003F     rsv_prev_x2_pixel_0           equ 63 ; pr>>
    269                  0040     rsv_prev_y2_pixel_0           equ 64 ; pr>>
    270                  0041     rsv_onscreen_0                equ 65 ; ha>>
    271
    272                  0042     rsv_buffer_1                  equ 66 ; St>>
    273                  0042     rsv_priority_1                equ 66 ; in>>
    274                  0043     rsv_priority_prev_obj_1       equ 67 ; an>>
    275                  0045     rsv_priority_next_obj_1       equ 69 ; an>>
    276                  0047     rsv_prev_mapping_frame_1      equ 71 ; an>>
    277                  0049     rsv_bgdata_1                  equ 73 ; an>>
    278                  004B     rsv_prev_x_pixel_1            equ 75 ; pr>>
    279                  004C     rsv_prev_y_pixel_1            equ 76 ; pr>>
    280                  004D     rsv_prev_x2_pixel_1           equ 77 ; pr>>
    281                  004E     rsv_prev_y2_pixel_1           equ 78 ; pr>>
    282                  004F     rsv_onscreen_1                equ 79 ; ha>>
    283
    284                  0000     buf_priority                  equ 0  ; of>>
    285                  0001     buf_priority_prev_obj         equ 1  ;
    286                  0003     buf_priority_next_obj         equ 3  ;
    287                  0005     buf_prev_mapping_frame        equ 5  ;
    288                  0007     buf_bgdata                    equ 7  ;
    289                  0009     buf_prev_x_pixel              equ 9  ;
    290                  000A     buf_prev_y_pixel              equ 10 ;
    291                  000B     buf_prev_x2_pixel             equ 11 ;
    292                  000C     buf_prev_y2_pixel             equ 12 ;
    293                  000D     buf_onscreen                  equ 13 ;
    294
    295                                   INCLUD GLOBALS
    296                           * Generated Code
    297                  41B9     current_game_mode_data equ $41B9
    298                  0001     ObjID_TitleScreen equ 1
    299
    300
     35        A000                       org $A000
     36
     37                           * =======================================>>
     38                           * GameModeEngineLoader
     39                           * =======================================>>
     40
     41        A000               GameModeEngineLoader
     42
     43                           * Positionnement de la page 3 a l'ecran
     44                           *****************************************>>
     45        A000               WaitVBL
     46  7     A000 7D   E7E7             tst   $E7E7                    * >>
     47  3     A003 2A   FB               bpl   WaitVBL                  * >>
     48        A005               WaitVBL_01
     49  7     A005 7D   E7E7             tst   $E7E7                    * >>
     50  3     A008 2B   FB               bmi   WaitVBL_01               * >>
     51        A00A               SwapVideoPage
     52  2     A00A C6   C0               ldb   #$C0                     * >>
     53  5     A00C F7   E7DD             stb   $E7DD                    * >>
     54                            
     55                           * Positionnement de la page 2 en zone 000>>
     56                           *****************************************>>
     57  2     A00F C6   62               ldb   #$62                     * >>
     58  5     A011 F7   E7E6             stb   $E7E6                    * >>
     59                            
     60                           * Positionnement de la page 0a en zone 40>>
     61                           *****************************************>>
     62  5     A014 F6   E7C3             ldb   $E7C3                    * >>
     63  2     A017 C4   FE               andb  #$FE                     * >>
     64  5     A019 F7   E7C3             stb   $E7C3                    * >>
     65
     66                           * Copie en page 0a des donnees du mode a >>
     67                           * les groupes de 7 octets sont recopiees >>
     68                           * si on souhaite implanter le debut du mo>>
     69                           * il faut le charger en dernier (car ecra>>
     70                           * la fin des donnees est marquee par un o>>
     71                           *****************************************>>
     72  7     A01C 10FF A03D             sts   CopyCode3+2              ; >>
     73  6+1   A020 10EE 5E               lds   -2,u                     ; >>
     74  2     A023 86   FF               lda   #$FF                     ; >>
     75  5+1   A025 34   02               pshs  a                        ; >>
     76        A027               CopyData1
     77  5+7   A027 37   3E               pulu  d,x,y,dp                 ; >>
     78  5+7   A029 34   3E               pshs  d,x,y,dp                 ; >>
     79        A02B               CopyData2
     80  2     A02B 4D                    tsta                           ; >>
     81  3     A02C 2A   F9               bpl   CopyData1                ; >>
     82
     83                           * Copie en page 0a du code Game Mode Engi>>
     84                           * les groupes de 7 octets sont recopiees >>
     85                           * les donnees a l'avance on gagne un leas>>
     86                           *****************************************>>
     87  3     A02E CE   A042             ldu   #GameModeEngineBin       * >>
     88        A031               CopyCode1
     89  5+7   A031 37   3E               pulu  d,x,y,dp                 ; >>
     90  5+7   A033 34   3E               pshs  d,x,y,dp                 ; >>
     91        A035               CopyCode2
     92  5     A035 118C 4000             cmps  #$4000                   ; >>
     93  3     A039 26   F6               bne   CopyCode1                ; >>
     94        A03B               CopyCode3
     95  4     A03B 10CE 0000             lds   #0                       ; >>
     96                            
     97                           * Execution du Game Mode Engine en page 0>>
     98                           *****************************************>>
     99  4     A03F 7E   4000             jmp   $4000
    100
    101                           * =======================================>>
    102                           * GameModeEngine
    103                           * =======================================>>
    104        A042               GameModeEngineBin
    301                                   INCLUD GMENGINE
    302
    303        A042 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A046 00 00 00
    304        A049 BD 40 00 35           fcb   $BD,$40,$00,$35,$40,$20,$A2>>
               A04D 40 20 A2
    305        A050 FF 00 86 00           fcb   $FF,$00,$86,$00,$B7,$E7,$E5>>
               A054 B7 E7 E5
    306        A057 83 00 00 23           fcb   $83,$00,$00,$23,$E5,$33,$C9>>
               A05B E5 33 C9
    307        A05E 0C 4B 0C 4F           fcb   $0C,$4B,$0C,$4F,$DE,$4F,$11>>
               A062 DE 4F 11
    308        A065 10 23 06 86           fcb   $10,$23,$06,$86,$01,$97,$4C>>
               A069 01 97 4C
    309        A06C E8 2A 0C 4C           fcb   $E8,$2A,$0C,$4C,$96,$4C,$81>>
               A070 96 4C 81
    310        A073 34 40 86 02           fcb   $34,$40,$86,$02,$97,$48,$BD>>
               A077 97 48 BD
    311        A07A 26 B7 41 A4           fcb   $26,$B7,$41,$A4,$F7,$41,$A7>>
               A07E F7 41 A7
    312        A081 00 97 4C F7           fcb   $00,$97,$4C,$F7,$41,$9E,$37>>
               A085 41 9E 37
    313        A088 07 10 FE 9F           fcb   $07,$10,$FE,$9F,$FF,$7E,$61>>
               A08C FF 7E 61
    314        A08F C6 00 DD 4F           fcb   $C6,$00,$DD,$4F,$EC,$C1,$2A>>
               A093 EC C1 2A
    315        A096 80 97 49 86           fcb   $80,$97,$49,$86,$00,$DD,$4A>>
               A09A 00 DD 4A
    316        A09D 8B E6 C0 1D           fcb   $8B,$E6,$C0,$1D,$84,$01,$C4>>
               A0A1 84 01 C4
    317        A0A4 41 C0 34 40           fcb   $41,$C0,$34,$40,$86,$60,$1F>>
               A0A8 86 60 1F
    318        A0AB 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$CE>>
               A0AF 00 00 CE
    319        A0B2 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0B6 00 00 00
    320        A0B9 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0BD 00 00 00
    321        A0C0 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0C4 00 00 00
    322        A0C7 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0CB 00 00 00
    323        A0CE 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0D2 00 00 00
    324        A0D5 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0D9 00 00 00
    325        A0DC 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0E0 00 00 00
    326        A0E3 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0E7 00 00 00
    327        A0EA 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0EE 00 00 00
    328        A0F1 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0F5 00 00 00
    329        A0F8 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0FC 00 00 00
    330        A0FF 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A103 00 00 00
    331        A106 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A10A 00 00 00
    332        A10D 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A111 00 00 00
    333        A114 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A118 00 00 00
    334        A11B 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A11F 00 00 00
    335        A122 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A126 00 00 00
    336        A129 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A12D 00 00 00
    337        A130 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A134 00 00 00
    338        A137 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A13B 00 00 00
    339        A13E 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A142 00 00 00
    340        A145 04 10 30 20           fcb   $04,$10,$30,$20,$00,$00,$00>>
               A149 00 00 00
    341        A14C 8D DC E3 01           fcb   $8D,$DC,$E3,$01,$39,$04,$02>>
               A150 39 04 02
    342        A153 30 8D 00 0E           fcb   $30,$8D,$00,$0E,$3A,$58,$3A>>
               A157 3A 58 3A
    343        A15A 2A F6 97 8D           fcb   $2A,$F6,$97,$8D,$EC,$E1,$39>>
               A15E EC E1 39
    344        A161 27 FB 69 61           fcb   $27,$FB,$69,$61,$69,$E4,$5A>>
               A165 69 E4 5A
    345        A168 86 12 20 09           fcb   $86,$12,$20,$09,$A6,$C2,$46>>
               A16C A6 C2 46
    346        A16F FF E6 84 6F           fcb   $FF,$E6,$84,$6F,$E2,$6F,$E2>>
               A173 E2 6F E2
    347        A176 F4 20 B3 10           fcb   $F4,$20,$B3,$10,$AF,$66,$35>>
               A17A AF 66 35
    348        A17D 12 34 A7 A4           fcb   $12,$34,$A7,$A4,$30,$1F,$26>>
               A181 30 1F 26
    349        A184 77 35 10 31           fcb   $77,$35,$10,$31,$3F,$A6,$A9>>
               A188 3F A6 A9
    350        A18B 8D 1B EB 03           fcb   $8D,$1B,$EB,$03,$8D,$32,$DD>>
               A18F 8D 32 DD
    351        A192 10 83 00 03           fcb   $10,$83,$00,$03,$24,$01,$3A>>
               A196 24 01 3A
    352        A199 8D 44 34 06           fcb   $8D,$44,$34,$06,$30,$8C,$4B>>
               A19D 30 8C 4B
    353        A1A0 A2 30 1F 26           fcb   $A2,$30,$1F,$26,$F8,$20,$D9>>
               A1A4 F8 20 D9
    354        A1A7 8D 39 1F 01           fcb   $8D,$39,$1F,$01,$A6,$C2,$A7>>
               A1AB A6 C2 A7
    355        A1AE C1 10 27 37           fcb   $C1,$10,$27,$37,$25,$0F,$5A>>
               A1B2 25 0F 5A
    356        A1B5 5C 8D 46 27           fcb   $5C,$8D,$46,$27,$F9,$C6,$00>>
               A1B9 F9 C6 00
    357        A1BC 26 15 D7 45           fcb   $26,$15,$D7,$45,$8C,$0C,$45>>
               A1C0 8C 0C 45
    358        A1C3 10 AE 66 C6           fcb   $10,$AE,$66,$C6,$01,$8D,$50>>
               A1C7 01 8D 50
    359        A1CA 35 06 5C C1           fcb   $35,$06,$5C,$C1,$34,$26,$DC>>
               A1CE 34 26 DC
    360        A1D1 FA E6 E4 AF           fcb   $FA,$E6,$E4,$AF,$A1,$30,$8B>>
               A1D5 A1 30 8B
    361        A1D8 A0 53 69 E4           fcb   $A0,$53,$69,$E4,$49,$5C,$2B>>
               A1DC 49 5C 2B
    362        A1DF 00 01 C6 04           fcb   $00,$01,$C6,$04,$8D,$6D,$E7>>
               A1E3 8D 6D E7
    363        A1E6 34 06 C5 0F           fcb   $34,$06,$C5,$0F,$26,$03,$8E>>
               A1EA 26 03 8E
    364        A1ED 8D 00 A9 5F           fcb   $8D,$00,$A9,$5F,$D7,$8D,$4F>>
               A1F1 D7 8D 4F
    365        A1F4 34 7F 1F 50           fcb   $34,$7F,$1F,$50,$1F,$8B,$31>>
               A1F8 1F 8B 31
    366
    367                                   INCLUD GMEDATA
    368                           * Generated Code
    369
    370        A1FB               gm_TITLESCR
    371        A1FB FF                    fcb   $FF
    372        A1FC               gmboot * @globals
    107
    108

000000 Total Errors

000132 Total Symbols
     0x          Equ   0004 anim
     0x          Equ   0008 anim_frame
     0x          Equ   0009 anim_frame_duration
     0x          Equ   0001 bckdraw_routine
     0x          Equ   0007 buf_bgdata
     0x          Equ   000D buf_onscreen
     0x          Equ   0005 buf_prev_mapping_frame
     0x          Equ   000B buf_prev_x2_pixel
     0x          Equ   0009 buf_prev_x_pixel
     0x          Equ   000C buf_prev_y2_pixel
     0x          Equ   000A buf_prev_y_pixel
     0x          Equ   0000 buf_priority
     0x          Equ   0003 buf_priority_next_obj
     0x          Equ   0001 buf_priority_prev_obj
     1x          Label A031 CopyCode1
     0x          Label A035 CopyCode2
     1x          Label A03B CopyCode3
     1x          Label A027 CopyData1
     0x          Label A02B CopyData2
     0x          Equ   41B9 current_game_mode_data
     0x          Equ   604F dk_destination
     0x          Equ   6049 dk_lecteur
     0x          Equ   604A dk_piste
     0x          Equ   604C dk_secteur
     0x          Equ   0004 draw_routine
     0x          Equ   0009 erase_nb_cell
     0x          Equ   0007 erase_routine
     0x          Equ   001B ext_variables
     1x          Label A042 GameModeEngineBin
     0x          Label A000 GameModeEngineLoader
     0x          Label A1FC gmboot
     0x          Label A1FB gm_TITLESCR
     0x          Equ   0038 gravity
     0x          Equ   0000 id
     0x          Equ   0010 image_meta_size
     0x          Equ   000A image_x_offset
     0x          Equ   000E image_x_size
     0x          Equ   000C image_y_offset
     0x          Equ   000F image_y_size
     0x          Equ   000A mapping_frame
     1x          Equ   003B nb_dynamic_objects
     0x          Equ   0003 nb_level_objects
     0x          Equ   003D nb_objects
     0x          Equ   0008 nb_priority_levels
     1x          Equ   0002 nb_reserved_objects
     0x          Equ   0050 next_object
     1x          Equ   0050 object_size
     0x          Equ   0001 ObjID_TitleScreen
     0x          Equ   0000 page_bckdraw_routine
     0x          Equ   0003 page_draw_routine
     0x          Equ   0006 page_erase_routine
     0x          Equ   0006 prev_anim
     0x          Equ   0003 priority
     0x          Equ   0010 render_fixedoverlay_mask
     0x          Equ   0002 render_flags
     0x          Equ   0040 render_free2_mask
     0x          Equ   0080 render_free3_mask
     0x          Equ   0008 render_hide_mask
     0x          Equ   0004 render_playfieldcoord_mask
     0x          Equ   0020 render_todelete_mask
     0x          Equ   0001 render_xmirror_mask
     0x          Equ   0002 render_ymirror_mask
     0x          Equ   0018 routine
     0x          Equ   0019 routine_secondary
     0x          Equ   003B rsv_bgdata_0
     0x          Equ   0049 rsv_bgdata_1
     0x          Equ   0034 rsv_buffer_0
     0x          Equ   0042 rsv_buffer_1
     0x          Equ   002C rsv_curr_mapping_frame
     0x          Equ   0041 rsv_onscreen_0
     0x          Equ   004F rsv_onscreen_1
     0x          Equ   002A rsv_prev_anim
     0x          Equ   0039 rsv_prev_mapping_frame_0
     0x          Equ   0047 rsv_prev_mapping_frame_1
     0x          Equ   003F rsv_prev_x2_pixel_0
     0x          Equ   004D rsv_prev_x2_pixel_1
     0x          Equ   003D rsv_prev_x_pixel_0
     0x          Equ   004B rsv_prev_x_pixel_1
     0x          Equ   0040 rsv_prev_y2_pixel_0
     0x          Equ   004E rsv_prev_y2_pixel_1
     0x          Equ   003E rsv_prev_y_pixel_0
     0x          Equ   004C rsv_prev_y_pixel_1
     0x          Equ   0034 rsv_priority_0
     0x          Equ   0042 rsv_priority_1
     0x          Equ   0037 rsv_priority_next_obj_0
     0x          Equ   0045 rsv_priority_next_obj_1
     0x          Equ   0035 rsv_priority_prev_obj_0
     0x          Equ   0043 rsv_priority_prev_obj_1
     0x          Equ   0030 rsv_ptr_sub_object_draw
     0x          Equ   002E rsv_ptr_sub_object_erase
     0x          Equ   0001 rsv_render_checkrefresh_mask
     0x          Equ   0004 rsv_render_displaysprite_mask
     0x          Equ   0002 rsv_render_erasesprite_mask
     0x          Equ   0029 rsv_render_flags
     0x          Equ   0008 rsv_render_outofrange_mask
     0x          Equ   0032 rsv_x2_pixel
     0x          Equ   0033 rsv_y2_pixel
     0x          Equ   00C8 screen_height
     0x          Equ   00A0 screen_width
     0x          Equ   001A status
     0x          Equ   0004 status_bit2
     0x          Equ   0080 status_bit7
     0x          Equ   0002 status_inair
     0x          Equ   0010 status_jumpingafterrolling
     0x          Equ   0004 status_jumporroll
     0x          Equ   0020 status_mainchar_pushing
     0x          Equ   0008 status_mainchar_standing
     0x          Equ   0008 status_norgroundnorfall
     0x          Equ   0020 status_pushing
     0x          Equ   0040 status_sidekick_pushing
     0x          Equ   0010 status_sidekick_standing
     0x          Equ   0040 status_underwater
     0x          Equ   0001 status_x_orientation
     0x          Equ   0002 status_y_orientation
     0x          Equ   0001 subtype
     0x          Label A00A SwapVideoPage
     1x          Label A000 WaitVBL
     1x          Label A005 WaitVBL_01
     0x          Equ   0012 x_pixel
     0x          Equ   000C x_pos
     0x          Equ   000E x_sub
     0x          Equ   0014 x_vel
     0x          Equ   0013 y_pixel
     0x          Equ   000F y_pos
     0x          Equ   0011 y_sub
     0x          Equ   0016 y_vel
     0x          Equ   00FE _goBackNFrames
     0x          Equ   00FD _goToAnimation
     0x          Equ   00FC _nextRoutine
     0x          Equ   00FA _nextSubRoutine
     0x          Equ   00FF _resetAnim
     0x          Equ   00FB _resetAnimAndSubRoutine

