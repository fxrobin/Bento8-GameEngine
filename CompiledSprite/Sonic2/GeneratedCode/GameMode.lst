/*--------------------------------------------------------------*
 * Compilé avec C6809 v0.83                                     *
 *--------------------------------------------------------------*
 * Fichier source      : .\Sonic2\GeneratedCode\GameMode.asm
 * Fichier destination : .\Sonic2\GeneratedCode\TMP.BIN
 * Contenu :
 *     Main     0:GAMEMODE.ASM 1690
 *     Include  0:CONSTANT.ASM 4697
 *     Include  0:GLOBALS.ASM  80
 *     Include  0:GMENGINE.ASM 2176
 *     Include  0:GMEDATA.ASM  1187
 *--------------------------------------------------------------*/

Macro Pass
Pass1
Pass2
    109                                   INCLUD CONSTANT
    110                           * --------------------------------------->>
    111                           * Constants
    112                           *
    113                           * Naming convention
    114                           * -----------------
    115                           * - lower case
    116                           * - underscore-separated names
    117                           *
    118                           * --------------------------------------->>
    119
    120                           * =======================================>>
    121                           * TO8 Registers
    122                           * =======================================>>
    123
    124                  6049     dk_lecteur                    equ $6049
    125                  604A     dk_piste                      equ $604A
    126                  604B     dk_pisteL                     equ $604B
    127                  604C     dk_secteur                    equ $604C
    128                  604F     dk_destination                equ $604F
    129
    130                           * =======================================>>
    131                           * Display Constants
    132                           * =======================================>>
    133
    134                  00A0     screen_width                  equ 160 ; s>>
    135                  00C8     screen_height                 equ 200 ; s>>
    136                  0008     nb_priority_levels            equ 8   ; n>>
    137
    138                           * =======================================>>
    139                           * Physics Constants
    140                           * =======================================>>
    141
    142                  0038     gravity                       equ $38 ; G>>
    143
    144                           * =======================================>>
    145                           * Animation Constants
    146                           * =======================================>>
    147
    148                  00FF     _resetAnim                    equ $FF
    149                  00FE     _goBackNFrames                equ $FE
    150                  00FD     _goToAnimation                equ $FD
    151                  00FC     _nextRoutine                  equ $FC
    152                  00FB     _resetAnimAndSubRoutine       equ $FB
    153                  00FA     _nextSubRoutine               equ $FA
    154
    155                           * =======================================>>
    156                           * Images Constants
    157                           * =======================================>>
    158
    159                  0000     page_bckdraw_routine          equ 0
    160                  0001     bckdraw_routine               equ 1
    161                  0003     page_draw_routine             equ 3
    162                  0004     draw_routine                  equ 4
    163                  0006     page_erase_routine            equ 6
    164                  0007     erase_routine                 equ 7
    165                  0009     erase_nb_cell                 equ 9
    166                  000A     image_x_offset                equ 10
    167                  000C     image_y_offset                equ 12
    168                  000E     image_x_size                  equ 14
    169                  000F     image_y_size                  equ 15 ; mu>>
    170                  0010     image_meta_size               equ 16 ; nu>>
    171
    172                           * =======================================>>
    173                           * Object Constants
    174                           * =======================================>>
    175
    176                  0002     nb_reserved_objects           equ 2
    177                  003B     nb_dynamic_objects            equ 59
    178                  0003     nb_level_objects              equ 3
    179                  003D     nb_objects                    equ (nb_res>>
    180
    181                           * --------------------------------------->>
    182                           * Object Status Table offsets
    183                           * --------------------------------------->>
    184
    185                  0050     object_size                   equ 80 ; th>>
    186                  0050     next_object                   equ object_>>
    187
    188                  0000     id                            equ 0      >>
    189                  0001     subtype                       equ 1      >>
    190                  0002     render_flags                  equ 2
    191
    192                           * --- render_flags bitfield variables --->>
    193                  0001     render_xmirror_mask           equ $01 ; (>>
    194                  0002     render_ymirror_mask           equ $02 ; (>>
    195                  0004     render_playfieldcoord_mask    equ $04 ; (>>
    196                  0008     render_hide_mask              equ $08 ; (>>
    197                  0010     render_fixedoverlay_mask      equ $10 ; (>>
    198                  0020     render_todelete_mask          equ $20 ; (>>
    199                  0040     render_free2_mask             equ $40 ; (>>
    200                  0080     render_free3_mask             equ $80 ; (>>
    201                            
    202                  0003     priority                      equ 3      >>
    203                  0004     anim                          equ 4  ; an>>
    204                  0006     prev_anim                     equ 6  ; an>>
    205                  0008     anim_frame                    equ 8      >>
    206                  0009     anim_frame_duration           equ 9      >>
    207                  000A     mapping_frame                 equ 10 ; an>>
    208                  000C     x_pos                         equ 12 ; an>>
    209                  000E     x_sub                         equ 14     >>
    210                  000F     y_pos                         equ 15 ; an>>
    211                  0011     y_sub                         equ 17     >>
    212                  0012     x_pixel                       equ 18     >>
    213                  0013     y_pixel                       equ 19     >>
    214                  0014     x_vel                         equ 20 ; an>>
    215                  0016     y_vel                         equ 22 ; an>>
    216                  0018     routine                       equ 24     >>
    217                  0019     routine_secondary             equ 25     >>
    218                  001A     status                        equ 26
    219
    220                           * --- status bitfield variables for objec>>
    221                  0001     status_x_orientation          equ   $01 ;>>
    222                  0002     status_y_orientation          equ   $02 ;>>
    223                  0004     status_bit2                   equ   $04 ;>>
    224                  0008     status_mainchar_standing      equ   $08 ;>>
    225                  0010     status_sidekick_standing      equ   $10 ;>>
    226                  0020     status_mainchar_pushing       equ   $20 ;>>
    227                  0040     status_sidekick_pushing       equ   $40 ;>>
    228                  0080     status_bit7                   equ   $80 ;>>
    229
    230                           * --- status bitfield variables for Main >>
    231                  0002     status_inair                  equ   $02 ;>>
    232                  0004     status_jumporroll             equ   $04 ;>>
    233                  0008     status_norgroundnorfall       equ   $08 ;>>
    234                  0010     status_jumpingafterrolling    equ   $10 ;>>
    235                  0020     status_pushing                equ   $20 ;>>
    236                  0040     status_underwater             equ   $40 ;>>
    237
    238                  001B     ext_variables                 equ 27 ; to>>
    239
    240                           * --------------------------------------->>
    241                           * reserved variables (engine)
    242
    243                  0029     rsv_render_flags              equ 41
    244
    245                           * --- rsv_render_flags bitfield variables>>
    246                  0001     rsv_render_checkrefresh_mask  equ $01 ; (>>
    247                  0002     rsv_render_erasesprite_mask   equ $02 ; (>>
    248                  0004     rsv_render_displaysprite_mask equ $04 ; (>>
    249                  0008     rsv_render_outofrange_mask    equ $08 ; (>>
    250
    251                  002A     rsv_prev_anim                 equ 42 ; an>>
    252                  002C     rsv_curr_mapping_frame        equ 44 ; an>>
    253                  002E     rsv_ptr_sub_object_erase      equ 46 ; an>>
    254                  0030     rsv_ptr_sub_object_draw       equ 48 ; an>>
    255                  0032     rsv_x2_pixel                  equ 50     >>
    256                  0033     rsv_y2_pixel                  equ 51     >>
    257
    258                           * --------------------------------------->>
    259                           * reserved variables (engine) - buffer sp>>
    260
    261                  0034     rsv_buffer_0                  equ 52 ; St>>
    262                  0034     rsv_priority_0                equ 52 ; in>>
    263                  0035     rsv_priority_prev_obj_0       equ 53 ; an>>
    264                  0037     rsv_priority_next_obj_0       equ 55 ; an>>
    265                  0039     rsv_prev_mapping_frame_0      equ 57 ; an>>
    266                  003B     rsv_bgdata_0                  equ 59 ; an>>
    267                  003D     rsv_prev_x_pixel_0            equ 61 ; pr>>
    268                  003E     rsv_prev_y_pixel_0            equ 62 ; pr>>
    269                  003F     rsv_prev_x2_pixel_0           equ 63 ; pr>>
    270                  0040     rsv_prev_y2_pixel_0           equ 64 ; pr>>
    271                  0041     rsv_onscreen_0                equ 65 ; ha>>
    272
    273                  0042     rsv_buffer_1                  equ 66 ; St>>
    274                  0042     rsv_priority_1                equ 66 ; in>>
    275                  0043     rsv_priority_prev_obj_1       equ 67 ; an>>
    276                  0045     rsv_priority_next_obj_1       equ 69 ; an>>
    277                  0047     rsv_prev_mapping_frame_1      equ 71 ; an>>
    278                  0049     rsv_bgdata_1                  equ 73 ; an>>
    279                  004B     rsv_prev_x_pixel_1            equ 75 ; pr>>
    280                  004C     rsv_prev_y_pixel_1            equ 76 ; pr>>
    281                  004D     rsv_prev_x2_pixel_1           equ 77 ; pr>>
    282                  004E     rsv_prev_y2_pixel_1           equ 78 ; pr>>
    283                  004F     rsv_onscreen_1                equ 79 ; ha>>
    284
    285                  0000     buf_priority                  equ 0  ; of>>
    286                  0001     buf_priority_prev_obj         equ 1  ;
    287                  0003     buf_priority_next_obj         equ 3  ;
    288                  0005     buf_prev_mapping_frame        equ 5  ;
    289                  0007     buf_bgdata                    equ 7  ;
    290                  0009     buf_prev_x_pixel              equ 9  ;
    291                  000A     buf_prev_y_pixel              equ 10 ;
    292                  000B     buf_prev_x2_pixel             equ 11 ;
    293                  000C     buf_prev_y2_pixel             equ 12 ;
    294                  000D     buf_onscreen                  equ 13 ;
    295
    296                                   INCLUD GLOBALS
    297                           * Generated Code
    298                  41C0     current_game_mode_data equ $41C0
    299                  0001     ObjID_TitleScreen equ 1
    300
    301
     35        A000                       org $A000
     36
     37                           * =======================================>>
     38                           * GameModeEngineLoader
     39                           * =======================================>>
     40
     41        A000               GameModeEngineLoader
     42
     43                           * Positionnement de la page 3 a l'ecran
     44                           *****************************************>>
     45        A000               WaitVBL
     46  7     A000 7D   E7E7             tst   $E7E7                    * >>
     47  3     A003 2A   FB               bpl   WaitVBL                  * >>
     48        A005               WaitVBL_01
     49  7     A005 7D   E7E7             tst   $E7E7                    * >>
     50  3     A008 2B   FB               bmi   WaitVBL_01               * >>
     51        A00A               SwapVideoPage
     52  2     A00A C6   C0               ldb   #$C0                     * >>
     53  5     A00C F7   E7DD             stb   $E7DD                    * >>
     54                            
     55                           * Positionnement de la page 2 en zone 000>>
     56                           *****************************************>>
     57  2     A00F C6   62               ldb   #$62                     * >>
     58  5     A011 F7   E7E6             stb   $E7E6                    * >>
     59                            
     60                           * Positionnement de la page 0a en zone 40>>
     61                           *****************************************>>
     62  5     A014 F6   E7C3             ldb   $E7C3                    * >>
     63  2     A017 C4   FE               andb  #$FE                     * >>
     64  5     A019 F7   E7C3             stb   $E7C3                    * >>
     65
     66                           * Copie en page 0a des donnees du mode a >>
     67                           * les groupes de 7 octets sont recopiees >>
     68                           * si on souhaite implanter le debut du mo>>
     69                           * il faut le charger en dernier (car ecra>>
     70                           * la fin des donnees est marquee par un o>>
     71                           *****************************************>>
     72  7     A01C 10FF A03D             sts   CopyCode3+2              ; >>
     73  6+1   A020 10EE 5E               lds   -2,u                     ; >>
     74  2     A023 86   FF               lda   #$FF                     ; >>
     75  5+1   A025 34   02               pshs  a                        ; >>
     76        A027               CopyData1
     77  5+7   A027 37   3E               pulu  d,x,y,dp                 ; >>
     78  5+7   A029 34   3E               pshs  d,x,y,dp                 ; >>
     79        A02B               CopyData2
     80  2     A02B 4D                    tsta                           ; >>
     81  3     A02C 2A   F9               bpl   CopyData1                ; >>
     82
     83                           * Copie en page 0a du code Game Mode Engi>>
     84                           * les groupes de 7 octets sont recopiees >>
     85                           * les donnees a l'avance on gagne un leas>>
     86                           *****************************************>>
     87  3     A02E CE   A042             ldu   #GameModeEngineBin       * >>
     88        A031               CopyCode1
     89  5+7   A031 37   3E               pulu  d,x,y,dp                 ; >>
     90  5+7   A033 34   3E               pshs  d,x,y,dp                 ; >>
     91        A035               CopyCode2
     92  5     A035 118C 4000             cmps  #$4000                   ; >>
     93  3     A039 26   F6               bne   CopyCode1                ; >>
     94        A03B               CopyCode3
     95  4     A03B 10CE 0000             lds   #0                       ; >>
     96                            
     97                           * Execution du Game Mode Engine en page 0>>
     98                           *****************************************>>
     99  4     A03F 7E   4000             jmp   $4000
    100
    101                           * =======================================>>
    102                           * GameModeEngine
    103                           * =======================================>>
    104        A042               GameModeEngineBin
    302                                   INCLUD GMENGINE
    303
    304        A042 40 20 98 00           fcb   $40,$20,$98,$00,$00,$00,$00>>
               A046 00 00 00
    305        A049 B7 E7 E5 BD           fcb   $B7,$E7,$E5,$BD,$40,$00,$35>>
               A04D 40 00 35
    306        A050 DB 33 C9 FF           fcb   $DB,$33,$C9,$FF,$00,$86,$00>>
               A054 00 86 00
    307        A057 DE 4F 11 83           fcb   $DE,$4F,$11,$83,$00,$00,$23>>
               A05B 00 00 23
    308        A05E 04 0F 4B 0C           fcb   $04,$0F,$4B,$0C,$49,$0C,$4F>>
               A062 49 0C 4F
    309        A065 0C 4B 96 4B           fcb   $0C,$4B,$96,$4B,$81,$4F,$23>>
               A069 81 4F 23
    310        A06C 10 23 10 86           fcb   $10,$23,$10,$86,$01,$97,$4C>>
               A070 01 97 4C
    311        A073 E8 2A 0C 4C           fcb   $E8,$2A,$0C,$4C,$96,$4C,$81>>
               A077 96 4C 81
    312        A07A 34 40 86 02           fcb   $34,$40,$86,$02,$97,$48,$BD>>
               A07E 97 48 BD
    313        A081 26 B7 41 AE           fcb   $26,$B7,$41,$AE,$F7,$41,$B1>>
               A085 F7 41 B1
    314        A088 00 97 4C F7           fcb   $00,$97,$4C,$F7,$41,$A8,$37>>
               A08C 41 A8 37
    315        A08F 07 10 FE 9F           fcb   $07,$10,$FE,$9F,$FF,$7E,$61>>
               A093 FF 7E 61
    316        A096 C6 00 DD 4F           fcb   $C6,$00,$DD,$4F,$EC,$C1,$2A>>
               A09A EC C1 2A
    317        A09D 80 97 49 86           fcb   $80,$97,$49,$86,$00,$DD,$4A>>
               A0A1 00 DD 4A
    318        A0A4 8B E6 C0 1D           fcb   $8B,$E6,$C0,$1D,$84,$01,$C4>>
               A0A8 84 01 C4
    319        A0AB 41 C7 34 40           fcb   $41,$C7,$34,$40,$86,$60,$1F>>
               A0AF 86 60 1F
    320        A0B2 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$CE>>
               A0B6 00 00 CE
    321        A0B9 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0BD 00 00 00
    322        A0C0 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0C4 00 00 00
    323        A0C7 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0CB 00 00 00
    324        A0CE 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0D2 00 00 00
    325        A0D5 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0D9 00 00 00
    326        A0DC 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0E0 00 00 00
    327        A0E3 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0E7 00 00 00
    328        A0EA 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0EE 00 00 00
    329        A0F1 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0F5 00 00 00
    330        A0F8 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A0FC 00 00 00
    331        A0FF 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A103 00 00 00
    332        A106 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A10A 00 00 00
    333        A10D 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A111 00 00 00
    334        A114 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A118 00 00 00
    335        A11B 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A11F 00 00 00
    336        A122 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A126 00 00 00
    337        A129 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A12D 00 00 00
    338        A130 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A134 00 00 00
    339        A137 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A13B 00 00 00
    340        A13E 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A142 00 00 00
    341        A145 00 00 00 00           fcb   $00,$00,$00,$00,$00,$00,$00>>
               A149 00 00 00
    342        A14C 04 10 30 20           fcb   $04,$10,$30,$20,$00,$00,$00>>
               A150 00 00 00
    343        A153 8D DC E3 01           fcb   $8D,$DC,$E3,$01,$39,$04,$02>>
               A157 39 04 02
    344        A15A 30 8D 00 0E           fcb   $30,$8D,$00,$0E,$3A,$58,$3A>>
               A15E 3A 58 3A
    345        A161 2A F6 97 8D           fcb   $2A,$F6,$97,$8D,$EC,$E1,$39>>
               A165 EC E1 39
    346        A168 27 FB 69 61           fcb   $27,$FB,$69,$61,$69,$E4,$5A>>
               A16C 69 E4 5A
    347        A16F 86 12 20 09           fcb   $86,$12,$20,$09,$A6,$C2,$46>>
               A173 A6 C2 46
    348        A176 FF E6 84 6F           fcb   $FF,$E6,$84,$6F,$E2,$6F,$E2>>
               A17A E2 6F E2
    349        A17D F4 20 B3 10           fcb   $F4,$20,$B3,$10,$AF,$66,$35>>
               A181 AF 66 35
    350        A184 12 34 A7 A4           fcb   $12,$34,$A7,$A4,$30,$1F,$26>>
               A188 30 1F 26
    351        A18B 77 35 10 31           fcb   $77,$35,$10,$31,$3F,$A6,$A9>>
               A18F 3F A6 A9
    352        A192 8D 1B EB 03           fcb   $8D,$1B,$EB,$03,$8D,$32,$DD>>
               A196 8D 32 DD
    353        A199 10 83 00 03           fcb   $10,$83,$00,$03,$24,$01,$3A>>
               A19D 24 01 3A
    354        A1A0 8D 44 34 06           fcb   $8D,$44,$34,$06,$30,$8C,$4B>>
               A1A4 30 8C 4B
    355        A1A7 A2 30 1F 26           fcb   $A2,$30,$1F,$26,$F8,$20,$D9>>
               A1AB F8 20 D9
    356        A1AE 8D 39 1F 01           fcb   $8D,$39,$1F,$01,$A6,$C2,$A7>>
               A1B2 A6 C2 A7
    357        A1B5 C1 10 27 37           fcb   $C1,$10,$27,$37,$25,$0F,$5A>>
               A1B9 25 0F 5A
    358        A1BC 5C 8D 46 27           fcb   $5C,$8D,$46,$27,$F9,$C6,$00>>
               A1C0 F9 C6 00
    359        A1C3 26 15 D7 45           fcb   $26,$15,$D7,$45,$8C,$0C,$45>>
               A1C7 8C 0C 45
    360        A1CA 10 AE 66 C6           fcb   $10,$AE,$66,$C6,$01,$8D,$50>>
               A1CE 01 8D 50
    361        A1D1 35 06 5C C1           fcb   $35,$06,$5C,$C1,$34,$26,$DC>>
               A1D5 34 26 DC
    362        A1D8 FA E6 E4 AF           fcb   $FA,$E6,$E4,$AF,$A1,$30,$8B>>
               A1DC A1 30 8B
    363        A1DF A0 53 69 E4           fcb   $A0,$53,$69,$E4,$49,$5C,$2B>>
               A1E3 49 5C 2B
    364        A1E6 00 01 C6 04           fcb   $00,$01,$C6,$04,$8D,$6D,$E7>>
               A1EA 8D 6D E7
    365        A1ED 34 06 C5 0F           fcb   $34,$06,$C5,$0F,$26,$03,$8E>>
               A1F1 26 03 8E
    366        A1F4 8D 00 A9 5F           fcb   $8D,$00,$A9,$5F,$D7,$8D,$4F>>
               A1F8 D7 8D 4F
    367        A1FB 34 7F 1F 50           fcb   $34,$7F,$1F,$50,$1F,$8B,$31>>
               A1FF 1F 8B 31
    368
    369                                   INCLUD GMEDATA
    370                           * Generated Code
    371
    372        A202               gm_TITLESCR
    373        A202 41C1                  fdb   current_game_mode_data+1
    374        A204 00 04 06 42           fcb   $00,$04,$06,$42,$05,$D9,$C3>>
               A208 05 D9 C3
    375        A20B 00 09 07 87           fcb   $00,$09,$07,$87,$05,$D8,$9D>>
               A20F 05 D8 9D
    376        A212 00 0F 06 64           fcb   $00,$0F,$06,$64,$05,$D3,$7A>>
               A216 05 D3 7A
    377        A219 01 04 06 41           fcb   $01,$04,$06,$41,$05,$D2,$87>>
               A21D 05 D2 87
    378        A220 01 09 06 65           fcb   $01,$09,$06,$65,$05,$CD,$AB>>
               A224 05 CD AB
    379        A227 01 0E 06 89           fcb   $01,$0E,$06,$89,$05,$CC,$AF>>
               A22B 05 CC AF
    380        A22E 02 03 06 94           fcb   $02,$03,$06,$94,$05,$C7,$BA>>
               A232 05 C7 BA
    381        A235 02 08 06 9F           fcb   $02,$08,$06,$9F,$05,$C6,$B9>>
               A239 05 C6 B9
    382        A23C 02 0D 07 23           fcb   $02,$0D,$07,$23,$05,$C0,$3D>>
               A240 05 C0 3D
    383        A243 03 03 08 A7           fcb   $03,$03,$08,$A7,$05,$BE,$88>>
               A247 05 BE 88
    384        A24A 03 0A 07 B2           fcb   $03,$0A,$07,$B2,$05,$B8,$93>>
               A24E 05 B8 93
    385        A251 03 10 07 BD           fcb   $03,$10,$07,$BD,$05,$B6,$E2>>
               A255 05 B6 E2
    386        A258 04 06 07 B6           fcb   $04,$06,$07,$B6,$06,$A5,$77>>
               A25C 06 A5 77
    387        A25F 04 0C 07 AF           fcb   $04,$0C,$07,$AF,$05,$B5,$3D>>
               A263 05 B5 3D
    388        A266 05 02 01 5F           fcb   $05,$02,$01,$5F,$05,$B4,$ED>>
               A26A 05 B4 ED
    389        A26D 05 02 01 0F           fcb   $05,$02,$01,$0F,$05,$B4,$B7>>
               A271 05 B4 B7
    390        A274 05 02 02 61           fcb   $05,$02,$02,$61,$05,$B4,$09>>
               A278 05 B4 09
    391        A27B 05 03 02 B3           fcb   $05,$03,$02,$B3,$05,$B3,$B4>>
               A27F 05 B3 B4
    392        A282 05 04 01 4A           fcb   $05,$04,$01,$4A,$05,$B3,$4B>>
               A286 05 B3 4B
    393        A289 05 04 02 E1           fcb   $05,$04,$02,$E1,$05,$B3,$0D>>
               A28D 05 B3 0D
    394        A290 05 05 02 DD           fcb   $05,$05,$02,$DD,$05,$B2,$09>>
               A294 05 B2 09
    395        A297 05 06 02 D9           fcb   $05,$06,$02,$D9,$05,$B1,$95>>
               A29B 05 B1 95
    396        A29E 05 07 05 8C           fcb   $05,$07,$05,$8C,$05,$AD,$48>>
               A2A2 05 AD 48
    397        A2A5 05 0B 05 3F           fcb   $05,$0B,$05,$3F,$05,$AC,$58>>
               A2A9 05 AC 58
    398        A2AC 05 0F 04 8B           fcb   $05,$0F,$04,$8B,$05,$A9,$A4>>
               A2B0 05 A9 A4
    399        A2B3 06 02 04 D7           fcb   $06,$02,$04,$D7,$05,$A8,$95>>
               A2B7 05 A8 95
    400        A2BA 06 05 05 58           fcb   $06,$05,$05,$58,$05,$A4,$16>>
               A2BE 05 A4 16
    401        A2C1 06 09 06 D9           fcb   $06,$09,$06,$D9,$05,$A3,$01>>
               A2C5 05 A3 01
    402        A2C8 06 0E 06 62           fcb   $06,$0E,$06,$62,$06,$A0,$00>>
               A2CC 06 A0 00
    403        A2CF 07 03 07 EB           fcb   $07,$03,$07,$EB,$05,$A1,$AD>>
               A2D3 05 A1 AD
    404        A2D6 07 09 02 BF           fcb   $07,$09,$02,$BF,$05,$A0,$81>>
               A2DA 05 A0 81
    405        A2DD 07 0A 02 93           fcb   $07,$0A,$02,$93,$05,$A0,$00>>
               A2E1 05 A0 00
    406        A2E4 FF                    fcb   $FF
    407        A2E5               gmboot * @globals
    107
    108

000000 Total Errors

000133 Total Symbols
     0x          Equ   0004 anim
     0x          Equ   0008 anim_frame
     0x          Equ   0009 anim_frame_duration
     0x          Equ   0001 bckdraw_routine
     0x          Equ   0007 buf_bgdata
     0x          Equ   000D buf_onscreen
     0x          Equ   0005 buf_prev_mapping_frame
     0x          Equ   000B buf_prev_x2_pixel
     0x          Equ   0009 buf_prev_x_pixel
     0x          Equ   000C buf_prev_y2_pixel
     0x          Equ   000A buf_prev_y_pixel
     0x          Equ   0000 buf_priority
     0x          Equ   0003 buf_priority_next_obj
     0x          Equ   0001 buf_priority_prev_obj
     1x          Label A031 CopyCode1
     0x          Label A035 CopyCode2
     1x          Label A03B CopyCode3
     1x          Label A027 CopyData1
     0x          Label A02B CopyData2
     1x          Equ   41C0 current_game_mode_data
     0x          Equ   604F dk_destination
     0x          Equ   6049 dk_lecteur
     0x          Equ   604A dk_piste
     0x          Equ   604B dk_pisteL
     0x          Equ   604C dk_secteur
     0x          Equ   0004 draw_routine
     0x          Equ   0009 erase_nb_cell
     0x          Equ   0007 erase_routine
     0x          Equ   001B ext_variables
     1x          Label A042 GameModeEngineBin
     0x          Label A000 GameModeEngineLoader
     0x          Label A2E5 gmboot
     0x          Label A202 gm_TITLESCR
     0x          Equ   0038 gravity
     0x          Equ   0000 id
     0x          Equ   0010 image_meta_size
     0x          Equ   000A image_x_offset
     0x          Equ   000E image_x_size
     0x          Equ   000C image_y_offset
     0x          Equ   000F image_y_size
     0x          Equ   000A mapping_frame
     1x          Equ   003B nb_dynamic_objects
     0x          Equ   0003 nb_level_objects
     0x          Equ   003D nb_objects
     0x          Equ   0008 nb_priority_levels
     1x          Equ   0002 nb_reserved_objects
     0x          Equ   0050 next_object
     1x          Equ   0050 object_size
     0x          Equ   0001 ObjID_TitleScreen
     0x          Equ   0000 page_bckdraw_routine
     0x          Equ   0003 page_draw_routine
     0x          Equ   0006 page_erase_routine
     0x          Equ   0006 prev_anim
     0x          Equ   0003 priority
     0x          Equ   0010 render_fixedoverlay_mask
     0x          Equ   0002 render_flags
     0x          Equ   0040 render_free2_mask
     0x          Equ   0080 render_free3_mask
     0x          Equ   0008 render_hide_mask
     0x          Equ   0004 render_playfieldcoord_mask
     0x          Equ   0020 render_todelete_mask
     0x          Equ   0001 render_xmirror_mask
     0x          Equ   0002 render_ymirror_mask
     0x          Equ   0018 routine
     0x          Equ   0019 routine_secondary
     0x          Equ   003B rsv_bgdata_0
     0x          Equ   0049 rsv_bgdata_1
     0x          Equ   0034 rsv_buffer_0
     0x          Equ   0042 rsv_buffer_1
     0x          Equ   002C rsv_curr_mapping_frame
     0x          Equ   0041 rsv_onscreen_0
     0x          Equ   004F rsv_onscreen_1
     0x          Equ   002A rsv_prev_anim
     0x          Equ   0039 rsv_prev_mapping_frame_0
     0x          Equ   0047 rsv_prev_mapping_frame_1
     0x          Equ   003F rsv_prev_x2_pixel_0
     0x          Equ   004D rsv_prev_x2_pixel_1
     0x          Equ   003D rsv_prev_x_pixel_0
     0x          Equ   004B rsv_prev_x_pixel_1
     0x          Equ   0040 rsv_prev_y2_pixel_0
     0x          Equ   004E rsv_prev_y2_pixel_1
     0x          Equ   003E rsv_prev_y_pixel_0
     0x          Equ   004C rsv_prev_y_pixel_1
     0x          Equ   0034 rsv_priority_0
     0x          Equ   0042 rsv_priority_1
     0x          Equ   0037 rsv_priority_next_obj_0
     0x          Equ   0045 rsv_priority_next_obj_1
     0x          Equ   0035 rsv_priority_prev_obj_0
     0x          Equ   0043 rsv_priority_prev_obj_1
     0x          Equ   0030 rsv_ptr_sub_object_draw
     0x          Equ   002E rsv_ptr_sub_object_erase
     0x          Equ   0001 rsv_render_checkrefresh_mask
     0x          Equ   0004 rsv_render_displaysprite_mask
     0x          Equ   0002 rsv_render_erasesprite_mask
     0x          Equ   0029 rsv_render_flags
     0x          Equ   0008 rsv_render_outofrange_mask
     0x          Equ   0032 rsv_x2_pixel
     0x          Equ   0033 rsv_y2_pixel
     0x          Equ   00C8 screen_height
     0x          Equ   00A0 screen_width
     0x          Equ   001A status
     0x          Equ   0004 status_bit2
     0x          Equ   0080 status_bit7
     0x          Equ   0002 status_inair
     0x          Equ   0010 status_jumpingafterrolling
     0x          Equ   0004 status_jumporroll
     0x          Equ   0020 status_mainchar_pushing
     0x          Equ   0008 status_mainchar_standing
     0x          Equ   0008 status_norgroundnorfall
     0x          Equ   0020 status_pushing
     0x          Equ   0040 status_sidekick_pushing
     0x          Equ   0010 status_sidekick_standing
     0x          Equ   0040 status_underwater
     0x          Equ   0001 status_x_orientation
     0x          Equ   0002 status_y_orientation
     0x          Equ   0001 subtype
     0x          Label A00A SwapVideoPage
     1x          Label A000 WaitVBL
     1x          Label A005 WaitVBL_01
     0x          Equ   0012 x_pixel
     0x          Equ   000C x_pos
     0x          Equ   000E x_sub
     0x          Equ   0014 x_vel
     0x          Equ   0013 y_pixel
     0x          Equ   000F y_pos
     0x          Equ   0011 y_sub
     0x          Equ   0016 y_vel
     0x          Equ   00FE _goBackNFrames
     0x          Equ   00FD _goToAnimation
     0x          Equ   00FC _nextRoutine
     0x          Equ   00FA _nextSubRoutine
     0x          Equ   00FF _resetAnim
     0x          Equ   00FB _resetAnimAndSubRoutine

